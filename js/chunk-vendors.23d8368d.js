(self["webpackChunkwavemakercards_v4"]=self["webpackChunkwavemakercards_v4"]||[]).push([[998],{2262:function(t,e,n){"use strict";n.d(e,{BK:function(){return Ft},Bj:function(){return o},EB:function(){return l},Fl:function(){return qt},IU:function(){return Ct},Jd:function(){return C},PG:function(){return xt},SU:function(){return Bt},Um:function(){return bt},WL:function(){return jt},X$:function(){return E},X3:function(){return St},XI:function(){return Nt},Xl:function(){return Ot},ZM:function(){return Ht},dq:function(){return Pt},iH:function(){return Dt},j:function(){return M},lk:function(){return O},nZ:function(){return a},qj:function(){return yt},qq:function(){return x},yT:function(){return kt}});var r=n(3577);let i;class o{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!t&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=i;try{return i=this,t()}finally{i=e}}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function s(t,e=i){e&&e.active&&e.effects.push(t)}function a(){return i}function l(t){i&&i.cleanups.push(t)}const c=t=>{const e=new Set(t);return e.w=0,e.n=0,e},u=t=>(t.w&g)>0,h=t=>(t.n&g)>0,d=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=g},p=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];u(i)&&!h(i)?i.delete(t):e[n++]=i,i.w&=~g,i.n&=~g}e.length=n}},f=new WeakMap;let m=0,g=1;const y=30;let b;const v=Symbol(""),w=Symbol("");class x{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let t=b,e=k;while(t){if(t===this)return;t=t.parent}try{return this.parent=b,b=this,k=!0,g=1<<++m,m<=y?d(this):_(this),this.fn()}finally{m<=y&&p(this),g=1<<--m,b=this.parent,k=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let k=!0;const S=[];function C(){S.push(k),k=!1}function O(){const t=S.pop();k=void 0===t||t}function M(t,e,n){if(k&&b){let e=f.get(t);e||f.set(t,e=new Map);let r=e.get(n);r||e.set(n,r=c());const i=void 0;T(r,i)}}function T(t,e){let n=!1;m<=y?h(t)||(t.n|=g,n=!u(t)):n=!t.has(b),n&&(t.add(b),b.deps.push(t))}function E(t,e,n,i,o,s){const a=f.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===n&&(0,r.kJ)(t)){const t=Number(i);a.forEach(((e,n)=>{("length"===n||!(0,r.yk)(n)&&n>=t)&&l.push(e)}))}else switch(void 0!==n&&l.push(a.get(n)),e){case"add":(0,r.kJ)(t)?(0,r.S0)(n)&&l.push(a.get("length")):(l.push(a.get(v)),(0,r._N)(t)&&l.push(a.get(w)));break;case"delete":(0,r.kJ)(t)||(l.push(a.get(v)),(0,r._N)(t)&&l.push(a.get(w)));break;case"set":(0,r._N)(t)&&l.push(a.get(v));break}if(1===l.length)l[0]&&A(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);A(c(t))}}function A(t,e){const n=(0,r.kJ)(t)?t:[...t];for(const r of n)r.computed&&P(r,e);for(const r of n)r.computed||P(r,e)}function P(t,e){(t!==b||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function D(t,e){var n;return null==(n=f.get(t))?void 0:n.get(e)}const N=(0,r.fY)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(r.yk)),L=B();function B(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Ct(this);for(let e=0,i=this.length;e<i;e++)M(n,"get",e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(Ct)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){C();const n=Ct(this)[e].apply(this,t);return O(),n}})),t}function R(t){const e=Ct(this);return M(e,"has",t),e.hasOwnProperty(t)}class j{constructor(t=!1,e=!1){this._isReadonly=t,this._shallow=e}get(t,e,n){const i=this._isReadonly,o=this._shallow;if("__v_isReactive"===e)return!i;if("__v_isReadonly"===e)return i;if("__v_isShallow"===e)return o;if("__v_raw"===e&&n===(i?o?ft:pt:o?dt:ht).get(t))return t;const s=(0,r.kJ)(t);if(!i){if(s&&(0,r.RI)(L,e))return Reflect.get(L,e,n);if("hasOwnProperty"===e)return R}const a=Reflect.get(t,e,n);return((0,r.yk)(e)?I.has(e):N(e))?a:(i||M(t,"get",e),o?a:Pt(a)?s&&(0,r.S0)(e)?a:a.value:(0,r.Kn)(a)?i?vt(a):yt(a):a)}}class z extends j{constructor(t=!1){super(!1,t)}set(t,e,n,i){let o=t[e];if(_t(o)&&Pt(o)&&!Pt(n))return!1;if(!this._shallow&&(kt(n)||_t(n)||(o=Ct(o),n=Ct(n)),!(0,r.kJ)(t)&&Pt(o)&&!Pt(n)))return o.value=n,!0;const s=(0,r.kJ)(t)&&(0,r.S0)(e)?Number(e)<t.length:(0,r.RI)(t,e),a=Reflect.set(t,e,n,i);return t===Ct(i)&&(s?(0,r.aU)(n,o)&&E(t,"set",e,n,o):E(t,"add",e,n)),a}deleteProperty(t,e){const n=(0,r.RI)(t,e),i=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&E(t,"delete",e,void 0,i),o}has(t,e){const n=Reflect.has(t,e);return(0,r.yk)(e)&&I.has(e)||M(t,"has",e),n}ownKeys(t){return M(t,"iterate",(0,r.kJ)(t)?"length":v),Reflect.ownKeys(t)}}class H extends j{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const F=new z,$=new H,V=new z(!0),W=t=>t,q=t=>Reflect.getPrototypeOf(t);function U(t,e,n=!1,i=!1){t=t["__v_raw"];const o=Ct(t),s=Ct(e);n||((0,r.aU)(e,s)&&M(o,"get",e),M(o,"get",s));const{has:a}=q(o),l=i?W:n?Tt:Mt;return a.call(o,e)?l(t.get(e)):a.call(o,s)?l(t.get(s)):void(t!==o&&t.get(e))}function K(t,e=!1){const n=this["__v_raw"],i=Ct(n),o=Ct(t);return e||((0,r.aU)(t,o)&&M(i,"has",t),M(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function Y(t,e=!1){return t=t["__v_raw"],!e&&M(Ct(t),"iterate",v),Reflect.get(t,"size",t)}function J(t){t=Ct(t);const e=Ct(this),n=q(e),r=n.has.call(e,t);return r||(e.add(t),E(e,"add",t,t)),this}function G(t,e){e=Ct(e);const n=Ct(this),{has:i,get:o}=q(n);let s=i.call(n,t);s||(t=Ct(t),s=i.call(n,t));const a=o.call(n,t);return n.set(t,e),s?(0,r.aU)(e,a)&&E(n,"set",t,e,a):E(n,"add",t,e),this}function X(t){const e=Ct(this),{has:n,get:r}=q(e);let i=n.call(e,t);i||(t=Ct(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,s=e.delete(t);return i&&E(e,"delete",t,void 0,o),s}function Z(){const t=Ct(this),e=0!==t.size,n=void 0,r=t.clear();return e&&E(t,"clear",void 0,void 0,n),r}function Q(t,e){return function(n,r){const i=this,o=i["__v_raw"],s=Ct(o),a=e?W:t?Tt:Mt;return!t&&M(s,"iterate",v),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function tt(t,e,n){return function(...i){const o=this["__v_raw"],s=Ct(o),a=(0,r._N)(s),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=o[t](...i),h=n?W:e?Tt:Mt;return!e&&M(s,"iterate",c?w:v),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function et(t){return function(...e){return"delete"!==t&&this}}function nt(){const t={get(t){return U(this,t)},get size(){return Y(this)},has:K,add:J,set:G,delete:X,clear:Z,forEach:Q(!1,!1)},e={get(t){return U(this,t,!1,!0)},get size(){return Y(this)},has:K,add:J,set:G,delete:X,clear:Z,forEach:Q(!1,!0)},n={get(t){return U(this,t,!0)},get size(){return Y(this,!0)},has(t){return K.call(this,t,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:Q(!0,!1)},r={get(t){return U(this,t,!0,!0)},get size(){return Y(this,!0)},has(t){return K.call(this,t,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:Q(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=tt(i,!1,!1),n[i]=tt(i,!0,!1),e[i]=tt(i,!1,!0),r[i]=tt(i,!0,!0)})),[t,n,e,r]}const[rt,it,ot,st]=nt();function at(t,e){const n=e?t?st:ot:t?it:rt;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,r.RI)(n,i)&&i in e?n:e,i,o)}const lt={get:at(!1,!1)},ct={get:at(!1,!0)},ut={get:at(!0,!1)};const ht=new WeakMap,dt=new WeakMap,pt=new WeakMap,ft=new WeakMap;function mt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:mt((0,r.W7)(t))}function yt(t){return _t(t)?t:wt(t,!1,F,lt,ht)}function bt(t){return wt(t,!1,V,ct,dt)}function vt(t){return wt(t,!0,$,ut,pt)}function wt(t,e,n,i,o){if(!(0,r.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=o.get(t);if(s)return s;const a=gt(t);if(0===a)return t;const l=new Proxy(t,2===a?i:n);return o.set(t,l),l}function xt(t){return _t(t)?xt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function _t(t){return!(!t||!t["__v_isReadonly"])}function kt(t){return!(!t||!t["__v_isShallow"])}function St(t){return xt(t)||_t(t)}function Ct(t){const e=t&&t["__v_raw"];return e?Ct(e):t}function Ot(t){return(0,r.Nj)(t,"__v_skip",!0),t}const Mt=t=>(0,r.Kn)(t)?yt(t):t,Tt=t=>(0,r.Kn)(t)?vt(t):t;function Et(t){k&&b&&(t=Ct(t),T(t.dep||(t.dep=c())))}function At(t,e){t=Ct(t);const n=t.dep;n&&A(n)}function Pt(t){return!(!t||!0!==t.__v_isRef)}function Dt(t){return It(t,!1)}function Nt(t){return It(t,!0)}function It(t,e){return Pt(t)?t:new Lt(t,e)}class Lt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ct(t),this._value=e?t:Mt(t)}get value(){return Et(this),this._value}set value(t){const e=this.__v_isShallow||kt(t)||_t(t);t=e?t:Ct(t),(0,r.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Mt(t),At(this,t))}}function Bt(t){return Pt(t)?t.value:t}const Rt={get:(t,e,n)=>Bt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Pt(i)&&!Pt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function jt(t){return xt(t)?t:new Proxy(t,Rt)}class zt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:n}=t((()=>Et(this)),(()=>At(this)));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Ht(t){return new zt(t)}function Ft(t){const e=(0,r.kJ)(t)?new Array(t.length):{};for(const n in t)e[n]=Vt(t,n);return e}class $t{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return D(Ct(this._object),this._key)}}function Vt(t,e,n){const r=t[e];return Pt(r)?r:new $t(t,e,n)}class Wt{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new x(t,(()=>{this._dirty||(this._dirty=!0,At(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const t=Ct(this);return Et(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function qt(t,e,n=!1){let i,o;const s=(0,r.mf)(t);s?(i=t,o=r.dG):(i=t.get,o=t.set);const a=new Wt(i,o,s||!o,n);return a}},6252:function(t,e,n){"use strict";n.d(e,{$d:function(){return s},Cn:function(){return B},FN:function(){return Dn},HY:function(){return Ge},Jd:function(){return Lt},Ko:function(){return Ft},P$:function(){return dt},Q6:function(){return bt},U2:function(){return ft},Uk:function(){return wn},Us:function(){return Le},WI:function(){return $t},Wm:function(){return gn},Y3:function(){return b},Y8:function(){return lt},YP:function(){return Q},_:function(){return mn},aZ:function(){return vt},bv:function(){return Dt},dD:function(){return L},dG:function(){return On},h:function(){return Zn},iD:function(){return ln},ic:function(){return It},j4:function(){return cn},kq:function(){return _n},lR:function(){return Ye},m0:function(){return X},nJ:function(){return ut},nK:function(){return yt},uE:function(){return xn},up:function(){return q},w5:function(){return R},wg:function(){return nn},wy:function(){return it}});var r=n(2262),i=n(3577);function o(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){a(o,e,n)}return i}function s(t,e,n,r){if((0,i.mf)(t)){const s=o(t,e,n,r);return s&&(0,i.tI)(s)&&s.catch((t=>{a(t,e,n)})),s}const l=[];for(let i=0;i<t.length;i++)l.push(s(t[i],e,n,r));return l}function a(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,s=n;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,s))return;r=r.parent}const a=e.appContext.config.errorHandler;if(a)return void o(a,null,10,[t,i,s])}l(t,n,i,r)}function l(t,e,n,r=!0){console.error(t)}let c=!1,u=!1;const h=[];let d=0;const p=[];let f=null,m=0;const g=Promise.resolve();let y=null;function b(t){const e=y||g;return t?e.then(this?t.bind(this):t):e}function v(t){let e=d+1,n=h.length;while(e<n){const r=e+n>>>1,i=h[r],o=O(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function w(t){h.length&&h.includes(t,c&&t.allowRecurse?d+1:d)||(null==t.id?h.push(t):h.splice(v(t.id),0,t),x())}function x(){c||u||(u=!0,y=g.then(T))}function _(t){const e=h.indexOf(t);e>d&&h.splice(e,1)}function k(t){(0,i.kJ)(t)?p.push(...t):f&&f.includes(t,t.allowRecurse?m+1:m)||p.push(t),x()}function S(t,e=(c?d+1:0)){for(0;e<h.length;e++){const t=h[e];t&&t.pre&&(h.splice(e,1),e--,t())}}function C(t){if(p.length){const t=[...new Set(p)];if(p.length=0,f)return void f.push(...t);for(f=t,f.sort(((t,e)=>O(t)-O(e))),m=0;m<f.length;m++)f[m]();f=null,m=0}}const O=t=>null==t.id?1/0:t.id,M=(t,e)=>{const n=O(t)-O(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function T(t){u=!1,c=!0,h.sort(M);i.dG;try{for(d=0;d<h.length;d++){const t=h[d];t&&!1!==t.active&&o(t,null,14)}}finally{d=0,h.length=0,C(t),c=!1,y=null,(h.length||p.length)&&T(t)}}function E(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||i.kT;let o=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in r){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:s}=r[t]||i.kT;s&&(o=n.map((t=>(0,i.HD)(t)?t.trim():t))),e&&(o=n.map(i.h5))}let c;let u=r[c=(0,i.hR)(e)]||r[c=(0,i.hR)((0,i._A)(e))];!u&&a&&(u=r[c=(0,i.hR)((0,i.rs)(e))]),u&&s(u,t,6,o);const h=r[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,s(h,t,6,o)}}function A(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(void 0!==o)return o;const s=t.emits;let a={},l=!1;if(!(0,i.mf)(t)){const r=t=>{const n=A(t,e,!0);n&&(l=!0,(0,i.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return s||l?((0,i.kJ)(s)?s.forEach((t=>a[t]=null)):(0,i.l7)(a,s),(0,i.Kn)(t)&&r.set(t,a),a):((0,i.Kn)(t)&&r.set(t,null),null)}function P(t,e){return!(!t||!(0,i.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,i.RI)(t,(0,i.rs)(e))||(0,i.RI)(t,e))}let D=null,N=null;function I(t){const e=D;return D=t,N=t&&t.type.__scopeId||null,e}function L(t){N=t}function B(){N=null}function R(t,e=D,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&sn(-1);const i=I(e);let o;try{o=t(...n)}finally{I(i),r._d&&sn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function j(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:y}=t;let b,v;const w=I(t);try{if(4&n.shapeFlag){const t=o||r;b=kn(d.call(t,t,p,s,m,f,g)),v=u}else{const t=e;0,b=kn(t.length>1?t(s,{attrs:u,slots:c,emit:h}):t(s,null)),v=e.props?u:z(u)}}catch(_){tn.length=0,a(_,t,1),b=gn(Ze)}let x=b;if(v&&!1!==y){const t=Object.keys(v),{shapeFlag:e}=x;t.length&&7&e&&(l&&t.some(i.tR)&&(v=H(v,l)),x=vn(x,v))}return n.dirs&&(x=vn(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),b=x,I(w),b}const z=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.F7)(n))&&((e||(e={}))[n]=t[n]);return e},H=(t,e)=>{const n={};for(const r in t)(0,i.tR)(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function F(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||$(r,s,c):!!s);if(1024&l)return!0;if(16&l)return r?$(r,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!P(c,n))return!0}}return!1}function $(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!P(n,o))return!0}return!1}function V({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const W="components";function q(t,e){return K(W,t,!0,e)||t}const U=Symbol.for("v-ndc");function K(t,e,n=!0,r=!1){const o=D||Pn;if(o){const n=o.type;if(t===W){const t=Jn(n,!1);if(t&&(t===e||t===(0,i._A)(e)||t===(0,i.kC)((0,i._A)(e))))return n}const s=Y(o[t]||n[t],e)||Y(o.appContext[t],e);return!s&&r?n:s}}function Y(t,e){return t&&(t[e]||t[(0,i._A)(e)]||t[(0,i.kC)((0,i._A)(e))])}const J=t=>t.__isSuspense;function G(t,e){e&&e.pendingBranch?(0,i.kJ)(t)?e.effects.push(...t):e.effects.push(t):k(t)}function X(t,e){return tt(t,null,e)}const Z={};function Q(t,e,n){return tt(t,e,n)}function tt(t,e,{immediate:n,deep:a,flush:l,onTrack:c,onTrigger:u}=i.kT){var h;const d=(0,r.nZ)()===(null==(h=Pn)?void 0:h.scope)?Pn:null;let p,f,m=!1,g=!1;if((0,r.dq)(t)?(p=()=>t.value,m=(0,r.yT)(t)):(0,r.PG)(t)?(p=()=>t,a=!0):(0,i.kJ)(t)?(g=!0,m=t.some((t=>(0,r.PG)(t)||(0,r.yT)(t))),p=()=>t.map((t=>(0,r.dq)(t)?t.value:(0,r.PG)(t)?rt(t):(0,i.mf)(t)?o(t,d,2):void 0))):p=(0,i.mf)(t)?e?()=>o(t,d,2):()=>{if(!d||!d.isUnmounted)return f&&f(),s(t,d,3,[b])}:i.dG,e&&a){const t=p;p=()=>rt(t())}let y,b=t=>{f=k.onStop=()=>{o(t,d,4)}};if(Fn){if(b=i.dG,e?n&&s(e,d,3,[p(),g?[]:void 0,b]):p(),"sync"!==l)return i.dG;{const t=tr();y=t.__watcherHandles||(t.__watcherHandles=[])}}let v=g?new Array(t.length).fill(Z):Z;const x=()=>{if(k.active)if(e){const t=k.run();(a||m||(g?t.some(((t,e)=>(0,i.aU)(t,v[e]))):(0,i.aU)(t,v)))&&(f&&f(),s(e,d,3,[t,v===Z?void 0:g&&v[0]===Z?[]:v,b]),v=t)}else k.run()};let _;x.allowRecurse=!!e,"sync"===l?_=x:"post"===l?_=()=>Ie(x,d&&d.suspense):(x.pre=!0,d&&(x.id=d.uid),_=()=>w(x));const k=new r.qq(p,_);e?n?x():v=k.run():"post"===l?Ie(k.run.bind(k),d&&d.suspense):k.run();const S=()=>{k.stop(),d&&d.scope&&(0,i.Od)(d.scope.effects,k)};return y&&y.push(S),S}function et(t,e,n){const r=this.proxy,o=(0,i.HD)(t)?t.includes(".")?nt(r,t):()=>r[t]:t.bind(r,r);let s;(0,i.mf)(e)?s=e:(s=e.handler,n=e);const a=Pn;Bn(this);const l=tt(o,s.bind(r),n);return a?Bn(a):Rn(),l}function nt(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function rt(t,e){if(!(0,i.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,r.dq)(t))rt(t.value,e);else if((0,i.kJ)(t))for(let n=0;n<t.length;n++)rt(t[n],e);else if((0,i.DM)(t)||(0,i._N)(t))t.forEach((t=>{rt(t,e)}));else if((0,i.PO)(t))for(const n in t)rt(t[n],e);return t}function it(t,e){const n=D;if(null===n)return t;const r=Yn(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[t,n,a,l=i.kT]=e[s];t&&((0,i.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&rt(n),o.push({dir:t,instance:r,value:n,oldValue:void 0,arg:a,modifiers:l}))}return t}function ot(t,e,n,i){const o=t.dirs,a=e&&e.dirs;for(let l=0;l<o.length;l++){const c=o[l];a&&(c.oldValue=a[l].value);let u=c.dir[i];u&&((0,r.Jd)(),s(u,n,8,[t.el,c,t,e]),(0,r.lk)())}}const st=Symbol("_leaveCb"),at=Symbol("_enterCb");function lt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Dt((()=>{t.isMounted=!0})),Lt((()=>{t.isUnmounting=!0})),t}const ct=[Function,Array],ut={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ct,onEnter:ct,onAfterEnter:ct,onEnterCancelled:ct,onBeforeLeave:ct,onLeave:ct,onAfterLeave:ct,onLeaveCancelled:ct,onBeforeAppear:ct,onAppear:ct,onAfterAppear:ct,onAppearCancelled:ct},ht={name:"BaseTransition",props:ut,setup(t,{slots:e}){const n=Dn(),i=lt();let o;return()=>{const s=e.default&&bt(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let t=!1;for(const e of s)if(e.type!==Ze){0,a=e,t=!0;break}}const l=(0,r.IU)(t),{mode:c}=l;if(i.isLeaving)return mt(a);const u=gt(a);if(!u)return mt(a);const h=ft(u,l,i,n);yt(u,h);const d=n.subTree,p=d&&gt(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const t=m();void 0===o?o=t:t!==o&&(o=t,f=!0)}if(p&&p.type!==Ze&&(!hn(u,p)||f)){const t=ft(p,l,i,n);if(yt(p,t),"out-in"===c)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&n.update()},mt(a);"in-out"===c&&u.type!==Ze&&(t.delayLeave=(t,e,n)=>{const r=pt(i,p);r[String(p.key)]=p,t[st]=()=>{e(),t[st]=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},dt=ht;function pt(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ft(t,e,n,r){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:b,onAfterAppear:v,onAppearCancelled:w}=e,x=String(t.key),_=pt(n,t),k=(t,e)=>{t&&s(t,r,9,e)},S=(t,e)=>{const n=e[1];k(t,e),(0,i.kJ)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},C={mode:a,persisted:l,beforeEnter(e){let r=c;if(!n.isMounted){if(!o)return;r=y||c}e[st]&&e[st](!0);const i=_[x];i&&hn(t,i)&&i.el[st]&&i.el[st](),k(r,[e])},enter(t){let e=u,r=h,i=d;if(!n.isMounted){if(!o)return;e=b||u,r=v||h,i=w||d}let s=!1;const a=t[at]=e=>{s||(s=!0,k(e?i:r,[t]),C.delayedLeave&&C.delayedLeave(),t[at]=void 0)};e?S(e,[t,a]):a()},leave(e,r){const i=String(t.key);if(e[at]&&e[at](!0),n.isUnmounting)return r();k(p,[e]);let o=!1;const s=e[st]=n=>{o||(o=!0,r(),k(n?g:m,[e]),e[st]=void 0,_[i]===t&&delete _[i])};_[i]=t,f?S(f,[e,s]):s()},clone(t){return ft(t,e,n,r)}};return C}function mt(t){if(xt(t))return t=vn(t),t.children=null,t}function gt(t){return xt(t)?t.children?t.children[0]:void 0:t}function yt(t,e){6&t.shapeFlag&&t.component?yt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bt(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===Ge?(128&s.patchFlag&&i++,r=r.concat(bt(s.children,e,a))):(e||s.type!==Ze)&&r.push(null!=a?vn(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function vt(t,e){return(0,i.mf)(t)?(()=>(0,i.l7)({name:t.name},e,{setup:t}))():t}const wt=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const xt=t=>t.type.__isKeepAlive;RegExp,RegExp;function _t(t,e){return(0,i.kJ)(t)?t.some((t=>_t(t,e))):(0,i.HD)(t)?t.split(",").includes(e):!!(0,i.Kj)(t)&&t.test(e)}function kt(t,e){Ct(t,"a",e)}function St(t,e){Ct(t,"da",e)}function Ct(t,e,n=Pn){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Et(e,r,n),n){let t=n.parent;while(t&&t.parent)xt(t.parent.vnode)&&Ot(r,e,n,t),t=t.parent}}function Ot(t,e,n,r){const o=Et(e,t,r,!0);Bt((()=>{(0,i.Od)(r[e],o)}),n)}function Mt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Tt(t){return 128&t.shapeFlag?t.ssContent:t}function Et(t,e,n=Pn,i=!1){if(n){const o=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),Bn(n);const o=s(e,n,t,i);return Rn(),(0,r.lk)(),o});return i?o.unshift(a):o.push(a),a}}const At=t=>(e,n=Pn)=>(!Fn||"sp"===t)&&Et(t,((...t)=>e(...t)),n),Pt=At("bm"),Dt=At("m"),Nt=At("bu"),It=At("u"),Lt=At("bum"),Bt=At("um"),Rt=At("sp"),jt=At("rtg"),zt=At("rtc");function Ht(t,e=Pn){Et("ec",t,e)}function Ft(t,e,n,r){let o;const s=n&&n[r];if((0,i.kJ)(t)||(0,i.HD)(t)){o=new Array(t.length);for(let n=0,r=t.length;n<r;n++)o[n]=e(t[n],n,void 0,s&&s[n])}else if("number"===typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,s&&s[n])}else if((0,i.Kn)(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,s&&s[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=e(t[i],i,r,s&&s[r])}}else o=[];return n&&(n[r]=o),o}function $t(t,e,n={},r,i){if(D.isCE||D.parent&&wt(D.parent)&&D.parent.isCE)return"default"!==e&&(n.name=e),gn("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),nn();const s=o&&Vt(o(n)),a=cn(Ge,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Vt(t){return t.some((t=>!un(t)||t.type!==Ze&&!(t.type===Ge&&!Vt(t.children))))?t:null}const Wt=t=>t?jn(t)?Yn(t)||t.proxy:Wt(t.parent):null,qt=(0,i.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wt(t.parent),$root:t=>Wt(t.root),$emit:t=>t.emit,$options:t=>te(t),$forceUpdate:t=>t.f||(t.f=()=>w(t.update)),$nextTick:t=>t.n||(t.n=b.bind(t.proxy)),$watch:t=>et.bind(t)}),Ut=(t,e)=>t!==i.kT&&!t.__isScriptSetup&&(0,i.RI)(t,e),Kt={get({_:t},e){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:u}=t;let h;if("$"!==e[0]){const r=l[e];if(void 0!==r)switch(r){case 1:return o[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(Ut(o,e))return l[e]=1,o[e];if(s!==i.kT&&(0,i.RI)(s,e))return l[e]=2,s[e];if((h=t.propsOptions[0])&&(0,i.RI)(h,e))return l[e]=3,a[e];if(n!==i.kT&&(0,i.RI)(n,e))return l[e]=4,n[e];Jt&&(l[e]=0)}}const d=qt[e];let p,f;return d?("$attrs"===e&&(0,r.j)(t,"get",e),d(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==i.kT&&(0,i.RI)(n,e)?(l[e]=4,n[e]):(f=u.config.globalProperties,(0,i.RI)(f,e)?f[e]:void 0)},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return Ut(o,e)?(o[e]=n,!0):r!==i.kT&&(0,i.RI)(r,e)?(r[e]=n,!0):!(0,i.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||t!==i.kT&&(0,i.RI)(t,a)||Ut(e,a)||(l=s[0])&&(0,i.RI)(l,a)||(0,i.RI)(r,a)||(0,i.RI)(qt,a)||(0,i.RI)(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,i.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Yt(t){return(0,i.kJ)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Jt=!0;function Gt(t){const e=te(t),n=t.proxy,o=t.ctx;Jt=!1,e.beforeCreate&&Zt(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:y,deactivated:b,beforeDestroy:v,beforeUnmount:w,destroyed:x,unmounted:_,render:k,renderTracked:S,renderTriggered:C,errorCaptured:O,serverPrefetch:M,expose:T,inheritAttrs:E,components:A,directives:P,filters:D}=e,N=null;if(h&&Xt(h,o,N),l)for(const r in l){const t=l[r];(0,i.mf)(t)&&(o[r]=t.bind(n))}if(s){0;const e=s.call(n,n);0,(0,i.Kn)(e)&&(t.data=(0,r.qj)(e))}if(Jt=!0,a)for(const r in a){const t=a[r],e=(0,i.mf)(t)?t.bind(n,n):(0,i.mf)(t.get)?t.get.bind(n,n):i.dG;0;const s=!(0,i.mf)(t)&&(0,i.mf)(t.set)?t.set.bind(n):i.dG,l=Xn({get:e,set:s});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const r in c)Qt(c[r],o,n,r);if(u){const t=(0,i.mf)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{fe(e,t[e])}))}function I(t,e){(0,i.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&Zt(d,t,"c"),I(Pt,p),I(Dt,f),I(Nt,m),I(It,g),I(kt,y),I(St,b),I(Ht,O),I(zt,S),I(jt,C),I(Lt,w),I(Bt,_),I(Rt,M),(0,i.kJ)(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});k&&t.render===i.dG&&(t.render=k),null!=E&&(t.inheritAttrs=E),A&&(t.components=A),P&&(t.directives=P)}function Xt(t,e,n=i.dG){(0,i.kJ)(t)&&(t=oe(t));for(const o in t){const n=t[o];let s;s=(0,i.Kn)(n)?"default"in n?me(n.from||o,n.default,!0):me(n.from||o):me(n),(0,r.dq)(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[o]=s}}function Zt(t,e,n){s((0,i.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Qt(t,e,n,r){const o=r.includes(".")?nt(n,r):()=>n[r];if((0,i.HD)(t)){const n=e[t];(0,i.mf)(n)&&Q(o,n)}else if((0,i.mf)(t))Q(o,t.bind(n));else if((0,i.Kn)(t))if((0,i.kJ)(t))t.forEach((t=>Qt(t,e,n,r)));else{const r=(0,i.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.mf)(r)&&Q(o,r,t)}else 0}function te(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let c;return l?c=l:o.length||n||r?(c={},o.length&&o.forEach((t=>ee(c,t,a,!0))),ee(c,e,a)):c=e,(0,i.Kn)(e)&&s.set(e,c),c}function ee(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&ee(t,o,n,!0),i&&i.forEach((e=>ee(t,e,n,!0)));for(const s in e)if(r&&"expose"===s);else{const r=ne[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const ne={data:re,props:le,emits:le,methods:ae,computed:ae,beforeCreate:se,created:se,beforeMount:se,mounted:se,beforeUpdate:se,updated:se,beforeDestroy:se,beforeUnmount:se,destroyed:se,unmounted:se,activated:se,deactivated:se,errorCaptured:se,serverPrefetch:se,components:ae,directives:ae,watch:ce,provide:re,inject:ie};function re(t,e){return e?t?function(){return(0,i.l7)((0,i.mf)(t)?t.call(this,this):t,(0,i.mf)(e)?e.call(this,this):e)}:e:t}function ie(t,e){return ae(oe(t),oe(e))}function oe(t){if((0,i.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function se(t,e){return t?[...new Set([].concat(t,e))]:e}function ae(t,e){return t?(0,i.l7)(Object.create(null),t,e):e}function le(t,e){return t?(0,i.kJ)(t)&&(0,i.kJ)(e)?[...new Set([...t,...e])]:(0,i.l7)(Object.create(null),Yt(t),Yt(null!=e?e:{})):e}function ce(t,e){if(!t)return e;if(!e)return t;const n=(0,i.l7)(Object.create(null),t);for(const r in e)n[r]=se(t[r],e[r]);return n}function ue(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let he=0;function de(t,e){return function(n,r=null){(0,i.mf)(n)||(n=(0,i.l7)({},n)),null==r||(0,i.Kn)(r)||(r=null);const o=ue();const s=new WeakSet;let a=!1;const l=o.app={_uid:he++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:er,get config(){return o.config},set config(t){0},use(t,...e){return s.has(t)||(t&&(0,i.mf)(t.install)?(s.add(t),t.install(l,...e)):(0,i.mf)(t)&&(s.add(t),t(l,...e))),l},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),l},component(t,e){return e?(o.components[t]=e,l):o.components[t]},directive(t,e){return e?(o.directives[t]=e,l):o.directives[t]},mount(i,s,c){if(!a){0;const u=gn(n,r);return u.appContext=o,s&&e?e(u,i):t(u,i,c),a=!0,l._container=i,i.__vue_app__=l,Yn(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return o.provides[t]=e,l},runWithContext(t){pe=l;try{return t()}finally{pe=null}}};return l}}let pe=null;function fe(t,e){if(Pn){let n=Pn.provides;const r=Pn.parent&&Pn.parent.provides;r===n&&(n=Pn.provides=Object.create(r)),n[t]=e}else 0}function me(t,e,n=!1){const r=Pn||D;if(r||pe){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:pe._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&(0,i.mf)(e)?e.call(r&&r.proxy):e}else 0}function ge(t,e,n,o=!1){const s={},a={};(0,i.Nj)(a,dn,1),t.propsDefaults=Object.create(null),be(t,e,s,a);for(const r in t.propsOptions[0])r in s||(s[r]=void 0);n?t.props=o?s:(0,r.Um)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function ye(t,e,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=(0,r.IU)(s),[u]=t.propsOptions;let h=!1;if(!(o||l>0)||16&l){let r;be(t,e,s,a)&&(h=!0);for(const o in c)e&&((0,i.RI)(e,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(s[o]=ve(u,c,o,void 0,t,!0)):delete s[o]);if(a!==c)for(const t in a)e&&(0,i.RI)(e,t)||(delete a[t],h=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(P(t.emitsOptions,o))continue;const l=e[o];if(u)if((0,i.RI)(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const e=(0,i._A)(o);s[e]=ve(u,c,e,l,t,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&(0,r.X$)(t,"set","$attrs")}function be(t,e,n,o){const[s,a]=t.propsOptions;let l,c=!1;if(e)for(let r in e){if((0,i.Gg)(r))continue;const u=e[r];let h;s&&(0,i.RI)(s,h=(0,i._A)(r))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:P(t.emitsOptions,r)||r in o&&u===o[r]||(o[r]=u,c=!0)}if(a){const e=(0,r.IU)(n),o=l||i.kT;for(let r=0;r<a.length;r++){const l=a[r];n[l]=ve(s,e,l,o[l],t,!(0,i.RI)(o,l))}}return c}function ve(t,e,n,r,o,s){const a=t[n];if(null!=a){const t=(0,i.RI)(a,"default");if(t&&void 0===r){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.mf)(t)){const{propsDefaults:i}=o;n in i?r=i[n]:(Bn(o),r=i[n]=t.call(null,e),Rn())}else r=t}a[0]&&(s&&!t?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function we(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,a={},l=[];let c=!1;if(!(0,i.mf)(t)){const r=t=>{c=!0;const[n,r]=we(t,e,!0);(0,i.l7)(a,n),r&&l.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!s&&!c)return(0,i.Kn)(t)&&r.set(t,i.Z6),i.Z6;if((0,i.kJ)(s))for(let h=0;h<s.length;h++){0;const t=(0,i._A)(s[h]);xe(t)&&(a[t]=i.kT)}else if(s){0;for(const t in s){const e=(0,i._A)(t);if(xe(e)){const n=s[t],r=a[e]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:(0,i.l7)({},n);if(r){const t=Se(Boolean,r.type),n=Se(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||(0,i.RI)(r,"default"))&&l.push(e)}}}}const u=[a,l];return(0,i.Kn)(t)&&r.set(t,u),u}function xe(t){return"$"!==t[0]}function _e(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function ke(t,e){return _e(t)===_e(e)}function Se(t,e){return(0,i.kJ)(e)?e.findIndex((e=>ke(e,t))):(0,i.mf)(e)&&ke(e,t)?0:-1}const Ce=t=>"_"===t[0]||"$stable"===t,Oe=t=>(0,i.kJ)(t)?t.map(kn):[kn(t)],Me=(t,e,n)=>{if(e._n)return e;const r=R(((...t)=>Oe(e(...t))),n);return r._c=!1,r},Te=(t,e,n)=>{const r=t._ctx;for(const o in t){if(Ce(o))continue;const n=t[o];if((0,i.mf)(n))e[o]=Me(o,n,r);else if(null!=n){0;const t=Oe(n);e[o]=()=>t}}},Ee=(t,e)=>{const n=Oe(e);t.slots.default=()=>n},Ae=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,r.IU)(e),(0,i.Nj)(e,"_",n)):Te(e,t.slots={})}else t.slots={},e&&Ee(t,e);(0,i.Nj)(t.slots,dn,1)},Pe=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=i.kT;if(32&r.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,i.l7)(o,e),n||1!==t||delete o._):(s=!e.$stable,Te(e,o)),a=e}else e&&(Ee(t,e),a={default:1});if(s)for(const i in o)Ce(i)||null!=a[i]||delete o[i]};function De(t,e,n,s,a=!1){if((0,i.kJ)(t))return void t.forEach(((t,r)=>De(t,e&&((0,i.kJ)(e)?e[r]:e),n,s,a)));if(wt(s)&&!a)return;const l=4&s.shapeFlag?Yn(s.component)||s.component.proxy:s.el,c=a?null:l,{i:u,r:h}=t;const d=e&&e.r,p=u.refs===i.kT?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==h&&((0,i.HD)(d)?(p[d]=null,(0,i.RI)(f,d)&&(f[d]=null)):(0,r.dq)(d)&&(d.value=null)),(0,i.mf)(h))o(h,u,12,[c,p]);else{const e=(0,i.HD)(h),o=(0,r.dq)(h);if(e||o){const r=()=>{if(t.f){const n=e?(0,i.RI)(f,h)?f[h]:p[h]:h.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):e?(p[h]=[l],(0,i.RI)(f,h)&&(f[h]=p[h])):(h.value=[l],t.k&&(p[t.k]=h.value))}else e?(p[h]=c,(0,i.RI)(f,h)&&(f[h]=c)):o&&(h.value=c,t.k&&(p[t.k]=c))};c?(r.id=-1,Ie(r,n)):r()}else 0}}function Ne(){}const Ie=G;function Le(t){return Be(t)}function Be(t,e){Ne();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:f,setScopeId:m=i.dG,insertStaticContent:g}=t,y=(t,e,n,r=null,i=null,o=null,s=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!hn(t,e)&&(r=Z(t),K(t,i,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case Xe:b(t,e,n,r);break;case Ze:v(t,e,n,r);break;case Qe:null==t&&x(e,n,r,s);break;case Ge:I(t,e,n,r,i,o,s,a,l);break;default:1&h?M(t,e,n,r,i,o,s,a,l):6&h?L(t,e,n,r,i,o,s,a,l):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,l,tt)}null!=u&&i&&De(u,t&&t.ref,o,e||t,!e)},b=(t,e,n,r)=>{if(null==t)o(e.el=c(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},v=(t,e,n,r)=>{null==t?o(e.el=u(e.children||""),n,r):e.el=t.el},x=(t,e,n,r)=>{[t.el,t.anchor]=g(t.children,e,n,r,t.el,t.anchor)},k=({el:t,anchor:e},n,r)=>{let i;while(t&&t!==e)i=f(t),o(t,n,r),t=i;o(e,n,r)},O=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=f(t),s(t),t=n;s(e)},M=(t,e,n,r,i,o,s,a,l)=>{s=s||"svg"===e.type,null==t?T(e,n,r,i,o,s,a,l):P(t,e,i,o,s,a,l)},T=(t,e,n,r,s,c,u,h)=>{let p,f;const{type:m,props:g,shapeFlag:y,transition:b,dirs:v}=t;if(p=t.el=l(t.type,c,g&&g.is,g),8&y?d(p,t.children):16&y&&A(t.children,p,null,r,s,c&&"foreignObject"!==m,u,h),v&&ot(t,null,r,"created"),E(p,t,t.scopeId,u,r),g){for(const e in g)"value"===e||(0,i.Gg)(e)||a(p,e,null,g[e],c,t.children,r,s,X);"value"in g&&a(p,"value",null,g.value),(f=g.onVnodeBeforeMount)&&Mn(f,r,t)}v&&ot(t,null,r,"beforeMount");const w=je(s,b);w&&b.beforeEnter(p),o(p,e,n),((f=g&&g.onVnodeMounted)||w||v)&&Ie((()=>{f&&Mn(f,r,t),w&&b.enter(p),v&&ot(t,null,r,"mounted")}),s)},E=(t,e,n,r,i)=>{if(n&&m(t,n),r)for(let o=0;o<r.length;o++)m(t,r[o]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;E(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},A=(t,e,n,r,i,o,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Sn(t[c]):kn(t[c]);y(null,l,e,n,r,i,o,s,a)}},P=(t,e,n,r,o,s,l)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=e;u|=16&t.patchFlag;const f=t.props||i.kT,m=e.props||i.kT;let g;n&&Re(n,!1),(g=m.onVnodeBeforeUpdate)&&Mn(g,n,e,t),p&&ot(e,t,n,"beforeUpdate"),n&&Re(n,!0);const y=o&&"foreignObject"!==e.type;if(h?D(t.dynamicChildren,h,c,n,r,y,s):l||$(t,e,c,null,n,r,y,s,!1),u>0){if(16&u)N(c,e,f,m,n,r,o);else if(2&u&&f.class!==m.class&&a(c,"class",null,m.class,o),4&u&&a(c,"style",f.style,m.style,o),8&u){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const s=i[e],l=f[s],u=m[s];u===l&&"value"!==s||a(c,s,l,u,o,t.children,n,r,X)}}1&u&&t.children!==e.children&&d(c,e.children)}else l||null!=h||N(c,e,f,m,n,r,o);((g=m.onVnodeUpdated)||p)&&Ie((()=>{g&&Mn(g,n,e,t),p&&ot(e,t,n,"updated")}),r)},D=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===Ge||!hn(l,c)||70&l.shapeFlag)?p(l.el):n;y(l,c,u,null,r,i,o,s,!0)}},N=(t,e,n,r,o,s,l)=>{if(n!==r){if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||a(t,c,n[c],null,l,e.children,o,s,X);for(const c in r){if((0,i.Gg)(c))continue;const u=r[c],h=n[c];u!==h&&"value"!==c&&a(t,c,h,u,l,e.children,o,s,X)}"value"in r&&a(t,"value",n.value,r.value)}},I=(t,e,n,r,i,s,a,l,u)=>{const h=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(o(h,n,r),o(d,n,r),A(e.children,n,d,i,s,a,l,u)):p>0&&64&p&&f&&t.dynamicChildren?(D(t.dynamicChildren,f,n,i,s,a,l),(null!=e.key||i&&e===i.subTree)&&ze(t,e,!0)):$(t,e,n,d,i,s,a,l,u)},L=(t,e,n,r,i,o,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,l):B(e,n,r,i,o,s,l):R(t,e,l)},B=(t,e,n,r,i,o,s)=>{const a=t.component=An(t,r,i);if(xt(t)&&(a.ctx.renderer=tt),$n(a),a.asyncDep){if(i&&i.registerDep(a,z),!t.el){const t=a.subTree=gn(Ze);v(null,t,e,n)}}else z(a,t,e,n,i,o,s)},R=(t,e,n)=>{const r=e.component=t.component;if(F(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void H(r,e,n);r.next=e,_(r.update),r.update()}else e.el=t.el,r.vnode=e},z=(t,e,n,o,s,a,l)=>{const c=()=>{if(t.isMounted){let e,{next:n,bu:r,u:o,parent:c,vnode:u}=t,h=n;0,Re(t,!1),n?(n.el=u.el,H(t,n,l)):n=u,r&&(0,i.ir)(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Mn(e,c,n,u),Re(t,!0);const d=j(t);0;const f=t.subTree;t.subTree=d,y(f,d,p(f.el),Z(f),t,s,a),n.el=d.el,null===h&&V(t,d.el),o&&Ie(o,s),(e=n.props&&n.props.onVnodeUpdated)&&Ie((()=>Mn(e,c,n,u)),s)}else{let r;const{el:l,props:c}=e,{bm:u,m:h,parent:d}=t,p=wt(e);if(Re(t,!1),u&&(0,i.ir)(u),!p&&(r=c&&c.onVnodeBeforeMount)&&Mn(r,d,e),Re(t,!0),l&&nt){const n=()=>{t.subTree=j(t),nt(l,t.subTree,t,s,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const r=t.subTree=j(t);0,y(null,r,n,o,t,s,a),e.el=r.el}if(h&&Ie(h,s),!p&&(r=c&&c.onVnodeMounted)){const t=e;Ie((()=>Mn(r,d,t)),s)}(256&e.shapeFlag||d&&wt(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&Ie(t.a,s),t.isMounted=!0,e=n=o=null}},u=t.effect=new r.qq(c,(()=>w(h)),t.scope),h=t.update=()=>u.run();h.id=t.uid,Re(t,!0),h()},H=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,ye(t,e.props,i,n),Pe(t,e.children,n),(0,r.Jd)(),S(),(0,r.lk)()},$=(t,e,n,r,i,o,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:p,shapeFlag:f}=e;if(p>0){if(128&p)return void q(c,h,n,r,i,o,s,a,l);if(256&p)return void W(c,h,n,r,i,o,s,a,l)}8&f?(16&u&&X(c,i,o),h!==c&&d(n,h)):16&u?16&f?q(c,h,n,r,i,o,s,a,l):X(c,i,o,!0):(8&u&&d(n,""),16&f&&A(h,n,r,i,o,s,a,l))},W=(t,e,n,r,o,s,a,l,c)=>{t=t||i.Z6,e=e||i.Z6;const u=t.length,h=e.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const r=e[p]=c?Sn(e[p]):kn(e[p]);y(t[p],r,n,null,o,s,a,l,c)}u>h?X(t,o,s,!0,!1,d):A(e,n,r,o,s,a,l,c,d)},q=(t,e,n,r,o,s,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,p=h-1;while(u<=d&&u<=p){const r=t[u],i=e[u]=c?Sn(e[u]):kn(e[u]);if(!hn(r,i))break;y(r,i,n,null,o,s,a,l,c),u++}while(u<=d&&u<=p){const r=t[d],i=e[p]=c?Sn(e[p]):kn(e[p]);if(!hn(r,i))break;y(r,i,n,null,o,s,a,l,c),d--,p--}if(u>d){if(u<=p){const t=p+1,i=t<h?e[t].el:r;while(u<=p)y(null,e[u]=c?Sn(e[u]):kn(e[u]),n,i,o,s,a,l,c),u++}}else if(u>p)while(u<=d)K(t[u],o,s,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const t=e[u]=c?Sn(e[u]):kn(e[u]);null!=t.key&&g.set(t.key,u)}let b,v=0;const w=p-m+1;let x=!1,_=0;const k=new Array(w);for(u=0;u<w;u++)k[u]=0;for(u=f;u<=d;u++){const r=t[u];if(v>=w){K(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(b=m;b<=p;b++)if(0===k[b-m]&&hn(r,e[b])){i=b;break}void 0===i?K(r,o,s,!0):(k[i-m]=u+1,i>=_?_=i:x=!0,y(r,e[i],n,null,o,s,a,l,c),v++)}const S=x?He(k):i.Z6;for(b=S.length-1,u=w-1;u>=0;u--){const t=m+u,i=e[t],d=t+1<h?e[t+1].el:r;0===k[u]?y(null,i,n,d,o,s,a,l,c):x&&(b<0||u!==S[b]?U(i,n,d,2):b--)}}},U=(t,e,n,r,i=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void U(t.component.subTree,e,n,r);if(128&u)return void t.suspense.move(e,n,r);if(64&u)return void a.move(t,e,n,tt);if(a===Ge){o(s,e,n);for(let t=0;t<c.length;t++)U(c[t],e,n,r);return void o(t.anchor,e,n)}if(a===Qe)return void k(t,e,n);const h=2!==r&&1&u&&l;if(h)if(0===r)l.beforeEnter(s),o(s,e,n),Ie((()=>l.enter(s)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=l,a=()=>o(s,e,n),c=()=>{t(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else o(s,e,n)},K=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&De(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,f=!wt(t);let m;if(f&&(m=s&&s.onVnodeBeforeUnmount)&&Mn(m,e,t),6&u)G(t.component,n,r);else{if(128&u)return void t.suspense.unmount(n,r);p&&ot(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,i,tt,r):c&&(o!==Ge||h>0&&64&h)?X(c,e,n,!1,!0):(o===Ge&&384&h||!i&&16&u)&&X(l,e,n),r&&Y(t)}(f&&(m=s&&s.onVnodeUnmounted)||p)&&Ie((()=>{m&&Mn(m,e,t),p&&ot(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:r,transition:i}=t;if(e===Ge)return void J(n,r);if(e===Qe)return void O(t);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:r}=i,s=()=>e(n,o);r?r(t.el,o,s):s()}else o()},J=(t,e)=>{let n;while(t!==e)n=f(t),s(t),t=n;s(e)},G=(t,e,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:l}=t;r&&(0,i.ir)(r),o.stop(),s&&(s.active=!1,K(a,t,e,n)),l&&Ie(l,e),Ie((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},X=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)K(t[s],e,n,r,i)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():f(t.anchor||t.el),Q=(t,e,n)=>{null==t?e._vnode&&K(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,n),S(),C(),e._vnode=t},tt={p:y,um:K,m:U,r:Y,mt:B,mc:A,pc:$,pbc:D,n:Z,o:t};let et,nt;return e&&([et,nt]=e(tt)),{render:Q,hydrate:et,createApp:de(Q,et)}}function Re({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function je(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ze(t,e,n=!1){const r=t.children,o=e.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const t=r[i];let e=o[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[i]=Sn(o[i]),e.el=t.el),n||ze(t,e)),e.type===Xe&&(e.el=t.el)}}function He(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const l=t[r];if(0!==l){if(i=n[n.length-1],t[i]<l){e[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<l?o=a+1:s=a;l<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}const Fe=t=>t.__isTeleport,$e=t=>t&&(t.disabled||""===t.disabled),Ve=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,We=(t,e)=>{const n=t&&t.to;if((0,i.HD)(n)){if(e){const t=e(n);return t}return null}return n},qe={__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,y=$e(e.props);let{shapeFlag:b,children:v,dynamicChildren:w}=e;if(null==t){const t=e.el=m(""),c=e.anchor=m("");p(t,n,r),p(c,n,r);const h=e.target=We(e.props,f),d=e.targetAnchor=m("");h&&(p(d,h),s=s||Ve(h));const g=(t,e)=>{16&b&&u(v,t,e,i,o,s,a,l)};y?g(n,c):h&&g(h,d)}else{e.el=t.el;const r=e.anchor=t.anchor,u=e.target=t.target,p=e.targetAnchor=t.targetAnchor,m=$e(t.props),g=m?n:u,b=m?r:p;if(s=s||Ve(u),w?(d(t.dynamicChildren,w,g,i,o,s,a),ze(t,e,!0)):l||h(t,e,g,b,i,o,s,a,!1),y)m?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ue(e,n,r,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=We(e.props,f);t&&Ue(e,t,null,c,0)}else m&&Ue(e,u,p,c,1)}Je(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&o(u),s&&o(c),16&a){const t=s||!$e(d);for(let r=0;r<l.length;r++){const o=l[r];i(o,e,n,t,!!o.dynamicChildren)}}},move:Ue,hydrate:Ke};function Ue(t,e,n,{o:{insert:r},m:i},o=2){0===o&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,h=2===o;if(h&&r(s,e,n),(!h||$e(u))&&16&l)for(let d=0;d<c.length;d++)i(c[d],e,n,2);h&&r(a,e,n)}function Ke(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=We(e.props,l);if(u){const l=u._lpa||u.firstChild;if(16&e.shapeFlag)if($e(e.props))e.anchor=c(s(t),e,a(t),n,r,i,o),e.targetAnchor=l;else{e.anchor=s(t);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(l,e,u,n,r,i,o)}Je(e)}return e.anchor&&s(e.anchor)}const Ye=qe;function Je(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;while(n&&n!==t.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ge=Symbol.for("v-fgt"),Xe=Symbol.for("v-txt"),Ze=Symbol.for("v-cmt"),Qe=Symbol.for("v-stc"),tn=[];let en=null;function nn(t=!1){tn.push(en=t?null:[])}function rn(){tn.pop(),en=tn[tn.length-1]||null}let on=1;function sn(t){on+=t}function an(t){return t.dynamicChildren=on>0?en||i.Z6:null,rn(),on>0&&en&&en.push(t),t}function ln(t,e,n,r,i,o){return an(mn(t,e,n,r,i,o,!0))}function cn(t,e,n,r,i){return an(gn(t,e,n,r,i,!0))}function un(t){return!!t&&!0===t.__v_isVNode}function hn(t,e){return t.type===e.type&&t.key===e.key}const dn="__vInternal",pn=({key:t})=>null!=t?t:null,fn=({ref:t,ref_key:e,ref_for:n})=>("number"===typeof t&&(t=""+t),null!=t?(0,i.HD)(t)||(0,r.dq)(t)||(0,i.mf)(t)?{i:D,r:t,k:e,f:!!n}:t:null);function mn(t,e=null,n=null,r=0,o=null,s=(t===Ge?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pn(e),ref:e&&fn(e),scopeId:N,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:D};return l?(Cn(c,n),128&s&&t.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),on>0&&!a&&en&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&en.push(c),c}const gn=yn;function yn(t,e=null,n=null,o=0,s=null,a=!1){if(t&&t!==U||(t=Ze),un(t)){const r=vn(t,e,!0);return n&&Cn(r,n),on>0&&!a&&en&&(6&r.shapeFlag?en[en.indexOf(t)]=r:en.push(r)),r.patchFlag|=-2,r}if(Gn(t)&&(t=t.__vccOpts),e){e=bn(e);let{class:t,style:n}=e;t&&!(0,i.HD)(t)&&(e.class=(0,i.C_)(t)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),e.style=(0,i.j5)(n))}const l=(0,i.HD)(t)?1:J(t)?128:Fe(t)?64:(0,i.Kn)(t)?4:(0,i.mf)(t)?2:0;return mn(t,e,n,o,s,l,a,!0)}function bn(t){return t?(0,r.X3)(t)||dn in t?(0,i.l7)({},t):t:null}function vn(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,l=e?On(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&pn(l),ref:e&&e.ref?n&&o?(0,i.kJ)(o)?o.concat(fn(e)):[o,fn(e)]:fn(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vn(t.ssContent),ssFallback:t.ssFallback&&vn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c}function wn(t=" ",e=0){return gn(Xe,null,t,e)}function xn(t,e){const n=gn(Qe,null,t);return n.staticCount=e,n}function _n(t="",e=!1){return e?(nn(),cn(Ze,null,t)):gn(Ze,null,t)}function kn(t){return null==t||"boolean"===typeof t?gn(Ze):(0,i.kJ)(t)?gn(Ge,null,t.slice()):"object"===typeof t?Sn(t):gn(Xe,null,String(t))}function Sn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:vn(t)}function Cn(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if((0,i.kJ)(e))n=16;else if("object"===typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),Cn(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||dn in e?3===r&&D&&(1===D.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=D}}else(0,i.mf)(e)?(e={default:e,_ctx:D},n=32):(e=String(e),64&r?(n=16,e=[wn(e)]):n=8);t.children=e,t.shapeFlag|=n}function On(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=(0,i.C_)([e.class,r.class]));else if("style"===t)e.style=(0,i.j5)([e.style,r.style]);else if((0,i.F7)(t)){const n=e[t],o=r[t];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=r[t])}return e}function Mn(t,e,n,r=null){s(t,e,7,[n,r])}const Tn=ue();let En=0;function An(t,e,n){const o=t.type,s=(e?e.appContext:t.appContext)||Tn,a={uid:En++,vnode:t,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:we(o,s),emitsOptions:A(o,s),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=E.bind(null,a),t.ce&&t.ce(a),a}let Pn=null;const Dn=()=>Pn||D;let Nn,In,Ln="__VUE_INSTANCE_SETTERS__";(In=(0,i.E9)()[Ln])||(In=(0,i.E9)()[Ln]=[]),In.push((t=>Pn=t)),Nn=t=>{In.length>1?In.forEach((e=>e(t))):In[0](t)};const Bn=t=>{Nn(t),t.scope.on()},Rn=()=>{Pn&&Pn.scope.off(),Nn(null)};function jn(t){return 4&t.vnode.shapeFlag}let zn,Hn,Fn=!1;function $n(t,e=!1){Fn=e;const{props:n,children:r}=t.vnode,i=jn(t);ge(t,n,i,e),Ae(t,r);const o=i?Vn(t,e):void 0;return Fn=!1,o}function Vn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,r.Xl)(new Proxy(t.ctx,Kt));const{setup:s}=n;if(s){const n=t.setupContext=s.length>1?Kn(t):null;Bn(t),(0,r.Jd)();const l=o(s,t,0,[t.props,n]);if((0,r.lk)(),Rn(),(0,i.tI)(l)){if(l.then(Rn,Rn),e)return l.then((n=>{Wn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=l}else Wn(t,l,e)}else qn(t,e)}function Wn(t,e,n){(0,i.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Kn)(e)&&(t.setupState=(0,r.WL)(e)),qn(t,n)}function qn(t,e,n){const o=t.type;if(!t.render){if(!e&&zn&&!o.render){const e=o.template||te(t).template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:s},r),a);o.render=zn(e,l)}}t.render=o.render||i.dG,Hn&&Hn(t)}Bn(t),(0,r.Jd)();try{Gt(t)}finally{(0,r.lk)(),Rn()}}function Un(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return(0,r.j)(t,"get","$attrs"),e[n]}}))}function Kn(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return Un(t)},slots:t.slots,emit:t.emit,expose:e}}function Yn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in qt?qt[n](t):void 0},has(t,e){return e in t||e in qt}}))}function Jn(t,e=!0){return(0,i.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function Gn(t){return(0,i.mf)(t)&&"__vccOpts"in t}const Xn=(t,e)=>(0,r.Fl)(t,e,Fn);function Zn(t,e,n){const r=arguments.length;return 2===r?(0,i.Kn)(e)&&!(0,i.kJ)(e)?un(e)?gn(t,null,[e]):gn(t,e):gn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&un(n)&&(n=[n]),gn(t,e,n))}const Qn=Symbol.for("v-scx"),tr=()=>{{const t=me(Qn);return t}};const er="3.3.8"},9963:function(t,e,n){"use strict";n.d(e,{D2:function(){return Ct},bM:function(){return yt},e8:function(){return mt},iM:function(){return kt},nr:function(){return ft},ri:function(){return Et},uT:function(){return p}});var r=n(6252),i=n(3577),o=n(2262);const s="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),c={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?a.createElementNS(s,t):a.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>a.createTextNode(t),createComment:t=>a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{l.innerHTML=r?`<svg>${t}</svg>`:t;const i=l.content;if(r){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},u="transition",h="animation",d=Symbol("_vtc"),p=(t,{slots:e})=>(0,r.h)(r.P$,b(t),e);p.displayName="Transition";const f={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},m=p.props=(0,i.l7)({},r.nJ,f),g=(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)},y=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function b(t){const e={};for(const i in t)i in f||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,b=v(o),w=b&&b[0],S=b&&b[1],{onBeforeEnter:O,onEnter:M,onEnterCancelled:T,onLeave:A,onLeaveCancelled:P,onBeforeAppear:D=O,onAppear:N=M,onAppearCancelled:I=T}=e,L=(t,e,n)=>{_(t,e?h:l),_(t,e?u:a),n&&n()},B=(t,e)=>{t._isLeaving=!1,_(t,d),_(t,m),_(t,p),e&&e()},R=t=>(e,n)=>{const i=t?N:M,o=()=>L(e,t,n);g(i,[e,o]),k((()=>{_(e,t?c:s),x(e,t?h:l),y(i)||C(e,r,w,o)}))};return(0,i.l7)(e,{onBeforeEnter(t){g(O,[t]),x(t,s),x(t,a)},onBeforeAppear(t){g(D,[t]),x(t,c),x(t,u)},onEnter:R(!1),onAppear:R(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>B(t,e);x(t,d),E(),x(t,p),k((()=>{t._isLeaving&&(_(t,d),x(t,m),y(A)||C(t,r,S,n))})),g(A,[t,n])},onEnterCancelled(t){L(t,!1),g(T,[t])},onAppearCancelled(t){L(t,!0),g(I,[t])},onLeaveCancelled(t){B(t),g(P,[t])}})}function v(t){if(null==t)return null;if((0,i.Kn)(t))return[w(t.enter),w(t.leave)];{const e=w(t);return[e,e]}}function w(t){const e=(0,i.He)(t);return e}function x(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[d]||(t[d]=new Set)).add(e)}function _(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[d];n&&(n.delete(e),n.size||(t[d]=void 0))}function k(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let S=0;function C(t,e,n,r){const i=t._endId=++S,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=O(t,e);if(!s)return r();const c=s+"end";let u=0;const h=()=>{t.removeEventListener(c,d),o()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function O(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(`${u}Delay`),o=r(`${u}Duration`),s=M(i,o),a=r(`${h}Delay`),l=r(`${h}Duration`),c=M(a,l);let d=null,p=0,f=0;e===u?s>0&&(d=u,p=s,f=o.length):e===h?c>0&&(d=h,p=c,f=l.length):(p=Math.max(s,c),d=p>0?s>c?u:h:null,f=d?d===u?o.length:l.length:0);const m=d===u&&/\b(transform|all)(,|$)/.test(r(`${u}Property`).toString());return{type:d,timeout:p,propCount:f,hasTransform:m}}function M(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>T(e)+T(t[n]))))}function T(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function E(){return document.body.offsetHeight}function A(t,e,n){const r=t[d];r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const P=Symbol("_vod");function D(t,e,n){const r=t.style,o=(0,i.HD)(n);if(n&&!o){if(e&&!(0,i.HD)(e))for(const t in e)null==n[t]&&I(r,t,"");for(const t in n)I(r,t,n[t])}else{const i=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),P in t&&(r.display=i)}}const N=/\s*!important$/;function I(t,e,n){if((0,i.kJ)(n))n.forEach((n=>I(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=R(t,e);N.test(n)?t.setProperty((0,i.rs)(r),n.replace(N,""),"important"):t[r]=n}}const L=["Webkit","Moz","ms"],B={};function R(t,e){const n=B[e];if(n)return n;let r=(0,i._A)(e);if("filter"!==r&&r in t)return B[e]=r;r=(0,i.kC)(r);for(let i=0;i<L.length;i++){const n=L[i]+r;if(n in t)return B[e]=n}return e}const j="http://www.w3.org/1999/xlink";function z(t,e,n,r,o){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(j,e.slice(6,e.length)):t.setAttributeNS(j,e,n);else{const r=(0,i.Pq)(e);null==n||r&&!(0,i.yA)(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function H(t,e,n,r,o,s,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,o,s),void(t[e]=null==n?"":n);const l=t.tagName;if("value"===e&&"PROGRESS"!==l&&!l.includes("-")){t._value=n;const r="OPTION"===l?t.getAttribute("value"):t.value,i=null==n?"":n;return r!==i&&(t.value=i),void(null==n&&t.removeAttribute(e))}let c=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",c=!0):"number"===r&&(n=0,c=!0)}try{t[e]=n}catch(u){0}c&&t.removeAttribute(e)}function F(t,e,n,r){t.addEventListener(e,n,r)}function $(t,e,n,r){t.removeEventListener(e,n,r)}const V=Symbol("_vei");function W(t,e,n,r,i=null){const o=t[V]||(t[V]={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=U(e);if(r){const s=o[e]=G(r,i);F(t,n,s,a)}else s&&($(t,n,s,a),o[e]=void 0)}}const q=/(?:Once|Passive|Capture)$/;function U(t){let e;if(q.test(t)){let n;e={};while(n=t.match(q))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,i.rs)(t.slice(2));return[n,e]}let K=0;const Y=Promise.resolve(),J=()=>K||(Y.then((()=>K=0)),K=Date.now());function G(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,r.$d)(X(t,n.value),e,5,[t])};return n.value=t,n.attached=J(),n}function X(t,e){if((0,i.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const Z=/^on[a-z]/,Q=(t,e,n,r,o=!1,s,a,l,c)=>{"class"===e?A(t,r,o):"style"===e?D(t,n,r):(0,i.F7)(e)?(0,i.tR)(e)||W(t,e,n,r,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):tt(t,e,r,o))?H(t,e,r,s,a,l,c):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),z(t,e,r,o))};function tt(t,e,n,r){return r?"innerHTML"===e||"textContent"===e||!!(e in t&&Z.test(e)&&(0,i.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!Z.test(e)||!(0,i.HD)(n))&&e in t))))}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const et=new WeakMap,nt=new WeakMap,rt=Symbol("_moveCb"),it=Symbol("_enterCb"),ot={name:"TransitionGroup",props:(0,i.l7)({},m,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,r.FN)(),i=(0,r.Y8)();let s,a;return(0,r.ic)((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!ct(s[0].el,n.vnode.el,e))return;s.forEach(st),s.forEach(at);const r=s.filter(lt);E(),r.forEach((t=>{const n=t.el,r=n.style;x(n,e),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[rt]=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",i),n[rt]=null,_(n,e))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.IU)(t),c=b(l);let u=l.tag||r.HY;s=a,a=e.default?(0,r.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,r.nK)(e,(0,r.U2)(e,c,i,n))}if(s)for(let t=0;t<s.length;t++){const e=s[t];(0,r.nK)(e,(0,r.U2)(e,c,i,n)),et.set(e,e.el.getBoundingClientRect())}return(0,r.Wm)(u,null,a)}}};ot.props;function st(t){const e=t.el;e[rt]&&e[rt](),e[it]&&e[it]()}function at(t){nt.set(t,t.el.getBoundingClientRect())}function lt(t){const e=et.get(t),n=nt.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${r}px,${i}px)`,e.transitionDuration="0s",t}}function ct(t,e,n){const r=t.cloneNode(),i=t[d];i&&i.forEach((t=>{t.split(/\s+/).forEach((t=>t&&r.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&r.classList.add(t))),r.style.display="none";const o=1===e.nodeType?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=O(r);return o.removeChild(r),s}const ut=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,i.kJ)(e)?t=>(0,i.ir)(e,t):e};function ht(t){t.target.composing=!0}function dt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pt=Symbol("_assign"),ft={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t[pt]=ut(o);const s=r||o.props&&"number"===o.props.type;F(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n&&(r=r.trim()),s&&(r=(0,i.h5)(r)),t[pt](r)})),n&&F(t,"change",(()=>{t.value=t.value.trim()})),e||(F(t,"compositionstart",ht),F(t,"compositionend",dt),F(t,"change",dt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},s){if(t[pt]=ut(s),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(n)return;if(r&&t.value.trim()===e)return;if((o||"number"===t.type)&&(0,i.h5)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}},mt={deep:!0,created(t,e,n){t[pt]=ut(n),F(t,"change",(()=>{const e=t._modelValue,n=vt(t),r=t.checked,o=t[pt];if((0,i.kJ)(e)){const t=(0,i.hq)(e,n),s=-1!==t;if(r&&!s)o(e.concat(n));else if(!r&&s){const n=[...e];n.splice(t,1),o(n)}}else if((0,i.DM)(e)){const t=new Set(e);r?t.add(n):t.delete(n),o(t)}else o(wt(t,r))}))},mounted:gt,beforeUpdate(t,e,n){t[pt]=ut(n),gt(t,e,n)}};function gt(t,{value:e,oldValue:n},r){t._modelValue=e,(0,i.kJ)(e)?t.checked=(0,i.hq)(e,r.props.value)>-1:(0,i.DM)(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=(0,i.WV)(e,wt(t,!0)))}const yt={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=(0,i.DM)(e);F(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,i.h5)(vt(t)):vt(t)));t[pt](t.multiple?o?new Set(e):e:e[0])})),t[pt]=ut(r)},mounted(t,{value:e}){bt(t,e)},beforeUpdate(t,e,n){t[pt]=ut(n)},updated(t,{value:e}){bt(t,e)}};function bt(t,e){const n=t.multiple;if(!n||(0,i.kJ)(e)||(0,i.DM)(e)){for(let r=0,o=t.options.length;r<o;r++){const o=t.options[r],s=vt(o);if(n)(0,i.kJ)(e)?o.selected=(0,i.hq)(e,s)>-1:o.selected=e.has(s);else if((0,i.WV)(vt(o),e))return void(t.selectedIndex!==r&&(t.selectedIndex=r))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function vt(t){return"_value"in t?t._value:t.value}function wt(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const xt=["ctrl","shift","alt","meta"],_t={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>xt.some((n=>t[`${n}Key`]&&!e.includes(n)))},kt=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=_t[e[t]];if(r&&r(n,e))return}return t(n,...r)},St={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ct=(t,e)=>n=>{if(!("key"in n))return;const r=(0,i.rs)(n.key);return e.some((t=>t===r||St[t]===r))?t(n):void 0},Ot=(0,i.l7)({patchProp:Q},c);let Mt;function Tt(){return Mt||(Mt=(0,r.Us)(Ot))}const Et=(...t)=>{const e=Tt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const r=At(t);if(!r)return;const o=e._component;(0,i.mf)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function At(t){if((0,i.HD)(t)){const e=document.querySelector(t);return e}return t}},3577:function(t,e,n){"use strict";function r(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return Z},DM:function(){return y},E9:function(){return W},F7:function(){return c},Gg:function(){return A},HD:function(){return x},He:function(){return $},Kj:function(){return v},Kn:function(){return k},NO:function(){return a},Nj:function(){return H},Od:function(){return d},PO:function(){return T},Pq:function(){return tt},RI:function(){return f},S0:function(){return E},W7:function(){return M},WV:function(){return rt},Z6:function(){return o},_A:function(){return N},_N:function(){return g},aU:function(){return j},dG:function(){return s},fY:function(){return r},h5:function(){return F},hR:function(){return R},hq:function(){return it},ir:function(){return z},j5:function(){return K},kC:function(){return B},kJ:function(){return m},kT:function(){return i},l7:function(){return h},mf:function(){return w},rs:function(){return L},tI:function(){return S},tR:function(){return u},yA:function(){return et},yk:function(){return _},yl:function(){return U},zw:function(){return ot}});const i={},o=[],s=()=>{},a=()=>!1,l=/^on[^a-z]/,c=t=>l.test(t),u=t=>t.startsWith("onUpdate:"),h=Object.assign,d=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},p=Object.prototype.hasOwnProperty,f=(t,e)=>p.call(t,e),m=Array.isArray,g=t=>"[object Map]"===O(t),y=t=>"[object Set]"===O(t),b=t=>"[object Date]"===O(t),v=t=>"[object RegExp]"===O(t),w=t=>"function"===typeof t,x=t=>"string"===typeof t,_=t=>"symbol"===typeof t,k=t=>null!==t&&"object"===typeof t,S=t=>(k(t)||w(t))&&w(t.then)&&w(t.catch),C=Object.prototype.toString,O=t=>C.call(t),M=t=>O(t).slice(8,-1),T=t=>"[object Object]"===O(t),E=t=>x(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,A=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},D=/-(\w)/g,N=P((t=>t.replace(D,((t,e)=>e?e.toUpperCase():"")))),I=/\B([A-Z])/g,L=P((t=>t.replace(I,"-$1").toLowerCase())),B=P((t=>t.charAt(0).toUpperCase()+t.slice(1))),R=P((t=>{const e=t?`on${B(t)}`:"";return e})),j=(t,e)=>!Object.is(t,e),z=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},H=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},F=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$=t=>{const e=x(t)?Number(t):NaN;return isNaN(e)?t:e};let V;const W=()=>V||(V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const q="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",U=r(q);function K(t){if(m(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=x(r)?X(r):K(r);if(i)for(const t in i)e[t]=i[t]}return e}if(x(t)||k(t))return t}const Y=/;(?![^(]*\))/g,J=/:([^]+)/,G=/\/\*[^]*?\*\//g;function X(t){const e={};return t.replace(G,"").split(Y).forEach((t=>{if(t){const n=t.split(J);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function Z(t){let e="";if(x(t))e=t;else if(m(t))for(let n=0;n<t.length;n++){const r=Z(t[n]);r&&(e+=r+" ")}else if(k(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Q="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tt=r(Q);function et(t){return!!t||""===t}function nt(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=rt(t[r],e[r]);return n}function rt(t,e){if(t===e)return!0;let n=b(t),r=b(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=_(t),r=_(e),n||r)return t===e;if(n=m(t),r=m(e),n||r)return!(!n||!r)&&nt(t,e);if(n=k(t),r=k(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!rt(t[n],e[n]))return!1}}return String(t)===String(e)}function it(t,e){return t.findIndex((t=>rt(t,e)))}const ot=t=>x(t)?t:null==t?"":m(t)||k(t)&&(t.toString===C||!w(t.toString))?JSON.stringify(t,st,2):String(t),st=(t,e)=>e&&e.__v_isRef?st(t,e.value):g(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:y(e)?{[`Set(${e.size})`]:[...e.values()]}:!k(e)||m(e)||T(e)?e:String(e)},5205:function(t,e,n){"use strict";n.d(e,{z:function(){return o}});var r,i=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function o(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var o=function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&r.then((function(){i()?(l(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})).catch((function(t){return s(o,t)}))):(a(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})).catch((function(t){return s(o,t)})))}))}function s(t,e){navigator.onLine||t("offline"),t("error",e)}function a(t,e,n){navigator.serviceWorker.register(t,n).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){return s(e,t)}))}function l(t,e,n){fetch(t).then((function(r){404===r.status?(e("error",new Error("Service worker not found at "+t)),c()):-1===r.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),c()):a(t,e,n)})).catch((function(t){return s(e,t)}))}function c(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){return s(emit,t)}))}"undefined"!==typeof window&&(r="undefined"!==typeof Promise?new Promise((function(t){return window.addEventListener("load",t)})):{then:function(t){return window.addEventListener("load",t)}})},3787:function(t,e,n){var r;/*! showdown v 2.1.0 - 21-04-2022 */
(function(){function i(t){"use strict";var e={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===t)return JSON.parse(JSON.stringify(e));var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r].defaultValue);return n}function o(){"use strict";var t=i(!0),e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}var s={},a={},l={},c=i(!0),u="vanilla",h={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:i(!0),allOn:o()};function d(t,e){"use strict";var n=e?"Error in "+e+" extension->":"Error in unnamed extension",r={valid:!0,error:""};s.helper.isArray(t)||(t=[t]);for(var i=0;i<t.length;++i){var o=n+" sub-extension "+i+": ",a=t[i];if("object"!==typeof a)return r.valid=!1,r.error=o+"must be an object, but "+typeof a+" given",r;if(!s.helper.isString(a.type))return r.valid=!1,r.error=o+'property "type" must be a string, but '+typeof a.type+" given",r;var l=a.type=a.type.toLowerCase();if("language"===l&&(l=a.type="lang"),"html"===l&&(l=a.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return r.valid=!1,r.error=o+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===l){if(s.helper.isUndefined(a.listeners))return r.valid=!1,r.error=o+'. Extensions of type "listener" must have a property called "listeners"',r}else if(s.helper.isUndefined(a.filter)&&s.helper.isUndefined(a.regex))return r.valid=!1,r.error=o+l+' extensions must define either a "regex" property or a "filter" method',r;if(a.listeners){if("object"!==typeof a.listeners)return r.valid=!1,r.error=o+'"listeners" property must be an object but '+typeof a.listeners+" given",r;for(var c in a.listeners)if(a.listeners.hasOwnProperty(c)&&"function"!==typeof a.listeners[c])return r.valid=!1,r.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof a.listeners[c]+" given",r}if(a.filter){if("function"!==typeof a.filter)return r.valid=!1,r.error=o+'"filter" must be a function, but '+typeof a.filter+" given",r}else if(a.regex){if(s.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return r.valid=!1,r.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(s.helper.isUndefined(a.replace))return r.valid=!1,r.error=o+'"regex" extensions must implement a replace string or function',r}}return r}function p(t,e){"use strict";var n=e.charCodeAt(0);return"E"+n+"E"}s.helper={},s.extensions={},s.setOption=function(t,e){"use strict";return c[t]=e,this},s.getOption=function(t){"use strict";return c[t]},s.getOptions=function(){"use strict";return c},s.resetOptions=function(){"use strict";c=i(!0)},s.setFlavor=function(t){"use strict";if(!h.hasOwnProperty(t))throw Error(t+" flavor was not found");s.resetOptions();var e=h[t];for(var n in u=t,e)e.hasOwnProperty(n)&&(c[n]=e[n])},s.getFlavor=function(){"use strict";return u},s.getFlavorOptions=function(t){"use strict";if(h.hasOwnProperty(t))return h[t]},s.getDefaultOptions=function(t){"use strict";return i(t)},s.subParser=function(t,e){"use strict";if(s.helper.isString(t)){if("undefined"===typeof e){if(a.hasOwnProperty(t))return a[t];throw Error("SubParser named "+t+" not registered!")}a[t]=e}},s.extension=function(t,e){"use strict";if(!s.helper.isString(t))throw Error("Extension 'name' must be a string");if(t=s.helper.stdExtName(t),s.helper.isUndefined(e)){if(!l.hasOwnProperty(t))throw Error("Extension named "+t+" is not registered!");return l[t]}"function"===typeof e&&(e=e()),s.helper.isArray(e)||(e=[e]);var n=d(e,t);if(!n.valid)throw Error(n.error);l[t]=e},s.getAllExtensions=function(){"use strict";return l},s.removeExtension=function(t){"use strict";delete l[t]},s.resetExtensions=function(){"use strict";l={}},s.validateExtension=function(t){"use strict";var e=d(t,null);return!!e.valid||(console.warn(e.error),!1)},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(t){"use strict";return"string"===typeof t||t instanceof String},s.helper.isFunction=function(t){"use strict";var e={};return t&&"[object Function]"===e.toString.call(t)},s.helper.isArray=function(t){"use strict";return Array.isArray(t)},s.helper.isUndefined=function(t){"use strict";return"undefined"===typeof t},s.helper.forEach=function(t,e){"use strict";if(s.helper.isUndefined(t))throw new Error("obj param is required");if(s.helper.isUndefined(e))throw new Error("callback param is required");if(!s.helper.isFunction(e))throw new Error("callback param must be a function/closure");if("function"===typeof t.forEach)t.forEach(e);else if(s.helper.isArray(t))for(var n=0;n<t.length;n++)e(t[n],n,t);else{if("object"!==typeof t)throw new Error("obj does not seem to be an array or an iterable object");for(var r in t)t.hasOwnProperty(r)&&e(t[r],r,t)}},s.helper.stdExtName=function(t){"use strict";return t.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},s.helper.escapeCharactersCallback=p,s.helper.escapeCharacters=function(t,e,n){"use strict";var r="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return t=t.replace(i,p),t},s.helper.unescapeHTMLEntities=function(t){"use strict";return t.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(t,e,n,r){"use strict";var i,o,s,a,l,c=r||"",u=c.indexOf("g")>-1,h=new RegExp(e+"|"+n,"g"+c.replace(/g/g,"")),d=new RegExp(e,c.replace(/g/g,"")),p=[];do{i=0;while(s=h.exec(t))if(d.test(s[0]))i++||(o=h.lastIndex,a=o-s[0].length);else if(i&&! --i){l=s.index+s[0].length;var f={left:{start:a,end:o},match:{start:o,end:s.index},right:{start:s.index,end:l},wholeMatch:{start:a,end:l}};if(p.push(f),!u)return p}}while(i&&(h.lastIndex=o));return p};s.helper.matchRecursiveRegExp=function(t,e,n,r){"use strict";for(var i=f(t,e,n,r),o=[],s=0;s<i.length;++s)o.push([t.slice(i[s].wholeMatch.start,i[s].wholeMatch.end),t.slice(i[s].match.start,i[s].match.end),t.slice(i[s].left.start,i[s].left.end),t.slice(i[s].right.start,i[s].right.end)]);return o},s.helper.replaceRecursiveRegExp=function(t,e,n,r,i){"use strict";if(!s.helper.isFunction(e)){var o=e;e=function(){return o}}var a=f(t,n,r,i),l=t,c=a.length;if(c>0){var u=[];0!==a[0].wholeMatch.start&&u.push(t.slice(0,a[0].wholeMatch.start));for(var h=0;h<c;++h)u.push(e(t.slice(a[h].wholeMatch.start,a[h].wholeMatch.end),t.slice(a[h].match.start,a[h].match.end),t.slice(a[h].left.start,a[h].left.end),t.slice(a[h].right.start,a[h].right.end))),h<c-1&&u.push(t.slice(a[h].wholeMatch.end,a[h+1].wholeMatch.start));a[c-1].wholeMatch.end<t.length&&u.push(t.slice(a[c-1].wholeMatch.end)),l=u.join("")}return l},s.helper.regexIndexOf=function(t,e,n){"use strict";if(!s.helper.isString(t))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(e instanceof RegExp===!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=t.substring(n||0).search(e);return r>=0?r+(n||0):r},s.helper.splitAtIndex=function(t,e){"use strict";if(!s.helper.isString(t))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[t.substring(0,e),t.substring(e)]},s.helper.encodeEmailAddress=function(t){"use strict";var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t=t.replace(/./g,(function(t){if("@"===t)t=e[Math.floor(2*Math.random())](t);else{var n=Math.random();t=n>.9?e[2](t):n>.45?e[1](t):e[0](t)}return t})),t},s.helper.padEnd=function(t,e,n){"use strict";return e>>=0,n=String(n||" "),t.length>e?String(t):(e-=t.length,e>n.length&&(n+=n.repeat(e/n.length)),String(t)+n.slice(0,e))},"undefined"===typeof console&&(console={warn:function(t){"use strict";alert(t)},log:function(t){"use strict";alert(t)},error:function(t){"use strict";throw t}}),s.helper.regexes={asteriskDashAndColon:/([*_:~])/g},s.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},s.Converter=function(t){"use strict";var e={},n=[],r=[],i={},o=u,a={parsed:{},raw:"",format:""};function p(){for(var n in t=t||{},c)c.hasOwnProperty(n)&&(e[n]=c[n]);if("object"!==typeof t)throw Error("Converter expects the passed parameter to be an object, but "+typeof t+" was passed instead.");for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.extensions&&s.helper.forEach(e.extensions,f)}function f(t,e){if(e=e||null,s.helper.isString(t)){if(t=s.helper.stdExtName(t),e=t,s.extensions[t])return console.warn("DEPRECATION WARNING: "+t+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void m(s.extensions[t],t);if(s.helper.isUndefined(l[t]))throw Error('Extension "'+t+'" could not be loaded. It was either not found or is not a valid extension.');t=l[t]}"function"===typeof t&&(t=t()),s.helper.isArray(t)||(t=[t]);var i=d(t,e);if(!i.valid)throw Error(i.error);for(var o=0;o<t.length;++o){switch(t[o].type){case"lang":n.push(t[o]);break;case"output":r.push(t[o]);break}if(t[o].hasOwnProperty("listeners"))for(var a in t[o].listeners)t[o].listeners.hasOwnProperty(a)&&g(a,t[o].listeners[a])}}function m(t,e){"function"===typeof t&&(t=t(new s.Converter)),s.helper.isArray(t)||(t=[t]);var i=d(t,e);if(!i.valid)throw Error(i.error);for(var o=0;o<t.length;++o)switch(t[o].type){case"lang":n.push(t[o]);break;case"output":r.push(t[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function g(t,e){if(!s.helper.isString(t))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof t+" given");if("function"!==typeof e)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof e+" given");i.hasOwnProperty(t)||(i[t]=[]),i[t].push(e)}function y(t){var e=t.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+e+"}","gm");return t.replace(n,"")}p(),this._dispatch=function(t,e,n,r){if(i.hasOwnProperty(t))for(var o=0;o<i[t].length;++o){var s=i[t][o](t,e,this,n,r);s&&"undefined"!==typeof s&&(e=s)}return e},this.listen=function(t,e){return g(t,e),this},this.makeHtml=function(t){if(!t)return t;var i={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:r,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return t=t.replace(//g,"T"),t=t.replace(/\$/g,"D"),t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n"),t=t.replace(/\u00A0/g,"&nbsp;"),e.smartIndentationFix&&(t=y(t)),t="\n\n"+t+"\n\n",t=s.subParser("detab")(t,e,i),t=t.replace(/^[ \t]+$/gm,""),s.helper.forEach(n,(function(n){t=s.subParser("runExtension")(n,t,e,i)})),t=s.subParser("metadata")(t,e,i),t=s.subParser("hashPreCodeTags")(t,e,i),t=s.subParser("githubCodeBlocks")(t,e,i),t=s.subParser("hashHTMLBlocks")(t,e,i),t=s.subParser("hashCodeTags")(t,e,i),t=s.subParser("stripLinkDefinitions")(t,e,i),t=s.subParser("blockGamut")(t,e,i),t=s.subParser("unhashHTMLSpans")(t,e,i),t=s.subParser("unescapeSpecialChars")(t,e,i),t=t.replace(/D/g,"$$"),t=t.replace(/T/g,""),t=s.subParser("completeHTMLDocument")(t,e,i),s.helper.forEach(r,(function(n){t=s.subParser("runExtension")(n,t,e,i)})),a=i.metadata,t},this.makeMarkdown=this.makeMd=function(t,e){if(t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n"),t=t.replace(/>[ \t]+</,">NBSP;<"),!e){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");e=window.document}var n=e.createElement("div");n.innerHTML=t;var r={preList:c(n)};l(n);for(var i=n.childNodes,o="",a=0;a<i.length;a++)o+=s.subParser("makeMarkdown.node")(i[a],r);function l(t){for(var e=0;e<t.childNodes.length;++e){var n=t.childNodes[e];3===n.nodeType?/\S/.test(n.nodeValue)||/^[ ]+$/.test(n.nodeValue)?(n.nodeValue=n.nodeValue.split("\n").join(" "),n.nodeValue=n.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(n),--e):1===n.nodeType&&l(n)}}function c(t){for(var e=t.querySelectorAll("pre"),n=[],r=0;r<e.length;++r)if(1===e[r].childElementCount&&"code"===e[r].firstChild.tagName.toLowerCase()){var i=e[r].firstChild.innerHTML.trim(),o=e[r].firstChild.getAttribute("data-language")||"";if(""===o)for(var a=e[r].firstChild.className.split(" "),l=0;l<a.length;++l){var c=a[l].match(/^language-(.+)$/);if(null!==c){o=c[1];break}}i=s.helper.unescapeHTMLEntities(i),n.push(i),e[r].outerHTML='<precode language="'+o+'" precodenum="'+r.toString()+'"></precode>'}else n.push(e[r].innerHTML),e[r].innerHTML="",e[r].setAttribute("prenum",r.toString());return n}return o},this.setOption=function(t,n){e[t]=n},this.getOption=function(t){return e[t]},this.getOptions=function(){return e},this.addExtension=function(t,e){e=e||null,f(t,e)},this.useExtension=function(t){f(t)},this.setFlavor=function(t){if(!h.hasOwnProperty(t))throw Error(t+" flavor was not found");var n=h[t];for(var r in o=t,n)n.hasOwnProperty(r)&&(e[r]=n[r])},this.getFlavor=function(){return o},this.removeExtension=function(t){s.helper.isArray(t)||(t=[t]);for(var e=0;e<t.length;++e){for(var i=t[e],o=0;o<n.length;++o)n[o]===i&&n.splice(o,1);for(var a=0;a<r.length;++a)r[a]===i&&r.splice(a,1)}},this.getAllExtensions=function(){return{language:n,output:r}},this.getMetadata=function(t){return t?a.raw:a.parsed},this.getMetadataFormat=function(){return a.format},this._setMetadataPair=function(t,e){a.parsed[t]=e},this._setMetadataFormat=function(t){a.format=t},this._setMetadataRaw=function(t){a.raw=t}},s.subParser("anchors",(function(t,e,n){"use strict";t=n.converter._dispatch("anchors.before",t,e,n);var r=function(t,r,i,o,a,l,c){if(s.helper.isUndefined(c)&&(c=""),i=i.toLowerCase(),t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(!o){if(i||(i=r.toLowerCase().replace(/ ?\n/g," ")),o="#"+i,s.helper.isUndefined(n.gUrls[i]))return t;o=n.gUrls[i],s.helper.isUndefined(n.gTitles[i])||(c=n.gTitles[i])}o=o.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var u='<a href="'+o+'"';return""!==c&&null!==c&&(c=c.replace(/"/g,"&quot;"),c=c.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),u+=' title="'+c+'"'),e.openLinksInNewWindow&&!/^#/.test(o)&&(u+=' rel="noopener noreferrer" target="E95Eblank"'),u+=">"+r+"</a>",u};return t=t.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,r),t=t.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r),t=t.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r),t=t.replace(/\[([^\[\]]+)]()()()()()/g,r),e.ghMentions&&(t=t.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(t,n,r,i,o){if("\\"===r)return n+i;if(!s.helper.isString(e.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var a=e.ghMentionsLink.replace(/\{u}/g,o),l="";return e.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="E95Eblank"'),n+'<a href="'+a+'"'+l+">"+i+"</a>"}))),t=n.converter._dispatch("anchors.after",t,e,n),t}));var m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,g=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,y=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,b=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,v=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,w=function(t){"use strict";return function(e,n,r,i,o,a,l){r=r.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var c=r,u="",h="",d=n||"",p=l||"";return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),t.excludeTrailingPunctuationFromURLs&&a&&(u=a),t.openLinksInNewWindow&&(h=' rel="noopener noreferrer" target="E95Eblank"'),d+'<a href="'+r+'"'+h+">"+c+"</a>"+u+p}},x=function(t,e){"use strict";return function(n,r,i){var o="mailto:";return r=r||"",i=s.subParser("unescapeSpecialChars")(i,t,e),t.encodeEmails?(o=s.helper.encodeEmailAddress(o+i),i=s.helper.encodeEmailAddress(i)):o+=i,r+'<a href="'+o+'">'+i+"</a>"}};s.subParser("autoLinks",(function(t,e,n){"use strict";return t=n.converter._dispatch("autoLinks.before",t,e,n),t=t.replace(y,w(e)),t=t.replace(v,x(e,n)),t=n.converter._dispatch("autoLinks.after",t,e,n),t})),s.subParser("simplifiedAutoLinks",(function(t,e,n){"use strict";return e.simplifiedAutoLink?(t=n.converter._dispatch("simplifiedAutoLinks.before",t,e,n),t=e.excludeTrailingPunctuationFromURLs?t.replace(g,w(e)):t.replace(m,w(e)),t=t.replace(b,x(e,n)),t=n.converter._dispatch("simplifiedAutoLinks.after",t,e,n),t):t})),s.subParser("blockGamut",(function(t,e,n){"use strict";return t=n.converter._dispatch("blockGamut.before",t,e,n),t=s.subParser("blockQuotes")(t,e,n),t=s.subParser("headers")(t,e,n),t=s.subParser("horizontalRule")(t,e,n),t=s.subParser("lists")(t,e,n),t=s.subParser("codeBlocks")(t,e,n),t=s.subParser("tables")(t,e,n),t=s.subParser("hashHTMLBlocks")(t,e,n),t=s.subParser("paragraphs")(t,e,n),t=n.converter._dispatch("blockGamut.after",t,e,n),t})),s.subParser("blockQuotes",(function(t,e,n){"use strict";t=n.converter._dispatch("blockQuotes.before",t,e,n),t+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return e.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),t=t.replace(r,(function(t){return t=t.replace(/^[ \t]*>[ \t]?/gm,""),t=t.replace(/0/g,""),t=t.replace(/^[ \t]+$/gm,""),t=s.subParser("githubCodeBlocks")(t,e,n),t=s.subParser("blockGamut")(t,e,n),t=t.replace(/(^|\n)/g,"$1  "),t=t.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(t,e){var n=e;return n=n.replace(/^  /gm,"0"),n=n.replace(/0/g,""),n})),s.subParser("hashBlock")("<blockquote>\n"+t+"\n</blockquote>",e,n)})),t=n.converter._dispatch("blockQuotes.after",t,e,n),t})),s.subParser("codeBlocks",(function(t,e,n){"use strict";t=n.converter._dispatch("codeBlocks.before",t,e,n),t+="0";var r=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return t=t.replace(r,(function(t,r,i){var o=r,a=i,l="\n";return o=s.subParser("outdent")(o,e,n),o=s.subParser("encodeCode")(o,e,n),o=s.subParser("detab")(o,e,n),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),e.omitExtraWLInCodeBlocks&&(l=""),o="<pre><code>"+o+l+"</code></pre>",s.subParser("hashBlock")(o,e,n)+a})),t=t.replace(/0/,""),t=n.converter._dispatch("codeBlocks.after",t,e,n),t})),s.subParser("codeSpans",(function(t,e,n){"use strict";return t=n.converter._dispatch("codeSpans.before",t,e,n),"undefined"===typeof t&&(t=""),t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(t,r,i,o){var a=o;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=s.subParser("encodeCode")(a,e,n),a=r+"<code>"+a+"</code>",a=s.subParser("hashHTMLSpans")(a,e,n),a})),t=n.converter._dispatch("codeSpans.after",t,e,n),t})),s.subParser("completeHTMLDocument",(function(t,e,n){"use strict";if(!e.completeHTMLDocument)return t;t=n.converter._dispatch("completeHTMLDocument.before",t,e,n);var r="html",i="<!DOCTYPE HTML>\n",o="",s='<meta charset="utf-8">\n',a="",l="";for(var c in"undefined"!==typeof n.metadata.parsed.doctype&&(i="<!DOCTYPE "+n.metadata.parsed.doctype+">\n",r=n.metadata.parsed.doctype.toString().toLowerCase(),"html"!==r&&"html5"!==r||(s='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":o="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":a=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return t=i+"<html"+a+">\n<head>\n"+o+s+l+"</head>\n<body>\n"+t.trim()+"\n</body>\n</html>",t=n.converter._dispatch("completeHTMLDocument.after",t,e,n),t})),s.subParser("detab",(function(t,e,n){"use strict";return t=n.converter._dispatch("detab.before",t,e,n),t=t.replace(/\t(?=\t)/g,"    "),t=t.replace(/\t/g,"AB"),t=t.replace(/B(.+?)A/g,(function(t,e){for(var n=e,r=4-n.length%4,i=0;i<r;i++)n+=" ";return n})),t=t.replace(/A/g,"    "),t=t.replace(/B/g,""),t=n.converter._dispatch("detab.after",t,e,n),t})),s.subParser("ellipsis",(function(t,e,n){"use strict";return e.ellipsis?(t=n.converter._dispatch("ellipsis.before",t,e,n),t=t.replace(/\.\.\./g,""),t=n.converter._dispatch("ellipsis.after",t,e,n),t):t})),s.subParser("emoji",(function(t,e,n){"use strict";if(!e.emoji)return t;t=n.converter._dispatch("emoji.before",t,e,n);var r=/:([\S]+?):/g;return t=t.replace(r,(function(t,e){return s.helper.emojis.hasOwnProperty(e)?s.helper.emojis[e]:t})),t=n.converter._dispatch("emoji.after",t,e,n),t})),s.subParser("encodeAmpsAndAngles",(function(t,e,n){"use strict";return t=n.converter._dispatch("encodeAmpsAndAngles.before",t,e,n),t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?$!])/gi,"&lt;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=n.converter._dispatch("encodeAmpsAndAngles.after",t,e,n),t})),s.subParser("encodeBackslashEscapes",(function(t,e,n){"use strict";return t=n.converter._dispatch("encodeBackslashEscapes.before",t,e,n),t=t.replace(/\\(\\)/g,s.helper.escapeCharactersCallback),t=t.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,s.helper.escapeCharactersCallback),t=n.converter._dispatch("encodeBackslashEscapes.after",t,e,n),t})),s.subParser("encodeCode",(function(t,e,n){"use strict";return t=n.converter._dispatch("encodeCode.before",t,e,n),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,s.helper.escapeCharactersCallback),t=n.converter._dispatch("encodeCode.after",t,e,n),t})),s.subParser("escapeSpecialCharsWithinTagAttributes",(function(t,e,n){"use strict";t=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",t,e,n);var r=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,i=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return t=t.replace(r,(function(t){return t.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)})),t=t.replace(i,(function(t){return t.replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)})),t=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",t,e,n),t})),s.subParser("githubCodeBlocks",(function(t,e,n){"use strict";return e.ghCodeBlocks?(t=n.converter._dispatch("githubCodeBlocks.before",t,e,n),t+="0",t=t.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(t,r,i,o){var a=e.omitExtraWLInCodeBlocks?"":"\n";return o=s.subParser("encodeCode")(o,e,n),o=s.subParser("detab")(o,e,n),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),o="<pre><code"+(i?' class="'+i+" language-"+i+'"':"")+">"+o+a+"</code></pre>",o=s.subParser("hashBlock")(o,e,n),"\n\nG"+(n.ghCodeBlocks.push({text:t,codeblock:o})-1)+"G\n\n"})),t=t.replace(/0/,""),n.converter._dispatch("githubCodeBlocks.after",t,e,n)):t})),s.subParser("hashBlock",(function(t,e,n){"use strict";return t=n.converter._dispatch("hashBlock.before",t,e,n),t=t.replace(/(^\n+|\n+$)/g,""),t="\n\nK"+(n.gHtmlBlocks.push(t)-1)+"K\n\n",t=n.converter._dispatch("hashBlock.after",t,e,n),t})),s.subParser("hashCodeTags",(function(t,e,n){"use strict";t=n.converter._dispatch("hashCodeTags.before",t,e,n);var r=function(t,r,i,o){var a=i+s.subParser("encodeCode")(r,e,n)+o;return"C"+(n.gHtmlSpans.push(a)-1)+"C"};return t=s.helper.replaceRecursiveRegExp(t,r,"<code\\b[^>]*>","</code>","gim"),t=n.converter._dispatch("hashCodeTags.after",t,e,n),t})),s.subParser("hashElement",(function(t,e,n){"use strict";return function(t,e){var r=e;return r=r.replace(/\n\n/g,"\n"),r=r.replace(/^\n/,""),r=r.replace(/\n+$/g,""),r="\n\nK"+(n.gHtmlBlocks.push(r)-1)+"K\n\n",r}})),s.subParser("hashHTMLBlocks",(function(t,e,n){"use strict";t=n.converter._dispatch("hashHTMLBlocks.before",t,e,n);var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],i=function(t,e,r,i){var o=t;return-1!==r.search(/\bmarkdown\b/)&&(o=r+n.converter.makeHtml(e)+i),"\n\nK"+(n.gHtmlBlocks.push(o)-1)+"K\n\n"};e.backslashEscapesHTMLTags&&(t=t.replace(/\\<(\/?[^>]+?)>/g,(function(t,e){return"&lt;"+e+"&gt;"})));for(var o=0;o<r.length;++o){var a,l=new RegExp("^ {0,3}(<"+r[o]+"\\b[^>]*>)","im"),c="<"+r[o]+"\\b[^>]*>",u="</"+r[o]+">";while(-1!==(a=s.helper.regexIndexOf(t,l))){var h=s.helper.splitAtIndex(t,a),d=s.helper.replaceRecursiveRegExp(h[1],i,c,u,"im");if(d===h[1])break;t=h[0].concat(d)}}return t=t.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(t,e,n)),t=s.helper.replaceRecursiveRegExp(t,(function(t){return"\n\nK"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm"),t=t.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(t,e,n)),t=n.converter._dispatch("hashHTMLBlocks.after",t,e,n),t})),s.subParser("hashHTMLSpans",(function(t,e,n){"use strict";function r(t){return"C"+(n.gHtmlSpans.push(t)-1)+"C"}return t=n.converter._dispatch("hashHTMLSpans.before",t,e,n),t=t.replace(/<[^>]+?\/>/gi,(function(t){return r(t)})),t=t.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(t){return r(t)})),t=t.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(t){return r(t)})),t=t.replace(/<[^>]+?>/gi,(function(t){return r(t)})),t=n.converter._dispatch("hashHTMLSpans.after",t,e,n),t})),s.subParser("unhashHTMLSpans",(function(t,e,n){"use strict";t=n.converter._dispatch("unhashHTMLSpans.before",t,e,n);for(var r=0;r<n.gHtmlSpans.length;++r){var i=n.gHtmlSpans[r],o=0;while(/C(\d+)C/.test(i)){var s=RegExp.$1;if(i=i.replace("C"+s+"C",n.gHtmlSpans[s]),10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}t=t.replace("C"+r+"C",i)}return t=n.converter._dispatch("unhashHTMLSpans.after",t,e,n),t})),s.subParser("hashPreCodeTags",(function(t,e,n){"use strict";t=n.converter._dispatch("hashPreCodeTags.before",t,e,n);var r=function(t,r,i,o){var a=i+s.subParser("encodeCode")(r,e,n)+o;return"\n\nG"+(n.ghCodeBlocks.push({text:t,codeblock:a})-1)+"G\n\n"};return t=s.helper.replaceRecursiveRegExp(t,r,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),t=n.converter._dispatch("hashPreCodeTags.after",t,e,n),t})),s.subParser("headers",(function(t,e,n){"use strict";t=n.converter._dispatch("headers.before",t,e,n);var r=isNaN(parseInt(e.headerLevelStart))?1:parseInt(e.headerLevelStart),i=e.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,o=e.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;t=t.replace(i,(function(t,i){var o=s.subParser("spanGamut")(i,e,n),a=e.noHeaderId?"":' id="'+l(i)+'"',c=r,u="<h"+c+a+">"+o+"</h"+c+">";return s.subParser("hashBlock")(u,e,n)})),t=t.replace(o,(function(t,i){var o=s.subParser("spanGamut")(i,e,n),a=e.noHeaderId?"":' id="'+l(i)+'"',c=r+1,u="<h"+c+a+">"+o+"</h"+c+">";return s.subParser("hashBlock")(u,e,n)}));var a=e.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(t){var r,i;if(e.customizedHeaderId){var o=t.match(/\{([^{]+?)}\s*$/);o&&o[1]&&(t=o[1])}return r=t,i=s.helper.isString(e.prefixHeaderId)?e.prefixHeaderId:!0===e.prefixHeaderId?"section-":"",e.rawPrefixHeaderId||(r=i+r),r=e.ghCompatibleHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():e.rawHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():r.replace(/[^\w]/g,"").toLowerCase(),e.rawPrefixHeaderId&&(r=i+r),n.hashLinkCounts[r]?r=r+"-"+n.hashLinkCounts[r]++:n.hashLinkCounts[r]=1,r}return t=t.replace(a,(function(t,i,o){var a=o;e.customizedHeaderId&&(a=o.replace(/\s?\{([^{]+?)}\s*$/,""));var c=s.subParser("spanGamut")(a,e,n),u=e.noHeaderId?"":' id="'+l(o)+'"',h=r-1+i.length,d="<h"+h+u+">"+c+"</h"+h+">";return s.subParser("hashBlock")(d,e,n)})),t=n.converter._dispatch("headers.after",t,e,n),t})),s.subParser("horizontalRule",(function(t,e,n){"use strict";t=n.converter._dispatch("horizontalRule.before",t,e,n);var r=s.subParser("hashBlock")("<hr />",e,n);return t=t.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r),t=t.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r),t=t.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),t=n.converter._dispatch("horizontalRule.after",t,e,n),t})),s.subParser("images",(function(t,e,n){"use strict";t=n.converter._dispatch("images.before",t,e,n);var r=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,i=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,o=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,a=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,l=/!\[([^\[\]]+)]()()()()()/g;function c(t,e,n,r,i,o,s,a){return r=r.replace(/\s/g,""),u(t,e,n,r,i,o,s,a)}function u(t,e,r,i,o,a,l,c){var u=n.gUrls,h=n.gTitles,d=n.gDimensions;if(r=r.toLowerCase(),c||(c=""),t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)i="";else if(""===i||null===i){if(""!==r&&null!==r||(r=e.toLowerCase().replace(/ ?\n/g," ")),i="#"+r,s.helper.isUndefined(u[r]))return t;i=u[r],s.helper.isUndefined(h[r])||(c=h[r]),s.helper.isUndefined(d[r])||(o=d[r].width,a=d[r].height)}e=e.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),i=i.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var p='<img src="'+i+'" alt="'+e+'"';return c&&s.helper.isString(c)&&(c=c.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),p+=' title="'+c+'"'),o&&a&&(o="*"===o?"auto":o,a="*"===a?"auto":a,p+=' width="'+o+'"',p+=' height="'+a+'"'),p+=" />",p}return t=t.replace(a,u),t=t.replace(o,c),t=t.replace(i,u),t=t.replace(r,u),t=t.replace(l,u),t=n.converter._dispatch("images.after",t,e,n),t})),s.subParser("italicsAndBold",(function(t,e,n){"use strict";function r(t,e,n){return e+t+n}return t=n.converter._dispatch("italicsAndBold.before",t,e,n),e.literalMidWordUnderscores?(t=t.replace(/\b___(\S[\s\S]*?)___\b/g,(function(t,e){return r(e,"<strong><em>","</em></strong>")})),t=t.replace(/\b__(\S[\s\S]*?)__\b/g,(function(t,e){return r(e,"<strong>","</strong>")})),t=t.replace(/\b_(\S[\s\S]*?)_\b/g,(function(t,e){return r(e,"<em>","</em>")}))):(t=t.replace(/___(\S[\s\S]*?)___/g,(function(t,e){return/\S$/.test(e)?r(e,"<strong><em>","</em></strong>"):t})),t=t.replace(/__(\S[\s\S]*?)__/g,(function(t,e){return/\S$/.test(e)?r(e,"<strong>","</strong>"):t})),t=t.replace(/_([^\s_][\s\S]*?)_/g,(function(t,e){return/\S$/.test(e)?r(e,"<em>","</em>"):t}))),e.literalMidWordAsterisks?(t=t.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(t,e,n){return r(n,e+"<strong><em>","</em></strong>")})),t=t.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(t,e,n){return r(n,e+"<strong>","</strong>")})),t=t.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(t,e,n){return r(n,e+"<em>","</em>")}))):(t=t.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(t,e){return/\S$/.test(e)?r(e,"<strong><em>","</em></strong>"):t})),t=t.replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(t,e){return/\S$/.test(e)?r(e,"<strong>","</strong>"):t})),t=t.replace(/\*([^\s*][\s\S]*?)\*/g,(function(t,e){return/\S$/.test(e)?r(e,"<em>","</em>"):t}))),t=n.converter._dispatch("italicsAndBold.after",t,e,n),t})),s.subParser("lists",(function(t,e,n){"use strict";function r(t,r){n.gListLevel++,t=t.replace(/\n{2,}$/,"\n"),t+="0";var i=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,o=/\n[ \t]*\n(?!0)/.test(t);return e.disableForced4SpacesIndentedSublists&&(i=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),t=t.replace(i,(function(t,r,i,a,l,c,u){u=u&&""!==u.trim();var h=s.subParser("outdent")(l,e,n),d="";return c&&e.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',h=h.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var t='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(t+=" checked"),t+=">",t}))),h=h.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(t){return"A"+t})),r||h.search(/\n{2,}/)>-1?(h=s.subParser("githubCodeBlocks")(h,e,n),h=s.subParser("blockGamut")(h,e,n)):(h=s.subParser("lists")(h,e,n),h=h.replace(/\n$/,""),h=s.subParser("hashHTMLBlocks")(h,e,n),h=h.replace(/\n\n+/g,"\n\n"),h=o?s.subParser("paragraphs")(h,e,n):s.subParser("spanGamut")(h,e,n)),h=h.replace("A",""),h="<li"+d+">"+h+"</li>\n",h})),t=t.replace(/0/g,""),n.gListLevel--,r&&(t=t.replace(/\s+$/,"")),t}function i(t,e){if("ol"===e){var n=t.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function o(t,n,o){var s=e.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,a=e.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===n?s:a,c="";if(-1!==t.search(l))(function e(u){var h=u.search(l),d=i(t,n);-1!==h?(c+="\n\n<"+n+d+">\n"+r(u.slice(0,h),!!o)+"</"+n+">\n",n="ul"===n?"ol":"ul",l="ul"===n?s:a,e(u.slice(h))):c+="\n\n<"+n+d+">\n"+r(u,!!o)+"</"+n+">\n"})(t);else{var u=i(t,n);c="\n\n<"+n+u+">\n"+r(t,!!o)+"</"+n+">\n"}return c}return t=n.converter._dispatch("lists.before",t,e,n),t+="0",t=n.gListLevel?t.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(t,e,n){var r=n.search(/[*+-]/g)>-1?"ul":"ol";return o(e,r,!0)})):t.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(t,e,n,r){var i=r.search(/[*+-]/g)>-1?"ul":"ol";return o(n,i,!1)})),t=t.replace(/0/,""),t=n.converter._dispatch("lists.after",t,e,n),t})),s.subParser("metadata",(function(t,e,n){"use strict";if(!e.metadata)return t;function r(t){n.metadata.raw=t,t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),t=t.replace(/\n {4}/g," "),t.replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(t,e,r){return n.metadata.parsed[e]=r,""}))}return t=n.converter._dispatch("metadata.before",t,e,n),t=t.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,(function(t,e,n){return r(n),"M"})),t=t.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(t,e,i){return e&&(n.metadata.format=e),r(i),"M"})),t=t.replace(/M/g,""),t=n.converter._dispatch("metadata.after",t,e,n),t})),s.subParser("outdent",(function(t,e,n){"use strict";return t=n.converter._dispatch("outdent.before",t,e,n),t=t.replace(/^(\t|[ ]{1,4})/gm,"0"),t=t.replace(/0/g,""),t=n.converter._dispatch("outdent.after",t,e,n),t})),s.subParser("paragraphs",(function(t,e,n){"use strict";t=n.converter._dispatch("paragraphs.before",t,e,n),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var r=t.split(/\n{2,}/g),i=[],o=r.length,a=0;a<o;a++){var l=r[a];l.search(/(K|G)(\d+)\1/g)>=0?i.push(l):l.search(/\S/)>=0&&(l=s.subParser("spanGamut")(l,e,n),l=l.replace(/^([ \t]*)/g,"<p>"),l+="</p>",i.push(l))}for(o=i.length,a=0;a<o;a++){var c="",u=i[a],h=!1;while(/(K|G)(\d+)\1/.test(u)){var d=RegExp.$1,p=RegExp.$2;c="K"===d?n.gHtmlBlocks[p]:h?s.subParser("encodeCode")(n.ghCodeBlocks[p].text,e,n):n.ghCodeBlocks[p].codeblock,c=c.replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(h=!0)}i[a]=u}return t=i.join("\n"),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",t,e,n)})),s.subParser("runExtension",(function(t,e,n,r){"use strict";if(t.filter)e=t.filter(e,r.converter,n);else if(t.regex){var i=t.regex;i instanceof RegExp||(i=new RegExp(i,"g")),e=e.replace(i,t.replace)}return e})),s.subParser("spanGamut",(function(t,e,n){"use strict";return t=n.converter._dispatch("spanGamut.before",t,e,n),t=s.subParser("codeSpans")(t,e,n),t=s.subParser("escapeSpecialCharsWithinTagAttributes")(t,e,n),t=s.subParser("encodeBackslashEscapes")(t,e,n),t=s.subParser("images")(t,e,n),t=s.subParser("anchors")(t,e,n),t=s.subParser("autoLinks")(t,e,n),t=s.subParser("simplifiedAutoLinks")(t,e,n),t=s.subParser("emoji")(t,e,n),t=s.subParser("underline")(t,e,n),t=s.subParser("italicsAndBold")(t,e,n),t=s.subParser("strikethrough")(t,e,n),t=s.subParser("ellipsis")(t,e,n),t=s.subParser("hashHTMLSpans")(t,e,n),t=s.subParser("encodeAmpsAndAngles")(t,e,n),e.simpleLineBreaks?/\n\nK/.test(t)||(t=t.replace(/\n+/g,"<br />\n")):t=t.replace(/  +\n/g,"<br />\n"),t=n.converter._dispatch("spanGamut.after",t,e,n),t})),s.subParser("strikethrough",(function(t,e,n){"use strict";function r(t){return e.simplifiedAutoLink&&(t=s.subParser("simplifiedAutoLinks")(t,e,n)),"<del>"+t+"</del>"}return e.strikethrough&&(t=n.converter._dispatch("strikethrough.before",t,e,n),t=t.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(t,e){return r(e)})),t=n.converter._dispatch("strikethrough.after",t,e,n)),t})),s.subParser("stripLinkDefinitions",(function(t,e,n){"use strict";var r=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,i=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;t+="0";var o=function(r,i,o,a,l,c,u){return i=i.toLowerCase(),t.toLowerCase().split(i).length-1<2?r:(o.match(/^data:.+?\/.+?;base64,/)?n.gUrls[i]=o.replace(/\s/g,""):n.gUrls[i]=s.subParser("encodeAmpsAndAngles")(o,e,n),c?c+u:(u&&(n.gTitles[i]=u.replace(/"|'/g,"&quot;")),e.parseImgDimensions&&a&&l&&(n.gDimensions[i]={width:a,height:l}),""))};return t=t.replace(i,o),t=t.replace(r,o),t=t.replace(/0/,""),t})),s.subParser("tables",(function(t,e,n){"use strict";if(!e.tables)return t;var r=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,i=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function o(t){return/^:[ \t]*--*$/.test(t)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(t)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(t)?' style="text-align:center;"':""}function a(t,r){var i="";return t=t.trim(),(e.tablesHeaderId||e.tableHeaderId)&&(i=' id="'+t.replace(/ /g,"_").toLowerCase()+'"'),t=s.subParser("spanGamut")(t,e,n),"<th"+i+r+">"+t+"</th>\n"}function l(t,r){var i=s.subParser("spanGamut")(t,e,n);return"<td"+r+">"+i+"</td>\n"}function c(t,e){for(var n="<table>\n<thead>\n<tr>\n",r=t.length,i=0;i<r;++i)n+=t[i];for(n+="</tr>\n</thead>\n<tbody>\n",i=0;i<e.length;++i){n+="<tr>\n";for(var o=0;o<r;++o)n+=e[i][o];n+="</tr>\n"}return n+="</tbody>\n</table>\n",n}function u(t){var r,i=t.split("\n");for(r=0;r<i.length;++r)/^ {0,3}\|/.test(i[r])&&(i[r]=i[r].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(i[r])&&(i[r]=i[r].replace(/\|[ \t]*$/,"")),i[r]=s.subParser("codeSpans")(i[r],e,n);var u=i[0].split("|").map((function(t){return t.trim()})),h=i[1].split("|").map((function(t){return t.trim()})),d=[],p=[],f=[],m=[];for(i.shift(),i.shift(),r=0;r<i.length;++r)""!==i[r].trim()&&d.push(i[r].split("|").map((function(t){return t.trim()})));if(u.length<h.length)return t;for(r=0;r<h.length;++r)f.push(o(h[r]));for(r=0;r<u.length;++r)s.helper.isUndefined(f[r])&&(f[r]=""),p.push(a(u[r],f[r]));for(r=0;r<d.length;++r){for(var g=[],y=0;y<p.length;++y)s.helper.isUndefined(d[r][y]),g.push(l(d[r][y],f[y]));m.push(g)}return c(p,m)}return t=n.converter._dispatch("tables.before",t,e,n),t=t.replace(/\\(\|)/g,s.helper.escapeCharactersCallback),t=t.replace(r,u),t=t.replace(i,u),t=n.converter._dispatch("tables.after",t,e,n),t})),s.subParser("underline",(function(t,e,n){"use strict";return e.underline?(t=n.converter._dispatch("underline.before",t,e,n),e.literalMidWordUnderscores?(t=t.replace(/\b___(\S[\s\S]*?)___\b/g,(function(t,e){return"<u>"+e+"</u>"})),t=t.replace(/\b__(\S[\s\S]*?)__\b/g,(function(t,e){return"<u>"+e+"</u>"}))):(t=t.replace(/___(\S[\s\S]*?)___/g,(function(t,e){return/\S$/.test(e)?"<u>"+e+"</u>":t})),t=t.replace(/__(\S[\s\S]*?)__/g,(function(t,e){return/\S$/.test(e)?"<u>"+e+"</u>":t}))),t=t.replace(/(_)/g,s.helper.escapeCharactersCallback),t=n.converter._dispatch("underline.after",t,e,n),t):t})),s.subParser("unescapeSpecialChars",(function(t,e,n){"use strict";return t=n.converter._dispatch("unescapeSpecialChars.before",t,e,n),t=t.replace(/E(\d+)E/g,(function(t,e){var n=parseInt(e);return String.fromCharCode(n)})),t=n.converter._dispatch("unescapeSpecialChars.after",t,e,n),t})),s.subParser("makeMarkdown.blockquote",(function(t,e){"use strict";var n="";if(t.hasChildNodes())for(var r=t.childNodes,i=r.length,o=0;o<i;++o){var a=s.subParser("makeMarkdown.node")(r[o],e);""!==a&&(n+=a)}return n=n.trim(),n="> "+n.split("\n").join("\n> "),n})),s.subParser("makeMarkdown.codeBlock",(function(t,e){"use strict";var n=t.getAttribute("language"),r=t.getAttribute("precodenum");return"```"+n+"\n"+e.preList[r]+"\n```"})),s.subParser("makeMarkdown.codeSpan",(function(t){"use strict";return"`"+t.innerHTML+"`"})),s.subParser("makeMarkdown.emphasis",(function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="*";for(var r=t.childNodes,i=r.length,o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e);n+="*"}return n})),s.subParser("makeMarkdown.header",(function(t,e,n){"use strict";var r=new Array(n+1).join("#"),i="";if(t.hasChildNodes()){i=r+" ";for(var o=t.childNodes,a=o.length,l=0;l<a;++l)i+=s.subParser("makeMarkdown.node")(o[l],e)}return i})),s.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),s.subParser("makeMarkdown.image",(function(t){"use strict";var e="";return t.hasAttribute("src")&&(e+="!["+t.getAttribute("alt")+"](",e+="<"+t.getAttribute("src")+">",t.hasAttribute("width")&&t.hasAttribute("height")&&(e+=" ="+t.getAttribute("width")+"x"+t.getAttribute("height")),t.hasAttribute("title")&&(e+=' "'+t.getAttribute("title")+'"'),e+=")"),e})),s.subParser("makeMarkdown.links",(function(t,e){"use strict";var n="";if(t.hasChildNodes()&&t.hasAttribute("href")){var r=t.childNodes,i=r.length;n="[";for(var o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e);n+="](",n+="<"+t.getAttribute("href")+">",t.hasAttribute("title")&&(n+=' "'+t.getAttribute("title")+'"'),n+=")"}return n})),s.subParser("makeMarkdown.list",(function(t,e,n){"use strict";var r="";if(!t.hasChildNodes())return"";for(var i=t.childNodes,o=i.length,a=t.getAttribute("start")||1,l=0;l<o;++l)if("undefined"!==typeof i[l].tagName&&"li"===i[l].tagName.toLowerCase()){var c="";c="ol"===n?a.toString()+". ":"- ",r+=c+s.subParser("makeMarkdown.listItem")(i[l],e),++a}return r+="\n\x3c!-- --\x3e\n",r.trim()})),s.subParser("makeMarkdown.listItem",(function(t,e){"use strict";for(var n="",r=t.childNodes,i=r.length,o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n})),s.subParser("makeMarkdown.node",(function(t,e,n){"use strict";n=n||!1;var r="";if(3===t.nodeType)return s.subParser("makeMarkdown.txt")(t,e);if(8===t.nodeType)return"\x3c!--"+t.data+"--\x3e\n\n";if(1!==t.nodeType)return"";var i=t.tagName.toLowerCase();switch(i){case"h1":n||(r=s.subParser("makeMarkdown.header")(t,e,1)+"\n\n");break;case"h2":n||(r=s.subParser("makeMarkdown.header")(t,e,2)+"\n\n");break;case"h3":n||(r=s.subParser("makeMarkdown.header")(t,e,3)+"\n\n");break;case"h4":n||(r=s.subParser("makeMarkdown.header")(t,e,4)+"\n\n");break;case"h5":n||(r=s.subParser("makeMarkdown.header")(t,e,5)+"\n\n");break;case"h6":n||(r=s.subParser("makeMarkdown.header")(t,e,6)+"\n\n");break;case"p":n||(r=s.subParser("makeMarkdown.paragraph")(t,e)+"\n\n");break;case"blockquote":n||(r=s.subParser("makeMarkdown.blockquote")(t,e)+"\n\n");break;case"hr":n||(r=s.subParser("makeMarkdown.hr")(t,e)+"\n\n");break;case"ol":n||(r=s.subParser("makeMarkdown.list")(t,e,"ol")+"\n\n");break;case"ul":n||(r=s.subParser("makeMarkdown.list")(t,e,"ul")+"\n\n");break;case"precode":n||(r=s.subParser("makeMarkdown.codeBlock")(t,e)+"\n\n");break;case"pre":n||(r=s.subParser("makeMarkdown.pre")(t,e)+"\n\n");break;case"table":n||(r=s.subParser("makeMarkdown.table")(t,e)+"\n\n");break;case"code":r=s.subParser("makeMarkdown.codeSpan")(t,e);break;case"em":case"i":r=s.subParser("makeMarkdown.emphasis")(t,e);break;case"strong":case"b":r=s.subParser("makeMarkdown.strong")(t,e);break;case"del":r=s.subParser("makeMarkdown.strikethrough")(t,e);break;case"a":r=s.subParser("makeMarkdown.links")(t,e);break;case"img":r=s.subParser("makeMarkdown.image")(t,e);break;default:r=t.outerHTML+"\n\n"}return r})),s.subParser("makeMarkdown.paragraph",(function(t,e){"use strict";var n="";if(t.hasChildNodes())for(var r=t.childNodes,i=r.length,o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e);return n=n.trim(),n})),s.subParser("makeMarkdown.pre",(function(t,e){"use strict";var n=t.getAttribute("prenum");return"<pre>"+e.preList[n]+"</pre>"})),s.subParser("makeMarkdown.strikethrough",(function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="~~";for(var r=t.childNodes,i=r.length,o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e);n+="~~"}return n})),s.subParser("makeMarkdown.strong",(function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="**";for(var r=t.childNodes,i=r.length,o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e);n+="**"}return n})),s.subParser("makeMarkdown.table",(function(t,e){"use strict";var n,r,i="",o=[[],[]],a=t.querySelectorAll("thead>tr>th"),l=t.querySelectorAll("tbody>tr");for(n=0;n<a.length;++n){var c=s.subParser("makeMarkdown.tableCell")(a[n],e),u="---";if(a[n].hasAttribute("style")){var h=a[n].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(h){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:";break}}o[0][n]=c.trim(),o[1][n]=u}for(n=0;n<l.length;++n){var d=o.push([])-1,p=l[n].getElementsByTagName("td");for(r=0;r<a.length;++r){var f=" ";"undefined"!==typeof p[r]&&(f=s.subParser("makeMarkdown.tableCell")(p[r],e)),o[d].push(f)}}var m=3;for(n=0;n<o.length;++n)for(r=0;r<o[n].length;++r){var g=o[n][r].length;g>m&&(m=g)}for(n=0;n<o.length;++n){for(r=0;r<o[n].length;++r)1===n?":"===o[n][r].slice(-1)?o[n][r]=s.helper.padEnd(o[n][r].slice(-1),m-1,"-")+":":o[n][r]=s.helper.padEnd(o[n][r],m,"-"):o[n][r]=s.helper.padEnd(o[n][r],m);i+="| "+o[n].join(" | ")+" |\n"}return i.trim()})),s.subParser("makeMarkdown.tableCell",(function(t,e){"use strict";var n="";if(!t.hasChildNodes())return"";for(var r=t.childNodes,i=r.length,o=0;o<i;++o)n+=s.subParser("makeMarkdown.node")(r[o],e,!0);return n.trim()})),s.subParser("makeMarkdown.txt",(function(t){"use strict";var e=t.nodeValue;return e=e.replace(/ +/g," "),e=e.replace(/NBSP;/g," "),e=s.helper.unescapeHTMLEntities(e),e=e.replace(/([*_~|`])/g,"\\$1"),e=e.replace(/^(\s*)>/g,"\\$1>"),e=e.replace(/^#/gm,"\\#"),e=e.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),e=e.replace(/^( {0,3}\d+)\./gm,"$1\\."),e=e.replace(/^( {0,3})([+-])/gm,"$1\\$2"),e=e.replace(/]([\s]*)\(/g,"\\]$1\\("),e=e.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),e}));r=function(){"use strict";return s}.call(e,n,e,t),void 0===r||(t.exports=r)}).call(this)},7632:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});const r="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var i={randomUUID:r};let o;const s=new Uint8Array(16);function a(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}const l=[];for(let d=0;d<256;++d)l.push((d+256).toString(16).slice(1));function c(t,e=0){return l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]}function u(t,e,n){if(i.randomUUID&&!e&&!t)return i.randomUUID();t=t||{};const r=t.random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return c(r)}var h=u},3764:function(t,e,n){"use strict";n.d(e,{$Q:function(){return b}});var r,i=n(5750),o=n(6252),s=n(2262);function a(t,e,n,i){t(e,n),void 0!==i&&i.emit(r.ChartRendered)}function l(t,e){t.update(),void 0!==e&&e.emit(r.ChartUpdated)}function c(t,e){t.destroy(),void 0!==e&&e.emit(r.ChartDestroyed)}function u(t,e){const n={labels:"undefined"===typeof t.labels?[]:[...t.labels],datasets:[]};return h(n,{...t},e),n}function h(t,e,n){const r=[];t.datasets=e.datasets.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function d(t,e,n){t.data.labels=e,void 0!==n&&n.emit(r.LabelsUpdated)}function p(t,e){t.options={...e}}function f(t,e){const n=t.datasets.map((t=>t.label)),r=e.datasets.map((t=>t.label));return e.datasets.length===t.datasets.length&&n.every(((t,e)=>t===r[e]))}(function(t){t["ChartRendered"]="chart:rendered",t["ChartUpdated"]="chart:updated",t["ChartDestroyed"]="chart:destroyed",t["LabelsUpdated"]="labels:updated"})(r||(r={}));const m="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",g="Update ERROR: chart instance not found",y=(t,e,n)=>(0,o.aZ)({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(t,r){i.kL.register(n);const y=(0,s.XI)(null),b=(0,s.iH)(null);function v(n,o){if(null!==y.value&&c((0,s.IU)(y.value),r),null===b.value)throw new Error(m);{const r=u(n,t.datasetIdKey),a=b.value.getContext("2d");null!==a&&(y.value=new i.kL(a,{type:e,data:(0,s.X3)(n)?new Proxy(r,{}):r,options:o,plugins:t.plugins}))}}function w(e,n){const i=(0,s.X3)(e)?(0,s.IU)(e):{...e},o=(0,s.X3)(n)?(0,s.IU)(n):{...n};if(Object.keys(o).length>0){const e=(0,s.IU)(y.value),n=f(i,o);n&&null!==e?(h(null===e||void 0===e?void 0:e.data,i,t.datasetIdKey),void 0!==i.labels&&d(e,i.labels,r),_()):(null!==e&&c(e,r),a(v,t.chartData,t.chartOptions,r))}else null!==y.value&&c((0,s.IU)(y.value),r),a(v,t.chartData,t.chartOptions,r)}function x(e){const n=(0,s.IU)(y.value);null!==n?(p(n,e),_()):a(v,t.chartData,t.chartOptions,r)}function _(){const t=(0,s.IU)(y.value);null!==t?l(t,r):console.error(g)}return(0,o.YP)((()=>t.chartData),((t,e)=>w(t,e)),{deep:!0}),(0,o.YP)((()=>t.chartOptions),(t=>x(t)),{deep:!0}),(0,o.bv)((()=>{"datasets"in t.chartData&&t.chartData.datasets.length>0&&a(v,t.chartData,t.chartOptions,r)})),(0,o.Jd)((()=>{null!==y.value&&c((0,s.IU)(y.value),r)})),r.expose({chart:y,updateChart:_}),()=>(0,o.h)("div",{style:t.styles,class:t.cssClasses},[(0,o.h)("canvas",{id:t.chartId,width:t.width,height:t.height,ref:b})])}}),b=y("bar-chart","bar",i.vn)},8496:function(t,e,n){"use strict";n.d(e,{J:function(){return $e}});var r=n(6252);
/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function c(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function u(t,e){if(null==t)return{};var n,r,i=c(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var h="1.14.0";function d(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var p=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=d(/Edge/i),m=d(/firefox/i),g=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),y=d(/iP(ad|od|hone)/i),b=d(/chrome/i)&&d(/android/i),v={capture:!1,passive:!1};function w(t,e,n){t.addEventListener(e,n,!p&&v)}function x(t,e,n){t.removeEventListener(e,n,!p&&v)}function _(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function k(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function S(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&_(t,e):_(t,e))||r&&t===n)return t;if(t===n)break}while(t=k(t))}return null}var C,O=/\s+/g;function M(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(O," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(O," ")}}function T(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"===typeof n?"":"px")}}function E(t,e){var n="";if("string"===typeof t)n=t;else do{var r=T(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function A(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function P(){var t=document.scrollingElement;return t||document.documentElement}function D(t,e,n,r,i){if(t.getBoundingClientRect||t===window){var o,s,a,l,c,u,h;if(t!==window&&t.parentNode&&t!==P()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!p))do{if(i&&i.getBoundingClientRect&&("none"!==T(i,"transform")||n&&"static"!==T(i,"position"))){var d=i.getBoundingClientRect();s-=d.top+parseInt(T(i,"border-top-width")),a-=d.left+parseInt(T(i,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(i=i.parentNode);if(r&&t!==window){var f=E(i||t),m=f&&f.a,g=f&&f.d;f&&(s/=g,a/=m,h/=m,u/=g,l=s+u,c=a+h)}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function N(t,e,n){var r=z(t,!0),i=D(t)[e];while(r){var o=D(r)[n],s=void 0;if(s="top"===n||"left"===n?i>=o:i<=o,!s)return r;if(r===P())break;r=z(r,!1)}return!1}function I(t,e,n,r){var i=0,o=0,s=t.children;while(o<s.length){if("none"!==s[o].style.display&&s[o]!==Jt.ghost&&(r||s[o]!==Jt.dragged)&&S(s[o],n.draggable,t,!1)){if(i===e)return s[o];i++}o++}return null}function L(t,e){var n=t.lastElementChild;while(n&&(n===Jt.ghost||"none"===T(n,"display")||e&&!_(n,e)))n=n.previousElementSibling;return n||null}function B(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===Jt.clone||e&&!_(t,e)||n++;return n}function R(t){var e=0,n=0,r=P();if(t)do{var i=E(t),o=i.a,s=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,n]}function j(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}function z(t,e){if(!t||!t.getBoundingClientRect)return P();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=T(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return P();if(r||e)return n;r=!0}}}while(n=n.parentNode);return P()}function H(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function F(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function $(t,e){return function(){if(!C){var n=arguments,r=this;1===n.length?t.call(r,n[0]):t.apply(r,n),C=setTimeout((function(){C=void 0}),e)}}}function V(){clearTimeout(C),C=void 0}function W(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function q(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function K(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach((function(t){if("none"!==T(t,"display")&&t!==Jt.ghost){e.push({target:t,rect:D(t)});var n=o({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=E(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(j(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof n&&n());var i=!1,o=0;e.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=D(n),l=n.prevFromRect,c=n.prevToRect,u=t.rect,h=E(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&F(l,a)&&!F(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(e=J(u,l,c,r.options)),F(a,s)||(n.prevFromRect=s,n.prevToRect=a,e||(e=r.options.animation),r.animate(n,u,a,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){T(t,"transition",""),T(t,"transform","");var i=E(this.el),o=i&&i.a,s=i&&i.d,a=(e.left-n.left)/(o||1),l=(e.top-n.top)/(s||1);t.animatingX=!!a,t.animatingY=!!l,T(t,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=Y(t),T(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),T(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){T(t,"transition",""),T(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}function Y(t){return t.offsetWidth}function J(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var G=[],X={initializeByDefault:!0},Z={mount:function(t){for(var e in X)X.hasOwnProperty(e)&&!(e in t)&&(t[e]=X[e]);G.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),G.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";G.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](o({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](o({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var i in G.forEach((function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var o=new r(t,e,t.options);o.sortable=t,o.options=t.options,t[i]=o,l(n,o.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var o=this.modifyOption(t,i,t.options[i]);"undefined"!==typeof o&&(t.options[i]=o)}},getEventProperties:function(t,e){var n={};return G.forEach((function(r){"function"===typeof r.eventProperties&&l(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return G.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))})),r}};function Q(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,l=t.fromEl,c=t.oldIndex,u=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,m=t.originalEvent,g=t.putSortable,y=t.extraEventProperties;if(e=e||n&&n[U],e){var b,v=e.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||p||f?(b=document.createEvent("Event"),b.initEvent(r,!0,!0)):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=a||n,b.from=l||n,b.item=i||n,b.clone=s,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=h,b.newDraggableIndex=d,b.originalEvent=m,b.pullMode=g?g.lastPutMode:void 0;var x=o(o({},y),Z.getEventProperties(r,e));for(var _ in x)b[_]=x[_];n&&n.dispatchEvent(b),v[w]&&v[w].call(e,b)}}var tt=["evt"],et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=u(n,tt);Z.pluginEvent.bind(Jt)(t,e,o({dragEl:rt,parentEl:it,ghostEl:ot,rootEl:st,nextEl:at,lastDownEl:lt,cloneEl:ct,cloneHidden:ut,dragStarted:kt,putSortable:gt,activeSortable:Jt.active,originalEvent:r,oldIndex:ht,oldDraggableIndex:pt,newIndex:dt,newDraggableIndex:ft,hideGhostForTarget:qt,unhideGhostForTarget:Ut,cloneNowHidden:function(){ut=!0},cloneNowShown:function(){ut=!1},dispatchSortableEvent:function(t){nt({sortable:e,name:t,originalEvent:r})}},i))};function nt(t){Q(o({putSortable:gt,cloneEl:ct,targetEl:rt,rootEl:st,oldIndex:ht,oldDraggableIndex:pt,newIndex:dt,newDraggableIndex:ft},t))}var rt,it,ot,st,at,lt,ct,ut,ht,dt,pt,ft,mt,gt,yt,bt,vt,wt,xt,_t,kt,St,Ct,Ot,Mt,Tt=!1,Et=!1,At=[],Pt=!1,Dt=!1,Nt=[],It=!1,Lt=[],Bt="undefined"!==typeof document,Rt=y,jt=f||p?"cssFloat":"float",zt=Bt&&!b&&!y&&"draggable"in document.createElement("div"),Ht=function(){if(Bt){if(p)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Ft=function(t,e){var n=T(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=I(t,0,e),o=I(t,1,e),s=i&&T(i),a=o&&T(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+D(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+D(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s["float"]&&"none"!==s["float"]){var u="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[jt]||o&&"none"===n[jt]&&l+c>r)?"vertical":"horizontal"},$t=function(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,o=n?t.width:t.height,s=n?e.left:e.top,a=n?e.right:e.bottom,l=n?e.width:e.height;return r===s||i===a||r+o/2===s+l/2},Vt=function(t,e){var n;return At.some((function(r){var i=r[U].options.emptyInsertThreshold;if(i&&!L(r)){var o=D(r),s=t>=o.left-i&&t<=o.right+i,a=e>=o.top-i&&e<=o.bottom+i;return s&&a?n=r:void 0}})),n},Wt=function(t){function e(t,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},r=t.group;r&&"object"==s(r)||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},qt=function(){!Ht&&ot&&T(ot,"display","none")},Ut=function(){!Ht&&ot&&T(ot,"display","")};Bt&&document.addEventListener("click",(function(t){if(Et)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Et=!1,!1}),!0);var Kt=function(t){if(rt){t=t.touches?t.touches[0]:t;var e=Vt(t.clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[U]._onDragOver(n)}}},Yt=function(t){rt&&rt.parentNode[U]._isOutsideThisEl(t.target)};function Jt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=l({},e),t[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ft(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Jt.supportPointer&&"PointerEvent"in window&&!g,emptyInsertThreshold:5};for(var r in Z.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var i in Wt(e),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&zt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(t,"pointerdown",this._onTapStart):(w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),At.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),l(this,K())}function Gt(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Xt(t,e,n,r,i,o,s,a){var l,c,u=t[U],h=u.options.onMove;return!window.CustomEvent||p||f?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||D(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function Zt(t){t.draggable=!1}function Qt(){It=!1}function te(t,e,n){var r=D(I(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function ee(t,e,n){var r=D(L(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function ne(t,e,n,r,i,o,s,a){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,u=r?n.top:n.left,h=r?n.bottom:n.right,d=!1;if(!s)if(a&&Ot<c*i){if(!Pt&&(1===Ct?l>u+c*o/2:l<h-c*o/2)&&(Pt=!0),Pt)d=!0;else if(1===Ct?l<u+Ot:l>h-Ot)return-Ct}else if(l>u+c*(1-i)/2&&l<h-c*(1-i)/2)return re(e);return d=d||s,d&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}function re(t){return B(rt)<B(t)?1:-1}function ie(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;while(n--)r+=e.charCodeAt(n);return r.toString(36)}function oe(t){Lt.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var r=e[n];r.checked&&Lt.push(r)}}function se(t){return setTimeout(t,0)}function ae(t){return clearTimeout(t)}Jt.prototype={constructor:Jt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(St=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,rt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=r.filter;if(oe(n),!rt&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!g||!a||"SELECT"!==a.tagName.toUpperCase())&&(a=S(a,r.draggable,n,!1),(!a||!a.animated)&&lt!==a)){if(ht=B(a),pt=B(a,r.draggable),"function"===typeof c){if(c.call(this,t,a,this))return nt({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),et("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=S(l,r.trim(),n,!1),r)return nt({sortable:e,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),et("filter",e,{evt:t}),!0})),c))return void(i&&t.cancelable&&t.preventDefault());r.handle&&!S(l,r.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!rt&&n.parentNode===o){var l=D(n);if(st=o,rt=n,it=rt.parentNode,at=rt.nextSibling,lt=n,mt=s.group,Jt.dragged=rt,yt={target:rt,clientX:(e||t).clientX,clientY:(e||t).clientY},xt=yt.clientX-l.left,_t=yt.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,rt.style["will-change"]="all",r=function(){et("delayEnded",i,{evt:t}),Jt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!m&&i.nativeDraggable&&(rt.draggable=!0),i._triggerDragStart(t,e),nt({sortable:i,name:"choose",originalEvent:t}),M(rt,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){A(rt,t.trim(),Zt)})),w(a,"dragover",Kt),w(a,"mousemove",Kt),w(a,"touchmove",Kt),w(a,"mouseup",i._onDrop),w(a,"touchend",i._onDrop),w(a,"touchcancel",i._onDrop),m&&this.nativeDraggable&&(this.options.touchStartThreshold=4,rt.draggable=!0),et("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(f||p))r();else{if(Jt.eventCanceled)return void this._onDrop();w(a,"mouseup",i._disableDelayedDrag),w(a,"touchend",i._disableDelayedDrag),w(a,"touchcancel",i._disableDelayedDrag),w(a,"mousemove",i._delayedDragTouchMoveHandler),w(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&w(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){rt&&Zt(rt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;x(t,"mouseup",this._disableDelayedDrag),x(t,"touchend",this._disableDelayedDrag),x(t,"touchcancel",this._disableDelayedDrag),x(t,"mousemove",this._delayedDragTouchMoveHandler),x(t,"touchmove",this._delayedDragTouchMoveHandler),x(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,e?"touchmove":"mousemove",this._onTouchMove):(w(rt,"dragend",this),w(st,"dragstart",this._onDragStart));try{document.selection?se((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(Tt=!1,st&&rt){et("dragStarted",this,{evt:e}),this.nativeDraggable&&w(document,"dragover",Yt);var n=this.options;!t&&M(rt,n.dragClass,!1),M(rt,n.ghostClass,!0),Jt.active=this,t&&this._appendGhost(),nt({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(bt){this._lastX=bt.clientX,this._lastY=bt.clientY,qt();var t=document.elementFromPoint(bt.clientX,bt.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(bt.clientX,bt.clientY),t===e)break;e=t}if(rt.parentNode[U]._isOutsideThisEl(t),e)do{if(e[U]){var n=void 0;if(n=e[U]._onDragOver({clientX:bt.clientX,clientY:bt.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Ut()}},_onTouchMove:function(t){if(yt){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=ot&&E(ot,!0),s=ot&&o&&o.a,a=ot&&o&&o.d,l=Rt&&Mt&&R(Mt),c=(i.clientX-yt.clientX+r.x)/(s||1)+(l?l[0]-Nt[0]:0)/(s||1),u=(i.clientY-yt.clientY+r.y)/(a||1)+(l?l[1]-Nt[1]:0)/(a||1);if(!Jt.active&&!Tt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(ot){o?(o.e+=c-(vt||0),o.f+=u-(wt||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");T(ot,"webkitTransform",h),T(ot,"mozTransform",h),T(ot,"msTransform",h),T(ot,"transform",h),vt=c,wt=u,bt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ot){var t=this.options.fallbackOnBody?document.body:st,e=D(rt,!0,Rt,!0,t),n=this.options;if(Rt){Mt=t;while("static"===T(Mt,"position")&&"none"===T(Mt,"transform")&&Mt!==document)Mt=Mt.parentNode;Mt!==document.body&&Mt!==document.documentElement?(Mt===document&&(Mt=P()),e.top+=Mt.scrollTop,e.left+=Mt.scrollLeft):Mt=P(),Nt=R(Mt)}ot=rt.cloneNode(!0),M(ot,n.ghostClass,!1),M(ot,n.fallbackClass,!0),M(ot,n.dragClass,!0),T(ot,"transition",""),T(ot,"transform",""),T(ot,"box-sizing","border-box"),T(ot,"margin",0),T(ot,"top",e.top),T(ot,"left",e.left),T(ot,"width",e.width),T(ot,"height",e.height),T(ot,"opacity","0.8"),T(ot,"position",Rt?"absolute":"fixed"),T(ot,"zIndex","100000"),T(ot,"pointerEvents","none"),Jt.ghost=ot,t.appendChild(ot),T(ot,"transform-origin",xt/parseInt(ot.style.width)*100+"% "+_t/parseInt(ot.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;et("dragStart",this,{evt:t}),Jt.eventCanceled?this._onDrop():(et("setupClone",this),Jt.eventCanceled||(ct=q(rt),ct.draggable=!1,ct.style["will-change"]="",this._hideClone(),M(ct,this.options.chosenClass,!1),Jt.clone=ct),n.cloneId=se((function(){et("clone",n),Jt.eventCanceled||(n.options.removeCloneOnHide||st.insertBefore(ct,rt),n._hideClone(),nt({sortable:n,name:"clone"}))})),!e&&M(rt,i.dragClass,!0),e?(Et=!0,n._loopId=setInterval(n._emulateDragOver,50)):(x(document,"mouseup",n._onDrop),x(document,"touchend",n._onDrop),x(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,rt)),w(document,"drop",n),T(rt,"transform","translateZ(0)")),Tt=!0,n._dragStartId=se(n._dragStarted.bind(n,e,t)),w(document,"selectstart",n),kt=!0,g&&T(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,i,s=this.el,a=t.target,l=this.options,c=l.group,u=Jt.active,h=mt===c,d=l.sort,p=gt||u,f=this,m=!1;if(!It){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=S(a,l.draggable,s,!0),j("dragOver"),Jt.eventCanceled)return m;if(rt.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return H(!1);if(Et=!1,u&&!l.disabled&&(h?d||(r=it!==st):gt===this||(this.lastPutMode=mt.checkPull(this,u,rt,t))&&c.checkPut(this,u,rt,t))){if(i="vertical"===this._getDirection(t,a),e=D(rt),j("dragOverValid"),Jt.eventCanceled)return m;if(r)return it=st,z(),this._hideClone(),j("revert"),Jt.eventCanceled||(at?st.insertBefore(rt,at):st.appendChild(rt)),H(!0);var g=L(s,l.draggable);if(!g||ee(t,i,this)&&!g.animated){if(g===rt)return H(!1);if(g&&s===t.target&&(a=g),a&&(n=D(a)),!1!==Xt(st,s,rt,e,a,n,t,!!a))return z(),s.appendChild(rt),it=s,F(),H(!0)}else if(g&&te(t,i,this)){var y=I(s,0,l,!0);if(y===rt)return H(!1);if(a=y,n=D(a),!1!==Xt(st,s,rt,e,a,n,t,!1))return z(),s.insertBefore(rt,y),it=s,F(),H(!0)}else if(a.parentNode===s){n=D(a);var b,v,w=0,x=rt.parentNode!==s,_=!$t(rt.animated&&rt.toRect||e,a.animated&&a.toRect||n,i),k=i?"top":"left",C=N(a,"top","top")||N(rt,"top","top"),O=C?C.scrollTop:void 0;if(St!==a&&(b=n[k],Pt=!1,Dt=!_&&l.invertSwap||x),w=ne(t,a,n,i,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Dt,St===a),0!==w){var E=B(rt);do{E-=w,v=it.children[E]}while(v&&("none"===T(v,"display")||v===ot))}if(0===w||v===a)return H(!1);St=a,Ct=w;var A=a.nextElementSibling,P=!1;P=1===w;var R=Xt(st,s,rt,e,a,n,t,P);if(!1!==R)return 1!==R&&-1!==R||(P=1===R),It=!0,setTimeout(Qt,30),z(),P&&!A?s.appendChild(rt):a.parentNode.insertBefore(rt,P?A:a),C&&W(C,0,O-C.scrollTop),it=rt.parentNode,void 0===b||Dt||(Ot=Math.abs(b-D(a)[k])),F(),H(!0)}if(s.contains(rt))return H(!1)}return!1}function j(l,c){et(l,f,o({evt:t,isOwner:h,axis:i?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:d,fromSortable:p,target:a,completed:H,onMove:function(n,r){return Xt(st,s,rt,e,n,D(n),t,r)},changed:F},c))}function z(){j("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function H(e){return j("dragOverCompleted",{insertion:e}),e&&(h?u._hideClone():u._showClone(f),f!==p&&(M(rt,gt?gt.options.ghostClass:u.options.ghostClass,!1),M(rt,l.ghostClass,!0)),gt!==f&&f!==Jt.active?gt=f:f===Jt.active&&gt&&(gt=null),p===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){j("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===rt&&!rt.animated||a===s&&!a.animated)&&(St=null),l.dragoverBubble||t.rootEl||a===document||(rt.parentNode[U]._isOutsideThisEl(t.target),!e&&Kt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function F(){dt=B(rt),ft=B(rt,l.draggable),nt({sortable:f,name:"change",toEl:s,newIndex:dt,newDraggableIndex:ft,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){x(document,"mousemove",this._onTouchMove),x(document,"touchmove",this._onTouchMove),x(document,"pointermove",this._onTouchMove),x(document,"dragover",Kt),x(document,"mousemove",Kt),x(document,"touchmove",Kt)},_offUpEvents:function(){var t=this.el.ownerDocument;x(t,"mouseup",this._onDrop),x(t,"touchend",this._onDrop),x(t,"pointerup",this._onDrop),x(t,"touchcancel",this._onDrop),x(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;dt=B(rt),ft=B(rt,n.draggable),et("drop",this,{evt:t}),it=rt&&rt.parentNode,dt=B(rt),ft=B(rt,n.draggable),Jt.eventCanceled||(Tt=!1,Dt=!1,Pt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ae(this.cloneId),ae(this._dragStartId),this.nativeDraggable&&(x(document,"drop",this),x(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),g&&T(document.body,"user-select",""),T(rt,"transform",""),t&&(kt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),ot&&ot.parentNode&&ot.parentNode.removeChild(ot),(st===it||gt&&"clone"!==gt.lastPutMode)&&ct&&ct.parentNode&&ct.parentNode.removeChild(ct),rt&&(this.nativeDraggable&&x(rt,"dragend",this),Zt(rt),rt.style["will-change"]="",kt&&!Tt&&M(rt,gt?gt.options.ghostClass:this.options.ghostClass,!1),M(rt,this.options.chosenClass,!1),nt({sortable:this,name:"unchoose",toEl:it,newIndex:null,newDraggableIndex:null,originalEvent:t}),st!==it?(dt>=0&&(nt({rootEl:it,name:"add",toEl:it,fromEl:st,originalEvent:t}),nt({sortable:this,name:"remove",toEl:it,originalEvent:t}),nt({rootEl:it,name:"sort",toEl:it,fromEl:st,originalEvent:t}),nt({sortable:this,name:"sort",toEl:it,originalEvent:t})),gt&&gt.save()):dt!==ht&&dt>=0&&(nt({sortable:this,name:"update",toEl:it,originalEvent:t}),nt({sortable:this,name:"sort",toEl:it,originalEvent:t})),Jt.active&&(null!=dt&&-1!==dt||(dt=ht,ft=pt),nt({sortable:this,name:"end",toEl:it,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){et("nulling",this),st=rt=it=ot=at=ct=lt=ut=yt=bt=kt=dt=ft=ht=pt=St=Ct=gt=mt=Jt.dragged=Jt.ghost=Jt.clone=Jt.active=null,Lt.forEach((function(t){t.checked=!0})),Lt.length=vt=wt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":rt&&(this._onDragOver(t),Gt(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)t=n[r],S(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||ie(t));return e},sort:function(t,e){var n={},r=this.el;this.toArray().forEach((function(t,e){var i=r.children[e];S(i,this.options.draggable,r,!1)&&(n[t]=i)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(r.removeChild(n[t]),r.appendChild(n[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return S(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=Z.modifyOption(this,t,e);n[t]="undefined"!==typeof r?r:e,"group"===t&&Wt(n)},destroy:function(){et("destroy",this);var t=this.el;t[U]=null,x(t,"mousedown",this._onTapStart),x(t,"touchstart",this._onTapStart),x(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(x(t,"dragover",this),x(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),At.splice(At.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ut){if(et("hideClone",this),Jt.eventCanceled)return;T(ct,"display","none"),this.options.removeCloneOnHide&&ct.parentNode&&ct.parentNode.removeChild(ct),ut=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ut){if(et("showClone",this),Jt.eventCanceled)return;rt.parentNode!=st||this.options.group.revertClone?at?st.insertBefore(ct,at):st.appendChild(ct):st.insertBefore(ct,rt),this.options.group.revertClone&&this.animate(rt,ct),T(ct,"display",""),ut=!1}}else this._hideClone()}},Bt&&w(document,"touchmove",(function(t){(Jt.active||Tt)&&t.cancelable&&t.preventDefault()})),Jt.utils={on:w,off:x,css:T,find:A,is:function(t,e){return!!S(t,e,t,!1)},extend:H,throttle:$,closest:S,toggleClass:M,clone:q,index:B,nextTick:se,cancelNextTick:ae,detectDirection:Ft,getChild:I},Jt.get=function(t){return t[U]},Jt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Jt.utils=o(o({},Jt.utils),t.utils)),Z.mount(t)}))},Jt.create=function(t,e){return new Jt(t,e)},Jt.version=h;var le,ce,ue,he,de,pe,fe=[],me=!1;function ge(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):e.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):(x(document,"pointermove",this._handleFallbackAutoScroll),x(document,"touchmove",this._handleFallbackAutoScroll),x(document,"mousemove",this._handleFallbackAutoScroll)),be(),ye(),V()},nulling:function(){de=ce=le=me=pe=ue=he=null,fe.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(r,i);if(de=t,e||this.options.forceAutoScrollFallback||f||p||g){ve(t,this.options,o,e);var s=z(o,!0);!me||pe&&r===ue&&i===he||(pe&&be(),pe=setInterval((function(){var o=z(document.elementFromPoint(r,i),!0);o!==s&&(s=o,ye()),ve(t,n.options,o,e)}),10),ue=r,he=i)}else{if(!this.options.bubbleScroll||z(o,!0)===P())return void ye();ve(t,this.options,z(o,!1),!1)}}},l(t,{pluginName:"scroll",initializeByDefault:!0})}function ye(){fe.forEach((function(t){clearInterval(t.pid)})),fe=[]}function be(){clearInterval(pe)}var ve=$((function(t,e,n,r){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=P(),u=!1;ce!==n&&(ce=n,ye(),le=e.scroll,i=e.scrollFn,!0===le&&(le=z(n,!0)));var h=0,d=le;do{var p=d,f=D(p),m=f.top,g=f.bottom,y=f.left,b=f.right,v=f.width,w=f.height,x=void 0,_=void 0,k=p.scrollWidth,S=p.scrollHeight,C=T(p),O=p.scrollLeft,M=p.scrollTop;p===c?(x=v<k&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),_=w<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=v<k&&("auto"===C.overflowX||"scroll"===C.overflowX),_=w<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var E=x&&(Math.abs(b-o)<=a&&O+v<k)-(Math.abs(y-o)<=a&&!!O),A=_&&(Math.abs(g-s)<=a&&M+w<S)-(Math.abs(m-s)<=a&&!!M);if(!fe[h])for(var N=0;N<=h;N++)fe[N]||(fe[N]={});fe[h].vx==E&&fe[h].vy==A&&fe[h].el===p||(fe[h].el=p,fe[h].vx=E,fe[h].vy=A,clearInterval(fe[h].pid),0==E&&0==A||(u=!0,fe[h].pid=setInterval(function(){r&&0===this.layer&&Jt.active._onTouchMove(de);var e=fe[this.layer].vy?fe[this.layer].vy*l:0,n=fe[this.layer].vx?fe[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Jt.dragged.parentNode[U],n,e,t,de,fe[this.layer].el)||W(fe[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==c&&(d=z(d,!1)));me=u}}),30),we=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=n||i;s();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function xe(){}function _e(){}function ke(){return"undefined"!==typeof window?window.console:n.g.console}xe.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=I(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:we},l(xe,{pluginName:"revertOnSpill"}),_e.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:we},l(_e,{pluginName:"removeOnSpill"}),Jt.mount(new ge),Jt.mount(_e,xe);const Se=ke();function Ce(t){const e=Object.create(null);return function(n){const r=e[n];return r||(e[n]=t(n))}}const Oe=/-(\w)/g,Me=Ce((t=>t.replace(Oe,((t,e)=>e?e.toUpperCase():""))));function Te(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function Ee(t,e,n){const r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}function Ae(t,e){return Object.values(t).indexOf(e)}function Pe(t,e,n,r){if(!t)return[];const i=Object.values(t),o=e.length-r,s=[...e].map(((t,e)=>e>=o?i.length:i.indexOf(t)));return s}function De(t,e){this.$nextTick((()=>this.$emit(t.toLowerCase(),e)))}function Ne(t){return e=>{null!==this.realList&&this["onDrag"+t](e),De.call(this,t,e)}}function Ie(t){return["transition-group","TransitionGroup"].includes(t)}function Le(t){if(!t||1!==t.length)return!1;const[{type:e}]=t;return!!e&&Ie(e.name)}function Be(t,e){return e?{...e.props,...e.attrs}:t}const Re=["Start","Add","Remove","Update","End"],je=["Choose","Unchoose","Sort","Filter","Clone"],ze=["Move",...Re,...je].map((t=>"on"+t));let He=null;const Fe={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},$e=(0,r.aZ)({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Re.map((t=>t.toLowerCase())),...je.map((t=>t.toLowerCase()))],props:Fe,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const t=this.$slots.default?this.$slots.default():null,e=Be(this.$attrs,this.componentData);return t?(this.transitionMode=Le(t),(0,r.h)(this.getTag(),e,t)):(0,r.h)(this.getTag(),e,[])},created(){null!==this.list&&null!==this.modelValue&&Se.error("list props are mutually exclusive! Please set one.")},mounted(){const t={};Re.forEach((e=>{t["on"+e]=Ne.call(this,e)})),je.forEach((e=>{t["on"+e]=De.bind(this,e)}));const e=Object.keys(this.$attrs).reduce(((t,e)=>(t[Me(e)]=this.$attrs[e],t)),{}),n=Object.assign({},e,t,{onMove:(t,e)=>this.onDragMove(t,e)});!("draggable"in n)&&(n.draggable=">*");const r=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new Jt(r,n),r.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(t){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(t){this.updateOptions(t)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?(0,r.up)(this.component):this.tag},updateOptions(t){for(var e in t){const n=Me(e);-1===ze.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=Pe(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(t){const e=Ae(this.getChildrenNodes()||[],t);if(-1===e)return null;const n=this.realList[e];return{index:e,element:n}},emitChanges(t){this.$nextTick((()=>{this.$emit("change",t)}))},alterList(t){if(this.list)return void t(this.list);const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=t=>t.splice(...arguments);this.alterList(t)},updatePosition(t,e){const n=n=>n.splice(e,0,n.splice(t,1)[0]);this.alterList(n)},getVmIndex(t){const e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(t){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[t].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(t){this.computeIndexes(),this.context=this.getUnderlyingVm(t.item),this.context&&(t.item._underlying_vm_=this.clone(this.context.element),He=t.item)},onDragAdd(t){const e=t.item._underlying_vm_;if(void 0===e)return;Te(t.item);const n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();const r={element:e,newIndex:n};this.emitChanges({added:r})},onDragRemove(t){if(Ee(this.$el,t.item,t.oldIndex),"clone"===t.pullMode)return void Te(t.clone);if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})},onDragUpdate(t){Te(t.item),Ee(t.from,t.item,t.oldIndex);const e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);const r={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:r})},updateProperty(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},onDragMove(t,e){const n=this.move;if(!n||!this.realList)return!0;const r=this.getRelatedContextFromMoveEvent(t),i=this.context,o=this.computeFutureIndex(r,t);Object.assign(i,{futureIndex:o});const s=Object.assign({},t,{relatedContext:r,draggedContext:i});return n(s,e)},onDragEnd(){this.computeIndexes(),He=null},getTrargetedComponent(t){return t.__draggable_component__},getRelatedContextFromMoveEvent({to:t,related:e}){const n=this.getTrargetedComponent(t);if(!n)return{component:n};const r=n.realList,i={list:r,component:n};if(t!==e&&r&&n.getUnderlyingVm){const t=n.getUnderlyingVm(e);if(t)return Object.assign(t,i)}return i},computeFutureIndex(t,e){const n=[...e.to.children].filter((t=>"none"!==t.style["display"]));if(0===n.length)return 0;const r=n.indexOf(e.related),i=t.component.getVmIndex(r),o=-1!==n.indexOf(He);return o||!e.willInsertAfter?i:i+1}}})},3744:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n}},3021:function(t,e,n){"use strict";n.d(e,{Z:function(){return S}});var r=n(6252),i=n(3577),o=n(9963);const s=["onMousedown","onTouchstart"];function a(t,e,n,a,l,c){return(0,r.wg)(),(0,r.iD)("div",{style:(0,i.j5)(c.style),class:(0,i.C_)([{[n.classNameActive]:t.enabled,[n.classNameDragging]:t.dragging,[n.classNameResizing]:t.resizing,[n.classNameDraggable]:n.draggable,[n.classNameResizable]:n.resizable},n.className]),onMousedown:e[0]||(e[0]=(...t)=>c.elementMouseDown&&c.elementMouseDown(...t)),onTouchstart:e[1]||(e[1]=(...t)=>c.elementTouchDown&&c.elementTouchDown(...t))},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.actualHandles,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e,class:(0,i.C_)([n.classNameHandle,n.classNameHandle+"-"+e]),style:(0,i.j5)({display:t.enabled?"block":"none"}),onMousedown:(0,o.iM)((t=>c.handleDown(e,t)),["stop","prevent"]),onTouchstart:(0,o.iM)((t=>c.handleTouchDown(e,t)),["stop","prevent"])},[(0,r.WI)(t.$slots,e)],46,s)))),128)),(0,r.WI)(t.$slots,"default")],38)}function l(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function c(t,e,n,r=1){const[i,o]="number"===typeof r?[r,r]:r,s=Math.round(e/i/t[0])*t[0],a=Math.round(n/o/t[1])*t[1];return[s,a]}function u(t,e,n){return t-e-n}function h(t,e,n){return t-e-n}function d(t,e,n){return null!==e&&t<e?e:null!==n&&n<t?n:t}function p(t,e,n){let r=t;const i=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((t=>l(r[t])));if(!l(r[i]))return!1;do{if(r[i](e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function f(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function m(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function g(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}const y={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},b={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},v={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let w=y.mouse;var x={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},h:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>"string"===typeof t?"auto"===t:t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter((t=>e.has(t)))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:[Number,Array],default:1,validator:t=>"number"===typeof t?t>0:2===t.length&&t[0]>0&&t[1]>0},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[n,r]=f(this.$el);this.aspectFactor=("auto"!==this.w?this.w:n)/("auto"!==this.h?this.h:r),this.width="auto"!==this.w?this.w:n,this.height="auto"!==this.h?this.h:r,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),m(document.documentElement,"mousedown",this.deselect),m(document.documentElement,"touchend touchcancel",this.deselect),m(window,"resize",this.checkParentSize)},beforeDestroy:function(){g(document.documentElement,"mousedown",this.deselect),g(document.documentElement,"touchstart",this.handleUp),g(document.documentElement,"mousemove",this.move),g(document.documentElement,"touchmove",this.move),g(document.documentElement,"mouseup",this.handleUp),g(document.documentElement,"touchend touchcancel",this.deselect),g(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize(){if(this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown(t){w=y.touch,this.elementDown(t)},elementMouseDown(t){w=y.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&1!==t.which)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(!1===this.onDragStart(t))return;if(this.dragHandle&&!p(e,this.dragHandle,this.$el)||this.dragCancel&&p(e,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),m(document.documentElement,w.move,this.move),m(document.documentElement,w.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,n=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||n.test(e.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),g(document.documentElement,w.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){w=y.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&1!==e.which||!1!==this.onResizeStart(t,e)&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizeEnable=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),m(document.documentElement,w.move,this.handleResize),m(document.documentElement,w.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,n=this.maxW,r=this.maxH;const i=this.aspectFactor,[o,s]=this.grid,a=this.width,l=this.height,c=this.left,u=this.top,h=this.right,d=this.bottom;this.lockAspectRatio&&(t/e>i?e=t/i:t=i*e,n&&r?(n=Math.min(n,i*r),r=Math.min(r,n/i)):n?r=n/i:r&&(n=i*r)),n-=n%o,r-=r%s;const p={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(p.minLeft=c%o,p.maxLeft=c+Math.floor((a-t)/o)*o,p.minTop=u%s,p.maxTop=u+Math.floor((l-e)/s)*s,p.minRight=h%o,p.maxRight=h+Math.floor((a-t)/o)*o,p.minBottom=d%s,p.maxBottom=d+Math.floor((l-e)/s)*s,n&&(p.minLeft=Math.max(p.minLeft,this.parentWidth-h-n),p.minRight=Math.max(p.minRight,this.parentWidth-c-n)),r&&(p.minTop=Math.max(p.minTop,this.parentHeight-d-r),p.minBottom=Math.max(p.minBottom,this.parentHeight-u-r)),this.lockAspectRatio&&(p.minLeft=Math.max(p.minLeft,c-u*i),p.minTop=Math.max(p.minTop,u-c/i),p.minRight=Math.max(p.minRight,h-d*i),p.minBottom=Math.max(p.minBottom,d-h/i))):(p.minLeft=null,p.maxLeft=c+Math.floor((a-t)/o)*o,p.minTop=null,p.maxTop=u+Math.floor((l-e)/s)*s,p.minRight=null,p.maxRight=h+Math.floor((a-t)/o)*o,p.minBottom=null,p.maxBottom=d+Math.floor((l-e)/s)*s,n&&(p.minLeft=-(h+n),p.minRight=-(c+n)),r&&(p.minTop=-(d+r),p.minBottom=-(u+r)),this.lockAspectRatio&&n&&r&&(p.minLeft=Math.min(p.minLeft,-(h+n)),p.minTop=Math.min(p.minTop,-(r+d)),p.minRight=Math.min(p.minRight,-c-n),p.minBottom=Math.min(p.minBottom,-u-r))),p},move(t){this.resizing?this.handleResize(t):this.dragEnable&&this.handleDrag(t)},handleDrag(t){const e=this.axis,n=this.grid,r=this.bounds,i=this.mouseClickPosition,o=e&&"y"!==e?i.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,s=e&&"x"!==e?i.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[a,l]=c(n,o,s,this.scale),u=d(i.left-a,r.minLeft,r.maxLeft),h=d(i.top-l,r.minTop,r.maxTop);if(!1===this.onDrag(u,h))return;const p=d(i.right+a,r.minRight,r.maxRight),f=d(i.bottom+l,r.minBottom,r.maxBottom);this.left=u,this.top=h,this.right=p,this.bottom=f,this.$emit("dragging",this.left,this.top),this.dragging=!0},moveHorizontally(t){const[e,n]=c(this.grid,t,this.top,1),r=d(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=r,this.right=this.parentWidth-this.width-r},moveVertically(t){const[e,n]=c(this.grid,this.left,t,1),r=d(n,this.bounds.minTop,this.bounds.maxTop);this.top=r,this.bottom=this.parentHeight-this.height-r},handleResize(t){let e=this.left,n=this.top,r=this.right,i=this.bottom;const o=this.mouseClickPosition,s=(this.lockAspectRatio,this.aspectFactor),a=o.mouseX-(t.touches?t.touches[0].pageX:t.pageX),l=o.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&a&&(this.widthTouched=!0),!this.heightTouched&&l&&(this.heightTouched=!0);const[p,f]=c(this.grid,a,l,this.scale);this.handle.includes("b")?(i=d(o.bottom+f,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(r=this.right-(this.bottom-i)*s)):this.handle.includes("t")&&(n=d(o.top-f,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-n)*s)),this.handle.includes("r")?(r=d(o.right+p,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(i=this.bottom-(this.right-r)/s)):this.handle.includes("l")&&(e=d(o.left-p,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(n=this.top-(this.left-e)/s));const m=u(this.parentWidth,e,r),g=h(this.parentHeight,n,i);!1!==this.onResize(this.handle,e,n,m,g)&&(this.left=e,this.top=n,this.right=r,this.bottom=i,this.width=m,this.height=g,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth(t){const[e,n]=c(this.grid,t,0,1);let r=d(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight),i=this.bottom;this.lockAspectRatio&&(i=this.bottom-(this.right-r)/this.aspectFactor);const o=u(this.parentWidth,this.left,r),s=h(this.parentHeight,this.top,i);this.right=r,this.bottom=i,this.width=o,this.height=s},changeHeight(t){const[e,n]=c(this.grid,0,t,1);let r=d(this.parentHeight-n-this.top,this.bounds.minBottom,this.bounds.maxBottom),i=this.right;this.lockAspectRatio&&(i=this.right-(this.bottom-r)*this.aspectFactor);const o=u(this.parentWidth,this.left,i),s=h(this.parentHeight,this.top,r);this.right=i,this.bottom=r,this.width=o,this.height=s},handleUp(t){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),g(document.documentElement,w.move,this.handleResize)}},computed:{style(){return{transform:`translate(${this.left}px, ${this.top}px)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?b:v}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return"auto"!==this.w||this.widthTouched?this.width+"px":"auto"},computedHeight(){return"auto"!==this.h||this.heightTouched?this.height+"px":"auto"},resizingOnX(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z(t){(t>=0||"auto"===t)&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},lockAspectRatio(t){this.aspectFactor=t?this.width/this.height:void 0},minWidth(t){t>0&&t<=this.width&&(this.minW=t)},minHeight(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth(t){this.maxW=t},maxHeight(t){this.maxH=t},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))}}},_=n(3744);const k=(0,_.Z)(x,[["render",a]]);var S=k},3982:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},e={exports:{}};e.exports=function(){const t=t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},e=t=>t.charAt(0).toUpperCase()+t.slice(1),n=t=>Array.prototype.slice.call(t),r=t=>{},i=t=>{},o=[],s=t=>{o.includes(t)||(o.push(t),r(t))},a=(t,e)=>{s('"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'))},l=t=>"function"==typeof t?t():t,c=t=>t&&"function"==typeof t.toPromise,u=t=>c(t)?t.toPromise():Promise.resolve(t),h=t=>t&&Promise.resolve(t)===t,d={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},p=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],f={},m=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=t=>Object.prototype.hasOwnProperty.call(d,t),y=t=>-1!==p.indexOf(t),b=t=>f[t],v=t=>{g(t)||r('Unknown parameter "'.concat(t,'"'))},w=t=>{m.includes(t)&&r('The parameter "'.concat(t,'" is incompatible with toasts'))},x=t=>{b(t)&&a(t,b(t))},_=t=>{!t.backdrop&&t.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)v(e),t.toast&&w(e),x(e)},k="swal2-",S=t=>{const e={};for(const n in t)e[t[n]]=k+t[n];return e},C=S(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),O=S(["success","warning","info","question","error"]),M=()=>document.body.querySelector(".".concat(C.container)),T=t=>{const e=M();return e?e.querySelector(t):null},E=t=>T(".".concat(t)),A=()=>E(C.popup),P=()=>E(C.icon),D=()=>E(C.title),N=()=>E(C["html-container"]),I=()=>E(C.image),L=()=>E(C["progress-steps"]),B=()=>E(C["validation-message"]),R=()=>T(".".concat(C.actions," .").concat(C.confirm)),j=()=>T(".".concat(C.actions," .").concat(C.deny)),z=()=>E(C["input-label"]),H=()=>T(".".concat(C.loader)),F=()=>T(".".concat(C.actions," .").concat(C.cancel)),$=()=>E(C.actions),V=()=>E(C.footer),W=()=>E(C["timer-progress-bar"]),q=()=>E(C.close),U='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',K=()=>{const e=n(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((t,e)=>{const n=parseInt(t.getAttribute("tabindex")),r=parseInt(e.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),r=n(A().querySelectorAll(U)).filter((t=>"-1"!==t.getAttribute("tabindex")));return t(e.concat(r)).filter((t=>pt(t)))},Y=()=>!Q(document.body,C["toast-shown"])&&!Q(document.body,C["no-backdrop"]),J=()=>A()&&Q(A(),C.toast),G=()=>A().hasAttribute("data-loading"),X={previousBodyPadding:null},Z=(t,e)=>{if(t.textContent="",e){const r=(new DOMParser).parseFromString(e,"text/html");n(r.querySelector("head").childNodes).forEach((e=>{t.appendChild(e)})),n(r.querySelector("body").childNodes).forEach((e=>{t.appendChild(e)}))}},Q=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},tt=(t,e)=>{n(t.classList).forEach((n=>{Object.values(C).includes(n)||Object.values(O).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)}))},et=(t,e,n)=>{if(tt(t,e),e.customClass&&e.customClass[n]){if("string"!=typeof e.customClass[n]&&!e.customClass[n].forEach)return r("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));ot(t,e.customClass[n])}},nt=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(".".concat(C.popup," > .").concat(C[e]));case"checkbox":return t.querySelector(".".concat(C.popup," > .").concat(C.checkbox," input"));case"radio":return t.querySelector(".".concat(C.popup," > .").concat(C.radio," input:checked"))||t.querySelector(".".concat(C.popup," > .").concat(C.radio," input:first-child"));case"range":return t.querySelector(".".concat(C.popup," > .").concat(C.range," input"));default:return t.querySelector(".".concat(C.popup," > .").concat(C.input))}},rt=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},it=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((e=>{Array.isArray(t)?t.forEach((t=>{n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},ot=(t,e)=>{it(t,e,!0)},st=(t,e)=>{it(t,e,!1)},at=(t,e)=>{const r=n(t.childNodes);for(let n=0;n<r.length;n++)if(Q(r[n],e))return r[n]},lt=(t,e,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},ct=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},ut=t=>{t.style.display="none"},ht=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},dt=(t,e,n)=>{e?ct(t,n):ut(t)},pt=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),ft=()=>!pt(R())&&!pt(j())&&!pt(F()),mt=t=>!!(t.scrollHeight>t.clientHeight),gt=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},yt=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=W();pt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},bt=()=>{const t=W(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.removeProperty("transition"),t.style.width="".concat(n,"%")},vt=()=>"undefined"==typeof window||"undefined"==typeof document,wt=100,xt={},_t=()=>{xt.previousActiveElement&&xt.previousActiveElement.focus?(xt.previousActiveElement.focus(),xt.previousActiveElement=null):document.body&&document.body.focus()},kt=t=>new Promise((e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;xt.restoreFocusTimeout=setTimeout((()=>{_t(),e()}),wt),window.scrollTo(n,r)})),St='\n <div aria-labelledby="'.concat(C.title,'" aria-describedby="').concat(C["html-container"],'" class="').concat(C.popup,'" tabindex="-1">\n   <button type="button" class="').concat(C.close,'"></button>\n   <ul class="').concat(C["progress-steps"],'"></ul>\n   <div class="').concat(C.icon,'"></div>\n   <img class="').concat(C.image,'" />\n   <h2 class="').concat(C.title,'" id="').concat(C.title,'"></h2>\n   <div class="').concat(C["html-container"],'" id="').concat(C["html-container"],'"></div>\n   <input class="').concat(C.input,'" />\n   <input type="file" class="').concat(C.file,'" />\n   <div class="').concat(C.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(C.select,'"></select>\n   <div class="').concat(C.radio,'"></div>\n   <label for="').concat(C.checkbox,'" class="').concat(C.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(C.label,'"></span>\n   </label>\n   <textarea class="').concat(C.textarea,'"></textarea>\n   <div class="').concat(C["validation-message"],'" id="').concat(C["validation-message"],'"></div>\n   <div class="').concat(C.actions,'">\n     <div class="').concat(C.loader,'"></div>\n     <button type="button" class="').concat(C.confirm,'"></button>\n     <button type="button" class="').concat(C.deny,'"></button>\n     <button type="button" class="').concat(C.cancel,'"></button>\n   </div>\n   <div class="').concat(C.footer,'"></div>\n   <div class="').concat(C["timer-progress-bar-container"],'">\n     <div class="').concat(C["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ct=()=>{const t=M();return!!t&&(t.remove(),st([document.documentElement,document.body],[C["no-backdrop"],C["toast-shown"],C["has-column"]]),!0)},Ot=()=>{xt.currentInstance.resetValidationMessage()},Mt=()=>{const t=A(),e=at(t,C.input),n=at(t,C.file),r=t.querySelector(".".concat(C.range," input")),i=t.querySelector(".".concat(C.range," output")),o=at(t,C.select),s=t.querySelector(".".concat(C.checkbox," input")),a=at(t,C.textarea);e.oninput=Ot,n.onchange=Ot,o.onchange=Ot,s.onchange=Ot,a.oninput=Ot,r.oninput=()=>{Ot(),i.value=r.value},r.onchange=()=>{Ot(),r.nextSibling.value=r.value}},Tt=t=>"string"==typeof t?document.querySelector(t):t,Et=t=>{const e=A();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},At=t=>{"rtl"===window.getComputedStyle(t).direction&&ot(M(),C.rtl)},Pt=t=>{const e=Ct();if(vt())return void i("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=C.container,e&&ot(n,C["no-transition"]),Z(n,St);const r=Tt(t.target);r.appendChild(n),Et(t),At(r),Mt()},Dt=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?Nt(t,e):t&&Z(e,t)},Nt=(t,e)=>{t.jquery?It(e,t):Z(e,t.toString())},It=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Lt=(()=>{if(vt())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})(),Bt=()=>{const t=document.createElement("div");t.className=C["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},Rt=(t,e)=>{const n=$(),r=H();e.showConfirmButton||e.showDenyButton||e.showCancelButton?ct(n):ut(n),et(n,e,"actions"),jt(n,r,e),Z(r,e.loaderHtml),et(r,e,"loader")};function jt(t,e,n){const r=R(),i=j(),o=F();Ht(r,"confirm",n),Ht(i,"deny",n),Ht(o,"cancel",n),zt(r,i,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,r),t.insertBefore(i,r)):(t.insertBefore(o,e),t.insertBefore(i,e),t.insertBefore(r,e)))}function zt(t,e,n,r){if(!r.buttonsStyling)return st([t,e,n],C.styled);ot([t,e,n],C.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,ot(t,C["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,ot(e,C["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,ot(n,C["default-outline"]))}function Ht(t,n,r){dt(t,r["show".concat(e(n),"Button")],"inline-block"),Z(t,r["".concat(n,"ButtonText")]),t.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),t.className=C[n],et(t,r,"".concat(n,"Button")),ot(t,r["".concat(n,"ButtonClass")])}function Ft(t,e){"string"==typeof e?t.style.background=e:e||ot([document.documentElement,document.body],C["no-backdrop"])}function $t(t,e){e in C?ot(t,C[e]):(r('The "position" parameter is not valid, defaulting to "center"'),ot(t,C.center))}function Vt(t,e){if(e&&"string"==typeof e){const n="grow-".concat(e);n in C&&ot(t,C[n])}}const Wt=(t,e)=>{const n=M();n&&(Ft(n,e.backdrop),$t(n,e.position),Vt(n,e.grow),et(n,e,"container"))};var qt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ut=["input","file","range","select","radio","checkbox","textarea"],Kt=(t,e)=>{const n=A(),r=qt.innerParams.get(t),i=!r||e.input!==r.input;Ut.forEach((t=>{const r=C[t],o=at(n,r);Gt(t,e.inputAttributes),o.className=r,i&&ut(o)})),e.input&&(i&&Yt(e),Xt(e))},Yt=t=>{if(!ee[t.input])return i('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=te(t.input),n=ee[t.input](e,t);ct(n),setTimeout((()=>{rt(n)}))},Jt=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}},Gt=(t,e)=>{const n=nt(A(),t);if(n){Jt(n);for(const t in e)n.setAttribute(t,e[t])}},Xt=t=>{const e=te(t.input);t.customClass&&ot(e,t.customClass.input)},Zt=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},Qt=(t,e,n)=>{if(n.inputLabel){t.id=C.input;const r=document.createElement("label"),i=C["input-label"];r.setAttribute("for",t.id),r.className=i,ot(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},te=t=>{const e=C[t]?C[t]:C.input;return at(A(),e)},ee={};ee.text=ee.email=ee.password=ee.number=ee.tel=ee.url=(t,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:h(e.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),Qt(t,t,e),Zt(t,e),t.type=e.input,t),ee.file=(t,e)=>(Qt(t,t,e),Zt(t,e),t),ee.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,Qt(n,t,e),t},ee.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Z(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Qt(t,t,e),t},ee.radio=t=>(t.textContent="",t),ee.checkbox=(t,e)=>{const n=nt(A(),"checkbox");n.value="1",n.id=C.checkbox,n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return Z(r,e.inputPlaceholder),t},ee.textarea=(t,e)=>{t.value=e.inputValue,Zt(t,e),Qt(t,t,e);const n=t=>parseInt(window.getComputedStyle(t).marginLeft)+parseInt(window.getComputedStyle(t).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const e=parseInt(window.getComputedStyle(A()).width);new MutationObserver((()=>{const r=t.offsetWidth+n(t);A().style.width=r>e?"".concat(r,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};const ne=(t,e)=>{const n=N();et(n,e,"htmlContainer"),e.html?(Dt(e.html,n),ct(n,"block")):e.text?(n.textContent=e.text,ct(n,"block")):ut(n),Kt(t,e)},re=(t,e)=>{const n=V();dt(n,e.footer),e.footer&&Dt(e.footer,n),et(n,e,"footer")},ie=(t,e)=>{const n=q();Z(n,e.closeButtonHtml),et(n,e,"closeButton"),dt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)},oe=(t,e)=>{const n=qt.innerParams.get(t),r=P();return n&&e.icon===n.icon?(ue(r,e),void se(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(O).indexOf(e.icon)?(i('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),ut(r)):(ct(r),ue(r,e),se(r,e),void ot(r,e.showClass.icon)):ut(r)},se=(t,e)=>{for(const n in O)e.icon!==n&&st(t,O[n]);ot(t,O[e.icon]),he(t,e),ae(),et(t,e,"icon")},ae=()=>{const t=A(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},le='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',ce='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',ue=(t,e)=>{t.textContent="",e.iconHtml?Z(t,de(e.iconHtml)):"success"===e.icon?Z(t,le):"error"===e.icon?Z(t,ce):Z(t,de({question:"?",warning:"!",info:"i"}[e.icon]))},he=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ht(t,n,"backgroundColor",e.iconColor);ht(t,".swal2-success-ring","borderColor",e.iconColor)}},de=t=>'<div class="'.concat(C["icon-content"],'">').concat(t,"</div>"),pe=(t,e)=>{const n=I();if(!e.imageUrl)return ut(n);ct(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),lt(n,"width",e.imageWidth),lt(n,"height",e.imageHeight),n.className=C.image,et(n,e,"image")},fe=t=>{const e=document.createElement("li");return ot(e,C["progress-step"]),Z(e,t),e},me=t=>{const e=document.createElement("li");return ot(e,C["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e},ge=(t,e)=>{const n=L();if(!e.progressSteps||0===e.progressSteps.length)return ut(n);ct(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(((t,r)=>{const i=fe(t);if(n.appendChild(i),r===e.currentProgressStep&&ot(i,C["active-progress-step"]),r!==e.progressSteps.length-1){const t=me(e);n.appendChild(t)}}))},ye=(t,e)=>{const n=D();dt(n,e.title||e.titleText,"block"),e.title&&Dt(e.title,n),e.titleText&&(n.innerText=e.titleText),et(n,e,"title")},be=(t,e)=>{const n=M(),r=A();e.toast?(lt(n,"width",e.width),r.style.width="100%",r.insertBefore(H(),P())):lt(r,"width",e.width),lt(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),ut(B()),ve(r,e)},ve=(t,e)=>{t.className="".concat(C.popup," ").concat(pt(t)?e.showClass.popup:""),e.toast?(ot([document.documentElement,document.body],C["toast-shown"]),ot(t,C.toast)):ot(t,C.modal),et(t,e,"popup"),"string"==typeof e.customClass&&ot(t,e.customClass),e.icon&&ot(t,C["icon-".concat(e.icon)])},we=(t,e)=>{be(t,e),Wt(t,e),ge(t,e),oe(t,e),pe(t,e),ye(t,e),ie(t,e),ne(t,e),Rt(t,e),re(t,e),"function"==typeof e.didRender&&e.didRender(A())},xe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_e=()=>{n(document.body.children).forEach((t=>{t===M()||t.contains(M())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))},ke=()=>{n(document.body.children).forEach((t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Se=["swal-title","swal-html","swal-footer"],Ce=t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return De(n),Object.assign(Oe(n),Me(n),Te(n),Ee(n),Ae(n),Pe(n,Se))},Oe=t=>{const e={};return n(t.querySelectorAll("swal-param")).forEach((t=>{Ne(t,["name","value"]);const n=t.getAttribute("name"),r=t.getAttribute("value");"boolean"==typeof d[n]&&"false"===r&&(e[n]=!1),"object"==typeof d[n]&&(e[n]=JSON.parse(r))})),e},Me=t=>{const r={};return n(t.querySelectorAll("swal-button")).forEach((t=>{Ne(t,["type","color","aria-label"]);const n=t.getAttribute("type");r["".concat(n,"ButtonText")]=t.innerHTML,r["show".concat(e(n),"Button")]=!0,t.hasAttribute("color")&&(r["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(r["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),r},Te=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ne(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e},Ee=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ne(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Ae=t=>{const e={},r=t.querySelector("swal-input");r&&(Ne(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},n(i).forEach((t=>{Ne(t,["value"]);const n=t.getAttribute("value"),r=t.innerHTML;e.inputOptions[n]=r}))),e},Pe=(t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(Ne(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},De=t=>{const e=Se.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(t.children).forEach((t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&r("Unrecognized element <".concat(n,">"))}))},Ne=(t,e)=>{n(t.attributes).forEach((n=>{-1===e.indexOf(n.name)&&r(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))};var Ie={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Le(t){t.inputValidator||Object.keys(Ie).forEach((e=>{t.input===e&&(t.inputValidator=Ie[e])}))}function Be(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Re(t){Le(t),t.showLoaderOnConfirm&&!t.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Be(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),Pt(t)}class je{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ze=()=>{null===X.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(X.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(X.previousBodyPadding+Bt(),"px"))},He=()=>{null!==X.previousBodyPadding&&(document.body.style.paddingRight="".concat(X.previousBodyPadding,"px"),X.previousBodyPadding=null)},Fe=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Q(document.body,C.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ot(document.body,C.iosfix),Ve(),$e()}},$e=()=>{const t=navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),n=!!t.match(/WebKit/i);if(e&&n&&!t.match(/CriOS/i)){const t=44;A().scrollHeight>window.innerHeight-t&&(M().style.paddingBottom="".concat(t,"px"))}},Ve=()=>{const t=M();let e;t.ontouchstart=t=>{e=We(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},We=t=>{const e=t.target,n=M();return!(qe(t)||Ue(t)||e!==n&&(mt(n)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||mt(N())&&N().contains(e)))},qe=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,Ue=t=>t.touches&&t.touches.length>1,Ke=()=>{if(Q(document.body,C.iosfix)){const t=parseInt(document.body.style.top,10);st(document.body,C.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Ye=10,Je=t=>{const e=M(),n=A();"function"==typeof t.willOpen&&t.willOpen(n);const r=window.getComputedStyle(document.body).overflowY;Qe(e,n,t),setTimeout((()=>{Xe(e,n)}),Ye),Y()&&(Ze(e,t.scrollbarPadding,r),_e()),J()||xt.previousActiveElement||(xt.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((()=>t.didOpen(n))),st(e,C["no-transition"])},Ge=t=>{const e=A();if(t.target!==e)return;const n=M();e.removeEventListener(Lt,Ge),n.style.overflowY="auto"},Xe=(t,e)=>{Lt&&gt(e)?(t.style.overflowY="hidden",e.addEventListener(Lt,Ge)):t.style.overflowY="auto"},Ze=(t,e,n)=>{Fe(),e&&"hidden"!==n&&ze(),setTimeout((()=>{t.scrollTop=0}))},Qe=(t,e,n)=>{ot(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),ct(e,"grid"),setTimeout((()=>{ot(e,n.showClass.popup),e.style.removeProperty("opacity")}),Ye),ot([document.documentElement,document.body],C.shown),n.heightAuto&&n.backdrop&&!n.toast&&ot([document.documentElement,document.body],C["height-auto"])},tn=t=>{let e=A();e||new Wr,e=A();const n=H();J()?ut(P()):en(e,t),ct(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},en=(t,e)=>{const n=$(),r=H();!e&&pt(R())&&(e=R()),ct(n),e&&(ut(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),ot([t,n],C.loading)},nn=(t,e)=>{"select"===e.input||"radio"===e.input?ln(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(c(e.inputValue)||h(e.inputValue))&&(tn(R()),cn(t,e))},rn=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return on(n);case"radio":return sn(n);case"file":return an(n);default:return e.inputAutoTrim?n.value.trim():n.value}},on=t=>t.checked?1:0,sn=t=>t.checked?t.value:null,an=t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null,ln=(t,e)=>{const n=A(),r=t=>un[e.input](n,hn(t),e);c(e.inputOptions)||h(e.inputOptions)?(tn(R()),u(e.inputOptions).then((e=>{t.hideLoading(),r(e)}))):"object"==typeof e.inputOptions?r(e.inputOptions):i("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))},cn=(t,e)=>{const n=t.getInput();ut(n),u(e.inputValue).then((r=>{n.value="number"===e.input?parseFloat(r)||0:"".concat(r),ct(n),n.focus(),t.hideLoading()})).catch((e=>{i("Error in inputValue promise: ".concat(e)),n.value="",ct(n),n.focus(),t.hideLoading()}))},un={select:(t,e,n)=>{const r=at(t,C.select),i=(t,e,r)=>{const i=document.createElement("option");i.value=r,Z(i,e),i.selected=dn(r,n.inputValue),t.appendChild(i)};e.forEach((t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach((e=>i(t,e[1],e[0])))}else i(r,n,e)})),r.focus()},radio:(t,e,n)=>{const r=at(t,C.radio);e.forEach((t=>{const e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=C.radio,o.value=e,dn(e,n.inputValue)&&(o.checked=!0);const a=document.createElement("span");Z(a,i),a.className=C.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)}));const i=r.querySelectorAll("input");i.length&&i[0].focus()}},hn=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach(((t,n)=>{let r=t;"object"==typeof r&&(r=hn(r)),e.push([n,r])})):Object.keys(t).forEach((n=>{let r=t[n];"object"==typeof r&&(r=hn(r)),e.push([n,r])})),e},dn=(t,e)=>e&&e.toString()===t.toString(),pn=t=>{const e=qt.innerParams.get(t);t.disableButtons(),e.input?gn(t,"confirm"):xn(t,!0)},fn=t=>{const e=qt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?gn(t,"deny"):bn(t,!1)},mn=(t,e)=>{t.disableButtons(),e(xe.cancel)},gn=(t,n)=>{const r=qt.innerParams.get(t);if(!r.input)return i('The "input" parameter is needed to be set when using returnInputValueOn'.concat(e(n)));const o=rn(t,r);r.inputValidator?yn(t,o,n):t.getInput().checkValidity()?"deny"===n?bn(t,o):xn(t,o):(t.enableButtons(),t.showValidationMessage(r.validationMessage))},yn=(t,e,n)=>{const r=qt.innerParams.get(t);t.disableInput(),Promise.resolve().then((()=>u(r.inputValidator(e,r.validationMessage)))).then((r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):"deny"===n?bn(t,e):xn(t,e)}))},bn=(t,e)=>{const n=qt.innerParams.get(t||void 0);n.showLoaderOnDeny&&tn(j()),n.preDeny?(qt.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((()=>u(n.preDeny(e,n.validationMessage)))).then((n=>{!1===n?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===n?e:n})})).catch((e=>wn(t||void 0,e)))):t.closePopup({isDenied:!0,value:e})},vn=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},wn=(t,e)=>{t.rejectPromise(e)},xn=(t,e)=>{const n=qt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&tn(),n.preConfirm?(t.resetValidationMessage(),qt.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((()=>u(n.preConfirm(e,n.validationMessage)))).then((n=>{pt(B())||!1===n?t.hideLoading():vn(t,void 0===n?e:n)})).catch((e=>wn(t||void 0,e)))):vn(t,e)},_n=(t,e,n)=>{qt.innerParams.get(t).toast?kn(t,e,n):(On(e),Mn(e),Tn(t,e,n))},kn=(t,e,n)=>{e.popup.onclick=()=>{const e=qt.innerParams.get(t);e&&(Sn(e)||e.timer||e.input)||n(xe.close)}},Sn=t=>t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton;let Cn=!1;const On=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Cn=!0)}}},Mn=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Cn=!0)}}},Tn=(t,e,n)=>{e.container.onclick=r=>{const i=qt.innerParams.get(t);Cn?Cn=!1:r.target===e.container&&l(i.allowOutsideClick)&&n(xe.backdrop)}},En=()=>pt(A()),An=()=>R()&&R().click(),Pn=()=>j()&&j().click(),Dn=()=>F()&&F().click(),Nn=(t,e,n,r)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=e=>Rn(t,e,r),e.keydownTarget=n.keydownListenerCapture?window:A(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},In=(t,e,n)=>{const r=K();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();A().focus()},Ln=["ArrowRight","ArrowDown"],Bn=["ArrowLeft","ArrowUp"],Rn=(t,e,n)=>{const r=qt.innerParams.get(t);r&&(r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?jn(t,e,r):"Tab"===e.key?zn(e,r):[...Ln,...Bn].includes(e.key)?Hn(e.key):"Escape"===e.key&&Fn(e,r,n))},jn=(t,e,n)=>{if(l(n.allowEnterKey)&&!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;An(),e.preventDefault()}},zn=(t,e)=>{const n=t.target,r=K();let i=-1;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}t.shiftKey?In(e,i,-1):In(e,i,1),t.stopPropagation(),t.preventDefault()},Hn=t=>{if(![R(),j(),F()].includes(document.activeElement))return;const e=Ln.includes(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n instanceof HTMLElement&&n.focus()},Fn=(t,e,n)=>{l(e.allowEscapeKey)&&(t.preventDefault(),n(xe.esc))},$n=t=>"object"==typeof t&&t.jquery,Vn=t=>t instanceof Element||$n(t),Wn=t=>{const e={};return"object"!=typeof t[0]||Vn(t[0])?["title","html","icon"].forEach(((n,r)=>{const o=t[r];"string"==typeof o||Vn(o)?e[n]=o:void 0!==o&&i("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))})):Object.assign(e,t[0]),e};function qn(){const t=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(...n)}function Un(t){class e extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}return e}const Kn=()=>xt.timeout&&xt.timeout.getTimerLeft(),Yn=()=>{if(xt.timeout)return bt(),xt.timeout.stop()},Jn=()=>{if(xt.timeout){const t=xt.timeout.start();return yt(t),t}},Gn=()=>{const t=xt.timeout;return t&&(t.running?Yn():Jn())},Xn=t=>{if(xt.timeout){const e=xt.timeout.increase(t);return yt(e,!0),e}},Zn=()=>xt.timeout&&xt.timeout.isRunning();let Qn=!1;const tr={};function er(){tr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Qn||(document.body.addEventListener("click",nr),Qn=!0)}const nr=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in tr){const n=e.getAttribute(t);if(n)return void tr[t].fire({template:n})}};var rr=Object.freeze({isValidParameter:g,isUpdatableParameter:y,isDeprecatedParameter:b,argsToParams:Wn,isVisible:En,clickConfirm:An,clickDeny:Pn,clickCancel:Dn,getContainer:M,getPopup:A,getTitle:D,getHtmlContainer:N,getImage:I,getIcon:P,getInputLabel:z,getCloseButton:q,getActions:$,getConfirmButton:R,getDenyButton:j,getCancelButton:F,getLoader:H,getFooter:V,getTimerProgressBar:W,getFocusableElements:K,getValidationMessage:B,isLoading:G,fire:qn,mixin:Un,showLoading:tn,enableLoading:tn,getTimerLeft:Kn,stopTimer:Yn,resumeTimer:Jn,toggleTimer:Gn,increaseTimer:Xn,isTimerRunning:Zn,bindClickHandler:er});function ir(){const t=qt.innerParams.get(this);if(!t)return;const e=qt.domCache.get(this);ut(e.loader),J()?t.icon&&ct(P()):or(e),st([e.popup,e.actions],C.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const or=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ct(e[0],"inline-block"):ft()&&ut(t.actions)};function sr(t){const e=qt.innerParams.get(t||this),n=qt.domCache.get(t||this);return n?nt(n.popup,e.input):null}var ar={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function lr(t,e,n,r){J()?br(t,r):(kt(n).then((()=>br(t,r))),xt.keydownTarget.removeEventListener("keydown",xt.keydownHandler,{capture:xt.keydownListenerCapture}),xt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Y()&&(He(),Ke(),ke()),cr()}function cr(){st([document.documentElement,document.body],[C.shown,C["height-auto"],C["no-backdrop"],C["toast-shown"]])}function ur(t){t=mr(t);const e=ar.swalPromiseResolve.get(this),n=dr(this);this.isAwaitingPromise()?t.isDismissed||(fr(this),e(t)):n&&e(t)}function hr(){return!!qt.awaitingPromise.get(this)}const dr=t=>{const e=A();if(!e)return!1;const n=qt.innerParams.get(t);if(!n||Q(e,n.hideClass.popup))return!1;st(e,n.showClass.popup),ot(e,n.hideClass.popup);const r=M();return st(r,n.showClass.backdrop),ot(r,n.hideClass.backdrop),gr(t,e,n),!0};function pr(t){const e=ar.swalPromiseReject.get(this);fr(this),e&&e(t)}const fr=t=>{t.isAwaitingPromise()&&(qt.awaitingPromise.delete(t),qt.innerParams.get(t)||t._destroy())},mr=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),gr=(t,e,n)=>{const r=M(),i=Lt&&gt(e);"function"==typeof n.willClose&&n.willClose(e),i?yr(t,e,r,n.returnFocus,n.didClose):lr(t,r,n.returnFocus,n.didClose)},yr=(t,e,n,r,i)=>{xt.swalCloseEventFinishedCallback=lr.bind(null,t,n,r,i),e.addEventListener(Lt,(function(t){t.target===e&&(xt.swalCloseEventFinishedCallback(),delete xt.swalCloseEventFinishedCallback)}))},br=(t,e)=>{setTimeout((()=>{"function"==typeof e&&e.bind(t.params)(),t._destroy()}))};function vr(t,e,n){const r=qt.domCache.get(t);e.forEach((t=>{r[t].disabled=n}))}function wr(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}function xr(){vr(this,["confirmButton","denyButton","cancelButton"],!1)}function _r(){vr(this,["confirmButton","denyButton","cancelButton"],!0)}function kr(){return wr(this.getInput(),!1)}function Sr(){return wr(this.getInput(),!0)}function Cr(t){const e=qt.domCache.get(this),n=qt.innerParams.get(this);Z(e.validationMessage,t),e.validationMessage.className=C["validation-message"],n.customClass&&n.customClass.validationMessage&&ot(e.validationMessage,n.customClass.validationMessage),ct(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",C["validation-message"]),rt(r),ot(r,C.inputerror))}function Or(){const t=qt.domCache.get(this);t.validationMessage&&ut(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),st(e,C.inputerror))}function Mr(){return qt.domCache.get(this).progressSteps}function Tr(t){const e=A(),n=qt.innerParams.get(this);if(!e||Q(e,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=Er(t),o=Object.assign({},n,i);we(this,o),qt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Er=t=>{const e={};return Object.keys(t).forEach((n=>{y(n)?e[n]=t[n]:r('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),e};function Ar(){const t=qt.domCache.get(this),e=qt.innerParams.get(this);e?(t.popup&&xt.swalCloseEventFinishedCallback&&(xt.swalCloseEventFinishedCallback(),delete xt.swalCloseEventFinishedCallback),xt.deferDisposalTimer&&(clearTimeout(xt.deferDisposalTimer),delete xt.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),Pr(this)):Dr(this)}const Pr=t=>{Dr(t),delete t.params,delete xt.keydownHandler,delete xt.keydownTarget,delete xt.currentInstance},Dr=t=>{t.isAwaitingPromise()?(Nr(qt,t),qt.awaitingPromise.set(t,!0)):(Nr(ar,t),Nr(qt,t))},Nr=(t,e)=>{for(const n in t)t[n].delete(e)};var Ir=Object.freeze({hideLoading:ir,disableLoading:ir,getInput:sr,close:ur,isAwaitingPromise:hr,rejectPromise:pr,closePopup:ur,closeModal:ur,closeToast:ur,enableButtons:xr,disableButtons:_r,enableInput:kr,disableInput:Sr,showValidationMessage:Cr,resetValidationMessage:Or,getProgressSteps:Mr,update:Tr,_destroy:Ar});let Lr;class Br{constructor(){if("undefined"==typeof window)return;Lr=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const i=this._main(this.params);qt.promise.set(this,i)}_main(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(Object.assign({},e,t)),xt.currentInstance&&(xt.currentInstance._destroy(),Y()&&ke()),xt.currentInstance=this;const n=jr(t,e);Re(n),Object.freeze(n),xt.timeout&&(xt.timeout.stop(),delete xt.timeout),clearTimeout(xt.restoreFocusTimeout);const r=zr(this);return we(this,n),qt.innerParams.set(this,n),Rr(this,r,n)}then(t){return qt.promise.get(this).then(t)}finally(t){return qt.promise.get(this).finally(t)}}const Rr=(t,e,n)=>new Promise(((r,i)=>{const o=e=>{t.closePopup({isDismissed:!0,dismiss:e})};ar.swalPromiseResolve.set(t,r),ar.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>pn(t),e.denyButton.onclick=()=>fn(t),e.cancelButton.onclick=()=>mn(t,o),e.closeButton.onclick=()=>o(xe.close),_n(t,e,o),Nn(t,xt,n,o),nn(t,n),Je(n),Hr(xt,n,o),Fr(e,n),setTimeout((()=>{e.container.scrollTop=0}))})),jr=(t,e)=>{const n=Ce(t),r=Object.assign({},d,e,n,t);return r.showClass=Object.assign({},d.showClass,r.showClass),r.hideClass=Object.assign({},d.hideClass,r.hideClass),r},zr=t=>{const e={popup:A(),container:M(),actions:$(),confirmButton:R(),denyButton:j(),cancelButton:F(),loader:H(),closeButton:q(),validationMessage:B(),progressSteps:L()};return qt.domCache.set(t,e),e},Hr=(t,e,n)=>{const r=W();ut(r),e.timer&&(t.timeout=new je((()=>{n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(ct(r),et(r,e,"timerProgressBar"),setTimeout((()=>{t.timeout&&t.timeout.running&&yt(e.timer)}))))},Fr=(t,e)=>{if(!e.toast)return l(e.allowEnterKey)?void($r(t,e)||In(e,-1,1)):Vr()},$r=(t,e)=>e.focusDeny&&pt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&pt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!pt(t.confirmButton)||(t.confirmButton.focus(),0)),Vr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Br.prototype,Ir),Object.assign(Br,rr),Object.keys(Ir).forEach((t=>{Br[t]=function(){if(Lr)return Lr[t](...arguments)}})),Br.DismissReason=xe,Br.version="11.4.0";const Wr=Br;return Wr.default=Wr,Wr}(),void 0!==t&&t.Sweetalert2&&(t.swal=t.sweetAlert=t.Swal=t.SweetAlert=t.Sweetalert2);var r=e.exports;return class{static install(t,e={}){var n;const i=r.mixin(e),o=function(...t){return i.fire.call(i,...t)};Object.assign(o,r),Object.keys(r).filter((t=>"function"==typeof r[t])).forEach((t=>{o[t]=i[t].bind(i)})),(null==(n=t.config)?void 0:n.globalProperties)&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=o,t.provide("$swal",o)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=o,t.swal=o)}}}))},509:function(t,e,n){"use strict";var r=n(9985),i=n(3691),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},5027:function(t,e,n){"use strict";var r=n(8999),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},4328:function(t,e,n){"use strict";var r=n(5290),i=n(7578),o=n(6310),s=function(t){return function(e,n,s){var a,l=r(e),c=o(l),u=i(s,c);if(t&&n!==n){while(c>u)if(a=l[u++],a!==a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},5649:function(t,e,n){"use strict";var r=n(7697),i=n(2297),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},6648:function(t,e,n){"use strict";var r=n(8844),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},926:function(t,e,n){"use strict";var r=n(3043),i=n(9985),o=n(6648),s=n(4201),a=s("toStringTag"),l=Object,c="Arguments"===o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=l(t),a))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},8758:function(t,e,n){"use strict";var r=n(6812),i=n(9152),o=n(2474),s=n(2560);t.exports=function(t,e,n){for(var a=i(e),l=s.f,c=o.f,u=0;u<a.length;u++){var h=a[u];r(t,h)||n&&r(n,h)||l(t,h,c(e,h))}}},5773:function(t,e,n){"use strict";var r=n(7697),i=n(2560),o=n(5684);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2148:function(t,e,n){"use strict";var r=n(8702),i=n(2560);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},1880:function(t,e,n){"use strict";var r=n(9985),i=n(2560),o=n(8702),s=n(5014);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(r(n)&&o(n,c,a),a.global)l?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},5014:function(t,e,n){"use strict";var r=n(9037),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},7697:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6420:function(t,e,n){"use strict";var r=n(9037),i=n(8999),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},5565:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var r,i,o=n(9037),s=n(71),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var r=n(9037),i=n(2474).f,o=n(5773),s=n(1880),a=n(5014),l=n(8758),c=n(5266);t.exports=function(t,e){var n,u,h,d,p,f,m=t.target,g=t.global,y=t.stat;if(u=g?r:y?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in e){if(p=e[h],t.dontCallGetSet?(f=i(u,h),d=f&&f.value):d=u[h],n=c(g?h:m+(y?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&o(p,"sham",!0),s(u,h,p,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},7215:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(t,e,n){"use strict";var r=n(7697),i=n(6812),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},8844:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var r=n(9037),i=n(9985),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},4849:function(t,e,n){"use strict";var r=n(509),i=n(981);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},9037:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(t,e,n){"use strict";var r=n(8844),i=n(690),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},7248:function(t){"use strict";t.exports={}},8506:function(t,e,n){"use strict";var r=n(7697),i=n(3689),o=n(6420);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(6648),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},6738:function(t,e,n){"use strict";var r=n(8844),i=n(9985),o=n(4091),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},618:function(t,e,n){"use strict";var r,i,o,s=n(9834),a=n(9037),l=n(8999),c=n(5773),u=n(6812),h=n(4091),d=n(2713),p=n(7248),f="Object already initialized",m=a.TypeError,g=a.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(t,e){if(v.has(t))throw new m(f);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var w=d("state");p[w]=!0,r=function(t,e){if(u(t,w))throw new m(f);return e.facade=t,c(t,w,e),e},i=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},2297:function(t,e,n){"use strict";var r=n(6648);t.exports=Array.isArray||function(t){return"Array"===r(t)}},9985:function(t,e,n){"use strict";var r=n(2659),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},5266:function(t,e,n){"use strict";var r=n(3689),i=n(9985),o=/#|\.prototype\./,s=function(t,e){var n=l[a(t)];return n===u||n!==c&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},981:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},8999:function(t,e,n){"use strict";var r=n(9985),i=n(2659),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,n){"use strict";var r=n(6058),i=n(9985),o=n(3622),s=n(9525),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},6310:function(t,e,n){"use strict";var r=n(3126);t.exports=function(t){return r(t.length)}},8702:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(6812),a=n(7697),l=n(1236).CONFIGURABLE,c=n(6738),u=n(618),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),y=r([].join),b=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===m(p(e),0,7)&&(e="["+g(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&s(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=h(t);return s(r,"source")||(r.source=y(v,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&d(this).source||c(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},2560:function(t,e,n){"use strict";var r=n(7697),i=n(8506),o=n(5648),s=n(5027),a=n(8360),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=u(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var r=n(7697),i=n(2615),o=n(9556),s=n(5684),a=n(5290),l=n(8360),c=n(6812),u=n(8506),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return s(!i(o.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var r=n(4948),i=n(2739),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3622:function(t,e,n){"use strict";var r=n(8844);t.exports=r({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var r=n(8844),i=n(6812),o=n(5290),s=n(4328).indexOf,a=n(7248),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&l(u,n);while(e.length>c)i(r,n=e[c++])&&(~s(u,n)||l(u,n));return u}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},5899:function(t,e,n){"use strict";var r=n(2615),i=n(9985),o=n(8999),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var r=n(6058),i=n(8844),o=n(2741),s=n(7518),a=n(5027),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?l(e,n(t)):e}},4684:function(t,e,n){"use strict";var r=n(981),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},2713:function(t,e,n){"use strict";var r=n(3430),i=n(4630),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},4091:function(t,e,n){"use strict";var r=n(9037),i=n(5014),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},3430:function(t,e,n){"use strict";var r=n(3931),i=n(4091);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},146:function(t,e,n){"use strict";var r=n(3615),i=n(3689),o=n(9037),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},7578:function(t,e,n){"use strict";var r=n(8700),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5290:function(t,e,n){"use strict";var r=n(4413),i=n(4684);t.exports=function(t){return r(i(t))}},8700:function(t,e,n){"use strict";var r=n(8828);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},3126:function(t,e,n){"use strict";var r=n(8700),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},690:function(t,e,n){"use strict";var r=n(4684),i=Object;t.exports=function(t){return i(r(t))}},8732:function(t,e,n){"use strict";var r=n(2615),i=n(8999),o=n(734),s=n(4849),a=n(5899),l=n(4201),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=s(t,u);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},8360:function(t,e,n){"use strict";var r=n(8732),i=n(734);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},3043:function(t,e,n){"use strict";var r=n(4201),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},4327:function(t,e,n){"use strict";var r=n(926),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},4630:function(t,e,n){"use strict";var r=n(8844),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},9525:function(t,e,n){"use strict";var r=n(146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var r=n(7697),i=n(3689);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},9834:function(t,e,n){"use strict";var r=n(9037),i=n(9985),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},4201:function(t,e,n){"use strict";var r=n(9037),i=n(3430),o=n(6812),s=n(4630),a=n(146),l=n(9525),c=r.Symbol,u=i("wks"),h=l?c["for"]||c:c&&c.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(c,t)?c[t]:h("Symbol."+t)),u[t]}},560:function(t,e,n){"use strict";var r=n(9989),i=n(690),o=n(6310),s=n(5649),a=n(5565),l=n(3689),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=c||!u();r({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=i(this),n=o(e),r=arguments.length;a(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return s(e,n),n}})},8858:function(t,e,n){"use strict";var r=n(1880),i=n(8844),o=n(4327),s=n(1500),a=URLSearchParams,l=a.prototype,c=i(l.append),u=i(l["delete"]),h=i(l.forEach),d=i([].push),p=new a("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&r(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=[];h(this,(function(t,e){d(r,{key:e,value:t})})),s(e,1);var i,a=o(t),l=o(n),p=0,f=0,m=!1,g=r.length;while(p<g)i=r[p++],m||i.key===a?(m=!0,u(this,i.key)):f++;while(f<g)i=r[f++],i.key===a&&i.value===l||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},1318:function(t,e,n){"use strict";var r=n(1880),i=n(8844),o=n(4327),s=n(1500),a=URLSearchParams,l=a.prototype,c=i(l.getAll),u=i(l.has),h=new a("a=1");!h.has("a",2)&&h.has("a",void 0)||r(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=c(this,t);s(e,1);var i=o(n),a=0;while(a<r.length)if(r[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},3228:function(t,e,n){"use strict";var r=n(7697),i=n(8844),o=n(2148),s=URLSearchParams.prototype,a=i(s.forEach);r&&!("size"in s)&&o(s,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},2752:function(t,e,n){"use strict";n.d(e,{ML:function(){return En},hj:function(){return Tt},vc:function(){return Ln},NB:function(){return Bn},nU:function(){return it},Nl:function(){return X},Jo:function(){return Le},eE:function(){return me},EG:function(){return Je},xh:function(){return Xt},Cf:function(){return An},K9:function(){return Rn},P1:function(){return et},x2:function(){return Pn},pr:function(){return Ge},DS:function(){return Nn},zK:function(){return Dn},S0:function(){return In}});var r=n(2376),i=n(4348),o=n(2696),s=n(2806),a=n(6560);const l=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function c(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const u=(t,e,n)=>{let i=c(t,n);if(!i)return!1;let o=p(i);if(!o){let n=i.blockRange(),r=n&&(0,a.k9)(n);return null!=r&&(e&&e(t.tr.lift(n,r).scrollIntoView()),!0)}let l=o.nodeBefore;if(!l.type.spec.isolating&&P(t,o,e))return!0;if(0==i.parent.content.size&&(h(l,"end")||r.qv.isSelectable(l))){let n=(0,a.dR)(t.doc,i.before(),i.after(),s.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let i=t.tr.step(n);i.setSelection(h(l,"end")?r.Y1.findFrom(i.doc.resolve(i.mapping.map(o.pos,-1)),-1):r.qv.create(i.doc,o.pos-l.nodeSize)),e(i.scrollIntoView())}return!0}}return!(!l.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0)};function h(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const d=(t,e,n)=>{let{$head:i,empty:o}=t.selection,s=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=p(i)}let a=s&&s.nodeBefore;return!(!a||!r.qv.isSelectable(a))&&(e&&e(t.tr.setSelection(r.qv.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function p(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function f(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const m=(t,e,n)=>{let i=f(t,n);if(!i)return!1;let o=y(i);if(!o)return!1;let l=o.nodeAfter;if(P(t,o,e))return!0;if(0==i.parent.content.size&&(h(l,"start")||r.qv.isSelectable(l))){let n=(0,a.dR)(t.doc,i.before(),i.after(),s.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let i=t.tr.step(n);i.setSelection(h(l,"start")?r.Y1.findFrom(i.doc.resolve(i.mapping.map(o.pos)),1):r.qv.create(i.doc,i.mapping.map(o.pos))),e(i.scrollIntoView())}return!0}}return!(!l.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0)},g=(t,e,n)=>{let{$head:i,empty:o}=t.selection,s=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=y(i)}let a=s&&s.nodeAfter;return!(!a||!r.qv.isSelectable(a))&&(e&&e(t.tr.setSelection(r.qv.create(t.doc,s.pos)).scrollIntoView()),!0)};function y(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const b=(t,e)=>{let n,i=t.selection,o=i instanceof r.qv;if(o){if(i.node.isTextblock||!(0,a.Mn)(t.doc,i.from))return!1;n=i.from}else if(n=(0,a.GJ)(t.doc,i.from,-1),null==n)return!1;if(e){let i=t.tr.join(n);o&&i.setSelection(r.qv.create(i.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},v=(t,e)=>{let n,i=t.selection;if(i instanceof r.qv){if(i.node.isTextblock||!(0,a.Mn)(t.doc,i.to))return!1;n=i.to}else if(n=(0,a.GJ)(t.doc,i.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},w=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&(0,a.k9)(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},x=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function _(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const k=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let o=n.node(-1),s=n.indexAfter(-1),a=_(o.contentMatchAt(s));if(!a||!o.canReplaceWith(s,s,a))return!1;if(e){let i=n.after(),o=t.tr.replaceWith(i,i,a.createAndFill());o.setSelection(r.Y1.near(o.doc.resolve(i),1)),e(o.scrollIntoView())}return!0},S=(t,e)=>{let n=t.selection,{$from:i,$to:o}=n;if(n instanceof r.C1||i.parent.inlineContent||o.parent.inlineContent)return!1;let s=_(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let n=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,a=t.tr.insert(n,s.createAndFill());a.setSelection(r.Bs.create(a.doc,n+1)),e(a.scrollIntoView())}return!0},C=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if((0,a.Ax)(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&(0,a.k9)(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function O(t){return(e,n)=>{let{$from:i,$to:o}=e.selection;if(e.selection instanceof r.qv&&e.selection.node.isBlock)return!(!i.parentOffset||!(0,a.Ax)(e.doc,i.pos))&&(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(n){let s=o.parentOffset==o.parent.content.size,l=e.tr;(e.selection instanceof r.Bs||e.selection instanceof r.C1)&&l.deleteSelection();let c=0==i.depth?null:_(i.node(-1).contentMatchAt(i.indexAfter(-1))),u=t&&t(o.parent,s),h=u?[u]:s&&c?[{type:c}]:void 0,d=(0,a.Ax)(l.doc,l.mapping.map(i.pos),1,h);if(h||d||!(0,a.Ax)(l.doc,l.mapping.map(i.pos),1,c?[{type:c}]:void 0)||(c&&(h=[{type:c}]),d=!0),d&&(l.split(l.mapping.map(i.pos),1,h),!s&&!i.parentOffset&&i.parent.type!=c)){let t=l.mapping.map(i.before()),e=l.doc.resolve(t);c&&i.node(-1).canReplaceWith(e.index(),e.index()+1,c)&&l.setNodeMarkup(l.mapping.map(i.before()),c)}n(l.scrollIntoView())}return!0}}const M=O(),T=(t,e)=>{let n,{$from:i,to:o}=t.selection,s=i.sharedDepth(o);return 0!=s&&(n=i.before(s),e&&e(t.tr.setSelection(r.qv.create(t.doc,n))),!0)},E=(t,e)=>(e&&e(t.tr.setSelection(new r.C1(t.doc))),!0);function A(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(o,o+1)||!i.isTextblock&&!(0,a.Mn)(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}function P(t,e,n){let i,o,l=e.nodeBefore,c=e.nodeAfter;if(l.type.spec.isolating||c.type.spec.isolating)return!1;if(A(t,e,n))return!0;let u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(o=l.contentMatchAt(l.childCount)).findWrapping(c.type))&&o.matchType(i[0]||c.type).validEnd){if(n){let r=e.pos+c.nodeSize,o=s.HY.empty;for(let t=i.length-1;t>=0;t--)o=s.HY.from(i[t].create(null,o));o=s.HY.from(l.copy(o));let u=t.tr.step(new a.FC(e.pos-1,r,e.pos,r,new s.p2(o,1,0),i.length,!0)),h=r+2*i.length;(0,a.Mn)(u.doc,h)&&u.join(h),n(u.scrollIntoView())}return!0}let d=r.Y1.findFrom(e,1),p=d&&d.$from.blockRange(d.$to),f=p&&(0,a.k9)(p);if(null!=f&&f>=e.depth)return n&&n(t.tr.lift(p,f).scrollIntoView()),!0;if(u&&h(c,"start",!0)&&h(l,"end")){let r=l,i=[];for(;;){if(i.push(r),r.isTextblock)break;r=r.lastChild}let o=c,u=1;for(;!o.isTextblock;o=o.firstChild)u++;if(r.canReplace(r.childCount,r.childCount,o.content)){if(n){let r=s.HY.empty;for(let t=i.length-1;t>=0;t--)r=s.HY.from(i[t].copy(r));let o=t.tr.step(new a.FC(e.pos-i.length,e.pos+c.nodeSize,e.pos+u,e.pos+c.nodeSize-u,new s.p2(r,i.length,0),0,!0));n(o.scrollIntoView())}return!0}}return!1}function D(t){return function(e,n){let i=e.selection,o=t<0?i.$from:i.$to,s=o.depth;while(o.node(s).isInline){if(!s)return!1;s--}return!!o.node(s).isTextblock&&(n&&n(e.tr.setSelection(r.Bs.create(e.doc,t<0?o.start(s):o.end(s)))),!0)}}const N=D(-1),I=D(1);function L(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&(0,a.nd)(s,t,e);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}function B(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(r,s,((r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)i=!0;else{let e=n.doc.resolve(o),r=e.index();i=e.parent.canReplaceWith(r,r+1,t)}}))}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[r];i.setBlockType(o,s,t,e)}r(i.scrollIntoView())}return!0}}function R(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let j=R(l,u,d),z=R(l,m,g);const H={Enter:R(x,S,C,M),"Mod-Enter":k,Backspace:j,"Mod-Backspace":j,"Shift-Backspace":j,Delete:z,"Mod-Delete":z,"Mod-a":E},F={"Ctrl-h":H["Backspace"],"Alt-Backspace":H["Mod-Backspace"],"Ctrl-d":H["Delete"],"Ctrl-Alt-Backspace":H["Mod-Delete"],"Alt-Delete":H["Mod-Delete"],"Alt-d":H["Mod-Delete"],"Ctrl-a":N,"Ctrl-e":I};for(let jn in H)F[jn]=H[jn];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function $(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&i.node(l.depth-1).type.compatibleContent(t)&&0==l.startIndex){if(0==i.index(l.depth-1))return!1;let t=n.doc.resolve(l.start-2);u=new s.Ts(t,t,l.depth),l.endIndex<l.parent.childCount&&(l=new s.Ts(i,n.doc.resolve(o.end(l.depth)),l.depth)),c=!0}let h=(0,a.nd)(u,t,e,l);return!!h&&(r&&r(V(n.tr,l,h,c,t).scrollIntoView()),!0)}}function V(t,e,n,r,i){let o=s.HY.empty;for(let a=n.length-1;a>=0;a--)o=s.HY.from(n[a].type.create(n[a].attrs,o));t.step(new a.FC(e.start-(r?2:0),e.end,e.start,e.end,new s.p2(o,0,0),n.length,!0));let l=0;for(let s=0;s<n.length;s++)n[s].type==i&&(l=s+1);let c=n.length-l,u=e.start+n.length-(r?2:0),h=e.parent;for(let s=e.startIndex,d=e.endIndex,p=!0;s<d;s++,p=!1)!p&&(0,a.Ax)(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=h.child(s).nodeSize;return t}function W(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));return!!o&&(!n||(r.node(o.depth-1).type==t?q(e,n,t,o):U(e,n,o)))}}function q(t,e,n,r){let i=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new a.FC(o-1,l,o,l,new s.p2(s.HY.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new s.Ts(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=(0,a.k9)(r);if(null==c)return!1;i.lift(r,c);let u=i.mapping.map(o,-1)-1;return(0,a.Mn)(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}function U(t,e,n){let r=t.tr,i=n.parent;for(let s=n.end,a=n.endIndex-1,m=n.startIndex;a>m;a--)s-=i.child(a).nodeSize,r.delete(s-1,s+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=0==n.startIndex,u=n.endIndex==i.childCount,h=o.node(-1),d=o.index(-1);if(!h.canReplace(d+(c?0:1),d+1,l.content.append(u?s.HY.empty:s.HY.from(i))))return!1;let p=o.pos,f=p+l.nodeSize;return r.step(new a.FC(p-(c?1:0),f+(u?1:0),p+1,f-1,new s.p2((c?s.HY.empty:s.HY.from(i.copy(s.HY.empty))).append(u?s.HY.empty:s.HY.from(i.copy(s.HY.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function K(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));if(!o)return!1;let l=o.startIndex;if(0==l)return!1;let c=o.parent,u=c.child(l-1);if(u.type!=t)return!1;if(n){let r=u.lastChild&&u.lastChild.type==c.type,i=s.HY.from(r?t.create():null),l=new s.p2(s.HY.from(t.create(null,s.HY.from(c.type.create(null,i)))),r?3:1,0),h=o.start,d=o.end;n(e.tr.step(new a.FC(h-(r?3:1),d,h,d,l,1,!0)).scrollIntoView())}return!0}}function Y(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class J{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map((([t,e])=>{const n=(...t)=>{const n=e(...t)(o);return i.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(i),n};return[t,n]})))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s=[],a=!!t,l=t||i.tr,c=()=>(a||!e||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),s.every((t=>!0===t))),u={...Object.fromEntries(Object.entries(n).map((([t,n])=>{const r=(...t)=>{const r=this.buildProps(l,e),i=n(...t)(r);return s.push(i),u};return[t,r]}))),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r),s=Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)({...o,dispatch:void 0})])));return{...s,chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s={tr:t,editor:r,view:o,state:Y({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map((([t,e])=>[t,(...t)=>e(...t)(s)])))}};return s}}class G{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach((t=>t.apply(this,e))),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter((t=>t!==e)):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function X(t,e,n){if(void 0===t.config[e]&&t.parent)return X(t.parent,e,n);if("function"===typeof t.config[e]){const r=t.config[e].bind({...n,parent:t.parent?X(t.parent,e,n):null});return r}return t.config[e]}function Z(t){const e=t.filter((t=>"extension"===t.type)),n=t.filter((t=>"node"===t.type)),r=t.filter((t=>"mark"===t.type));return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Q(t){const e=[],{nodeExtensions:n,markExtensions:r}=Z(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach((t=>{const n={name:t.name,options:t.options,storage:t.storage},r=X(t,"addGlobalAttributes",n);if(!r)return;const i=r();i.forEach((t=>{t.types.forEach((n=>{Object.entries(t.attributes).forEach((([t,r])=>{e.push({type:n,name:t,attribute:{...o,...r}})}))}))}))})),i.forEach((t=>{const n={name:t.name,options:t.options,storage:t.storage},r=X(t,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach((([n,r])=>{const i={...o,...r};"function"===typeof(null===i||void 0===i?void 0:i.default)&&(i.default=i.default()),(null===i||void 0===i?void 0:i.isRequired)&&void 0===(null===i||void 0===i?void 0:i.default)&&delete i.default,e.push({type:t.name,name:n,attribute:i})}))})),e}function tt(t,e){if("string"===typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function et(...t){return t.filter((t=>!!t)).reduce(((t,e)=>{const n={...t};return Object.entries(e).forEach((([t,e])=>{const r=n[t];if(r)if("class"===t){const r=e?e.split(" "):[],i=n[t]?n[t].split(" "):[],o=r.filter((t=>!i.includes(t)));n[t]=[...i,...o].join(" ")}else n[t]="style"===t?[n[t],e].join("; "):e;else n[t]=e})),n}),{})}function nt(t,e){return e.filter((t=>t.attribute.rendered)).map((e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]})).reduce(((t,e)=>et(t,e)),{})}function rt(t){return"function"===typeof t}function it(t,e=void 0,...n){return rt(t)?e?t.bind(e)(...n):t(...n):t}function ot(t={}){return 0===Object.keys(t).length&&t.constructor===Object}function st(t){return"string"!==typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t}function at(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;const i=e.reduce(((t,e)=>{const r=e.attribute.parseHTML?e.attribute.parseHTML(n):st(n.getAttribute(e.name));return null===r||void 0===r?t:{...t,[e.name]:r}}),{});return{...r,...i}}}}function lt(t){return Object.fromEntries(Object.entries(t).filter((([t,e])=>("attrs"!==t||!ot(e))&&(null!==e&&void 0!==e))))}function ct(t,e){var n;const r=Q(t),{nodeExtensions:i,markExtensions:o}=Z(t),a=null===(n=i.find((t=>X(t,"topNode"))))||void 0===n?void 0:n.name,l=Object.fromEntries(i.map((n=>{const i=r.filter((t=>t.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:e},s=t.reduce(((t,e)=>{const r=X(e,"extendNodeSchema",o);return{...t,...r?r(n):{}}}),{}),a=lt({...s,content:it(X(n,"content",o)),marks:it(X(n,"marks",o)),group:it(X(n,"group",o)),inline:it(X(n,"inline",o)),atom:it(X(n,"atom",o)),selectable:it(X(n,"selectable",o)),draggable:it(X(n,"draggable",o)),code:it(X(n,"code",o)),defining:it(X(n,"defining",o)),isolating:it(X(n,"isolating",o)),attrs:Object.fromEntries(i.map((t=>{var e;return[t.name,{default:null===(e=null===t||void 0===t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),l=it(X(n,"parseHTML",o));l&&(a.parseDOM=l.map((t=>at(t,i))));const c=X(n,"renderHTML",o);c&&(a.toDOM=t=>c({node:t,HTMLAttributes:nt(t,i)}));const u=X(n,"renderText",o);return u&&(a.toText=u),[n.name,a]}))),c=Object.fromEntries(o.map((n=>{const i=r.filter((t=>t.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:e},s=t.reduce(((t,e)=>{const r=X(e,"extendMarkSchema",o);return{...t,...r?r(n):{}}}),{}),a=lt({...s,inclusive:it(X(n,"inclusive",o)),excludes:it(X(n,"excludes",o)),group:it(X(n,"group",o)),spanning:it(X(n,"spanning",o)),code:it(X(n,"code",o)),attrs:Object.fromEntries(i.map((t=>{var e;return[t.name,{default:null===(e=null===t||void 0===t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),l=it(X(n,"parseHTML",o));l&&(a.parseDOM=l.map((t=>at(t,i))));const c=X(n,"renderHTML",o);return c&&(a.toDOM=t=>c({mark:t,HTMLAttributes:nt(t,i)})),[n.name,a]})));return new s.V_({topNode:a,nodes:l,marks:c})}function ut(t,e){return e.nodes[t]||e.marks[t]||null}function ht(t,e){return Array.isArray(e)?e.some((e=>{const n="string"===typeof e?e:e.name;return n===t.name})):e}const dt=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,((t,e,i,o)=>{var s,a;const l=(null===(a=(s=t.type.spec).toText)||void 0===a?void 0:a.call(s,{node:t,pos:e,parent:i,index:o}))||t.textContent||"%leaf%";n+=l.slice(0,Math.max(0,r-e))})),n};function pt(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class ft{constructor(t){this.find=t.find,this.handler=t.handler}}const mt=(t,e)=>{if(pt(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function gt(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(e=c.nodeBefore||c.nodeAfter)||void 0===e?void 0:e.marks.find((t=>t.type.spec.code))))return!1;let u=!1;const h=dt(c)+o;return s.forEach((t=>{if(u)return;const e=mt(h,t.find);if(!e)return;const s=l.state.tr,c=Y({state:l.state,transaction:s}),d={from:r-(e[0].length-o.length),to:i},{commands:p,chain:f,can:m}=new J({editor:n,state:c}),g=t.handler({state:c,range:d,match:e,commands:p,chain:f,can:m});null!==g&&s.steps.length&&(s.setMeta(a,{transform:s,from:r,to:i,text:o}),l.dispatch(s),u=!0)})),u}function yt(t){const{editor:e,rules:n}=t,i=new r.Sy({state:{init(){return null},apply(t,e){const n=t.getMeta(i);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput(t,r,o,s){return gt({editor:e,from:r,to:o,text:s,rules:n,plugin:i})},handleDOMEvents:{compositionend:t=>(setTimeout((()=>{const{$cursor:r}=t.state.selection;r&&gt({editor:e,from:r.pos,to:r.pos,text:"",rules:n,plugin:i})})),!1)},handleKeyDown(t,r){if("Enter"!==r.key)return!1;const{$cursor:o}=t.state.selection;return!!o&&gt({editor:e,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:i})}},isInputRules:!0});return i}function bt(t){return"number"===typeof t}class vt{constructor(t){this.find=t.find,this.handler=t.handler}}const wt=(t,e)=>{if(pt(e))return[...t.matchAll(e)];const n=e(t);return n?n.map((e=>{const n=[e.text];return n.index=e.index,n.input=t,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(e.replaceWith)),n})):[]};function xt(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new J({editor:e,state:n}),h=[];n.doc.nodesBetween(r,i,((t,e)=>{if(!t.isTextblock||t.type.spec.code)return;const d=Math.max(r,e),p=Math.min(i,e+t.content.size),f=t.textBetween(d-e,p-e,void 0,""),m=wt(f,o.find);m.forEach((t=>{if(void 0===t.index)return;const e=d+t.index+1,r=e+t[0].length,i={from:n.tr.mapping.map(e),to:n.tr.mapping.map(r)},p=o.handler({state:n,range:i,match:t,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});h.push(p)}))}));const d=h.every((t=>null!==t));return d}function _t(t){const{editor:e,rules:n}=t;let i=null,o=!1,s=!1,a=new ClipboardEvent("paste"),l=new DragEvent("drop");const c=n.map((t=>new r.Sy({view(t){const e=e=>{var n;i=(null===(n=t.dom.parentElement)||void 0===n?void 0:n.contains(e.target))?t.dom.parentElement:null};return window.addEventListener("dragstart",e),{destroy(){window.removeEventListener("dragstart",e)}}},props:{handleDOMEvents:{drop:(t,e)=>(s=i===t.dom.parentElement,l=e,!1),paste:(t,e)=>{var n;const r=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html");return a=e,o=!!(null===r||void 0===r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(n,r,i)=>{const c=n[0],u="paste"===c.getMeta("uiEvent")&&!o,h="drop"===c.getMeta("uiEvent")&&!s;if(!u&&!h)return;const d=r.doc.content.findDiffStart(i.doc.content),p=r.doc.content.findDiffEnd(i.doc.content);if(!bt(d)||!p||d===p.b)return;const f=i.tr,m=Y({state:i,transaction:f}),g=xt({editor:e,state:m,from:Math.max(d-1,0),to:p.b-1,rule:t,pasteEvent:a,dropEvent:l});return g&&f.steps.length?(l=new DragEvent("drop"),a=new ClipboardEvent("paste"),f):void 0}})));return c}function kt(t){const e=t.filter(((e,n)=>t.indexOf(e)!==n));return[...new Set(e)]}class St{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=St.resolve(t),this.schema=ct(this.extensions,e),this.extensions.forEach((t=>{var e;this.editor.extensionStorage[t.name]=t.storage;const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:ut(t.name,this.schema)};if("mark"===t.type){const r=null===(e=it(X(t,"keepOnSplit",n)))||void 0===e||e;r&&this.splittableMarks.push(t.name)}const r=X(t,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const i=X(t,"onCreate",n);i&&this.editor.on("create",i);const o=X(t,"onUpdate",n);o&&this.editor.on("update",o);const s=X(t,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=X(t,"onTransaction",n);a&&this.editor.on("transaction",a);const l=X(t,"onFocus",n);l&&this.editor.on("focus",l);const c=X(t,"onBlur",n);c&&this.editor.on("blur",c);const u=X(t,"onDestroy",n);u&&this.editor.on("destroy",u)}))}static resolve(t){const e=St.sort(St.flatten(t)),n=kt(e.map((t=>t.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((t=>`'${t}'`)).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map((t=>{const e={name:t.name,options:t.options,storage:t.storage},n=X(t,"addExtensions",e);return n?[t,...this.flatten(n())]:t})).flat(10)}static sort(t){const e=100;return t.sort(((t,n)=>{const r=X(t,"priority")||e,i=X(n,"priority")||e;return r>i?-1:r<i?1:0}))}get commands(){return this.extensions.reduce(((t,e)=>{const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ut(e.name,this.schema)},r=X(e,"addCommands",n);return r?{...t,...r()}:t}),{})}get plugins(){const{editor:t}=this,e=St.sort([...this.extensions].reverse()),n=[],r=[],i=e.map((e=>{const i={name:e.name,options:e.options,storage:e.storage,editor:t,type:ut(e.name,this.schema)},s=[],a=X(e,"addKeyboardShortcuts",i);let l={};if("mark"===e.type&&e.config.exitable&&(l.ArrowRight=()=>Ln.handleExit({editor:t,mark:e})),a){const e=Object.fromEntries(Object.entries(a()).map((([e,n])=>[e,()=>n({editor:t})])));l={...l,...e}}const c=(0,o.h)(l);s.push(c);const u=X(e,"addInputRules",i);ht(e,t.options.enableInputRules)&&u&&n.push(...u());const h=X(e,"addPasteRules",i);ht(e,t.options.enablePasteRules)&&h&&r.push(...h());const d=X(e,"addProseMirrorPlugins",i);if(d){const t=d();s.push(...t)}return s})).flat();return[yt({editor:t,rules:n}),..._t({editor:t,rules:r}),...i]}get attributes(){return Q(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Z(this.extensions);return Object.fromEntries(e.filter((t=>!!X(t,"addNodeView"))).map((e=>{const n=this.attributes.filter((t=>t.type===e.name)),r={name:e.name,options:e.options,storage:e.storage,editor:t,type:tt(e.name,this.schema)},i=X(e,"addNodeView",r);if(!i)return[];const o=(r,o,s,a)=>{const l=nt(r,n);return i()({editor:t,node:r,getPos:s,decorations:a,HTMLAttributes:l,extension:e})};return[e.name,o]})))}}function Ct(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ot(t){return"Object"===Ct(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function Mt(t,e){const n={...t};return Ot(t)&&Ot(e)&&Object.keys(e).forEach((r=>{Ot(e[r])?r in t?n[r]=Mt(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})})),n}class Tt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=it(X(this,"addOptions",{name:this.name}))),this.storage=it(X(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Tt(t)}configure(t={}){const e=this.extend();return e.options=Mt(this.options,t),e.storage=it(X(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Tt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=it(X(e,"addOptions",{name:e.name})),e.storage=it(X(e,"addStorage",{name:e.name,options:e.options})),e}}function Et(t,e,n){const{from:r,to:i}=e,{blockSeparator:o="\n\n",textSerializers:s={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,((t,n,c,u)=>{var h;const d=null===s||void 0===s?void 0:s[t.type.name];d?(t.isBlock&&!l&&(a+=o,l=!0),c&&(a+=d({node:t,pos:n,parent:c,index:u,range:e}))):t.isText?(a+=null===(h=null===t||void 0===t?void 0:t.text)||void 0===h?void 0:h.slice(Math.max(r,n)-n,i-n),l=!1):t.isBlock&&!l&&(a+=o,l=!0)})),a}function At(t){return Object.fromEntries(Object.entries(t.nodes).filter((([,t])=>t.spec.toText)).map((([t,e])=>[t,e.spec.toText])))}const Pt=Tt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map((t=>t.$from.pos))),a=Math.max(...o.map((t=>t.$to.pos))),l=At(n),c={from:s,to:a};return Et(r,c,{textSerializers:l})}}})]}}),Dt=()=>({editor:t,view:e})=>(requestAnimationFrame((()=>{var n;t.isDestroyed||(e.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),Nt=(t=!1)=>({commands:e})=>e.setContent("",t),It=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return!n||(i.forEach((({$from:n,$to:r})=>{t.doc.nodesBetween(n.pos,r.pos,((t,n)=>{if(t.type.isText)return;const{doc:r,mapping:i}=e,o=r.resolve(i.map(n)),s=r.resolve(i.map(n+t.nodeSize)),l=o.blockRange(s);if(!l)return;const c=(0,a.k9)(l);if(t.type.isTextblock){const{defaultType:t}=o.parent.contentMatchAt(o.index());e.setNodeMarkup(l.start,t)}(c||0===c)&&e.lift(l,c)}))})),!0)},Lt=t=>e=>t(e),Bt=()=>({state:t,dispatch:e})=>S(t,e),Rt=(t,e)=>({editor:n,tr:i})=>{const{state:o}=n,s=o.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const a=i.mapping.map(e);return i.insert(a,s.content),i.setSelection(new r.Bs(i.doc.resolve(a-1))),!0},jt=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1){const n=i.node(o);if(n.type===r.type){if(e){const e=i.before(o),n=i.after(o);t.delete(e,n).scrollIntoView()}return!0}}return!1},zt=t=>({tr:e,state:n,dispatch:r})=>{const i=tt(t,n.schema),o=e.selection.$anchor;for(let t=o.depth;t>0;t-=1){const n=o.node(t);if(n.type===i){if(r){const n=o.before(t),r=o.after(t);e.delete(n,r).scrollIntoView()}return!0}}return!1},Ht=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Ft=()=>({state:t,dispatch:e})=>l(t,e),$t=()=>({commands:t})=>t.keyboardShortcut("Enter"),Vt=()=>({state:t,dispatch:e})=>k(t,e);function Wt(t,e,n={strict:!0}){const r=Object.keys(e);return!r.length||r.every((r=>n.strict?e[r]===t[r]:pt(e[r])?e[r].test(t[r]):e[r]===t[r]))}function qt(t,e,n={}){return t.find((t=>t.type===e&&Wt(t.attrs,n)))}function Ut(t,e,n={}){return!!qt(t,e,n)}function Kt(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&0!==r.offset&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=qt([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;qt([...r.node.marks],e,n);while(o>0&&i.isInSet(t.parent.child(o-1).marks))o-=1,s-=t.parent.child(o).nodeSize;while(a<t.parent.childCount&&Ut([...t.parent.child(a).marks],e,n))l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function Yt(t,e){if("string"===typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Jt=(t,e={})=>({tr:n,state:i,dispatch:o})=>{const s=Yt(t,i.schema),{doc:a,selection:l}=n,{$from:c,from:u,to:h}=l;if(o){const t=Kt(c,s,e);if(t&&t.from<=u&&t.to>=h){const e=r.Bs.create(a,t.from,t.to);n.setSelection(e)}}return!0},Gt=t=>e=>{const n="function"===typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1};function Xt(t){return t instanceof r.Bs}function Zt(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Qt(t,e=null){if(!e)return null;const n=r.Y1.atStart(t),i=r.Y1.atEnd(t);if("start"===e||!0===e)return n;if("end"===e)return i;const o=n.from,s=i.to;return"all"===e?r.Bs.create(t,Zt(0,o,s),Zt(t.content.size,o,s)):r.Bs.create(t,Zt(e,o,s),Zt(e,o,s))}function te(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ee=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{te()&&r.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(r.focus(),(null===e||void 0===e?void 0:e.scrollIntoView)&&n.commands.scrollIntoView())}))};if(r.hasFocus()&&null===t||!1===t)return!0;if(o&&null===t&&!Xt(n.state.selection))return s(),!0;const a=Qt(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},ne=(t,e)=>n=>t.every(((t,r)=>e(t,{...n,index:r}))),re=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function ie(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function oe(t,e,n){if(n={slice:!0,parseOptions:{},...n},"object"===typeof t&&null!==t)try{return Array.isArray(t)&&t.length>0?s.HY.fromArray(t.map((t=>e.nodeFromJSON(t)))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),oe("",e,n)}if("string"===typeof t){const r=s.aw.fromSchema(e);return n.slice?r.parseSlice(ie(t),n.parseOptions).content:r.parse(ie(t),n.parseOptions)}return oe("",e,n)}function se(t,e,n){const i=t.steps.length-1;if(i<e)return;const o=t.steps[i];if(!(o instanceof a.Pu||o instanceof a.FC))return;const s=t.mapping.maps[i];let l=0;s.forEach(((t,e,n,r)=>{0===l&&(l=r)})),t.setSelection(r.Y1.near(t.doc.resolve(l),n))}const ae=t=>t.toString().startsWith("<"),le=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const i=oe(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===i.toString())return!0;let{from:s,to:a}="number"===typeof t?{from:t,to:t}:{from:t.from,to:t.to},l=!0,c=!0;const u=ae(i)?i:[i];if(u.forEach((t=>{t.check(),l=!!l&&(t.isText&&0===t.marks.length),c=!!c&&t.isBlock})),s===a&&c){const{parent:t}=r.doc.resolve(s),e=t.isTextblock&&!t.type.spec.code&&!t.childCount;e&&(s-=1,a+=1)}l?Array.isArray(e)?r.insertText(e.map((t=>t.text||"")).join(""),s,a):"object"===typeof e&&e&&e.text?r.insertText(e.text,s,a):r.insertText(e,s,a):r.replaceWith(s,a,i),n.updateSelection&&se(r,r.steps.length-1,-1)}return!0},ce=()=>({state:t,dispatch:e})=>b(t,e),ue=()=>({state:t,dispatch:e})=>v(t,e),he=()=>({state:t,dispatch:e})=>u(t,e),de=()=>({state:t,dispatch:e})=>m(t,e),pe=()=>({tr:t,state:e,dispatch:n})=>{try{const r=(0,a.GJ)(e.doc,e.selection.$from.pos,-1);return null!==r&&void 0!==r&&(t.join(r,2),n&&n(t),!0)}catch{return!1}},fe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=(0,a.GJ)(t.doc,t.selection.$from.pos,1);return null!==r&&void 0!==r&&(n.join(r,2),e&&e(n),!0)}catch(r){return!1}};function me(){return"undefined"!==typeof navigator&&/Mac/.test(navigator.platform)}function ge(t){const e=t.split(/-(?!$)/);let n,r,i,o,s=e[e.length-1];"Space"===s&&(s=" ");for(let a=0;a<e.length-1;a+=1){const t=e[a];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))n=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))i=!0;else{if(!/^mod$/i.test(t))throw new Error(`Unrecognized modifier name: ${t}`);te()||me()?o=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),o&&(s=`Meta-${s}`),i&&(s=`Shift-${s}`),s}const ye=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=ge(t).split(/-(?!$)/),s=o.find((t=>!["Alt","Ctrl","Meta","Shift"].includes(t))),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction((()=>{n.someProp("handleKeyDown",(t=>t(n,a)))}));return null===l||void 0===l||l.steps.forEach((t=>{const e=t.map(r.mapping);e&&i&&r.maybeStep(e)})),!0};function be(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?tt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,((t,e)=>{if(t.isText)return;const n=Math.max(r,e),o=Math.min(i,e+t.nodeSize);a.push({node:t,from:n,to:o})}));const l=i-r,c=a.filter((t=>!s||s.name===t.node.type.name)).filter((t=>Wt(t.node.attrs,n,{strict:!1})));if(o)return!!c.length;const u=c.reduce(((t,e)=>t+e.to-e.from),0);return u>=l}const ve=(t,e={})=>({state:n,dispatch:r})=>{const i=tt(t,n.schema),o=be(n,i,e);return!!o&&w(n,r)},we=()=>({state:t,dispatch:e})=>C(t,e),xe=t=>({state:e,dispatch:n})=>{const r=tt(t,e.schema);return W(r)(e,n)},_e=()=>({state:t,dispatch:e})=>x(t,e);function ke(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Se(t,e){const n="string"===typeof e?[e]:e;return Object.keys(t).reduce(((e,r)=>(n.includes(r)||(e[r]=t[r]),e)),{})}const Ce=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=ke("string"===typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(o=tt(t,r.schema)),"mark"===a&&(s=Yt(t,r.schema)),i&&n.selection.ranges.forEach((t=>{r.doc.nodesBetween(t.$from.pos,t.$to.pos,((t,r)=>{o&&o===t.type&&n.setNodeMarkup(r,void 0,Se(t.attrs,e)),s&&t.marks.length&&t.marks.forEach((i=>{s===i.type&&n.addMark(r,r+t.nodeSize,s.create(Se(i.attrs,e)))}))}))})),!0)},Oe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Me=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),Te=()=>({state:t,dispatch:e})=>d(t,e),Ee=()=>({state:t,dispatch:e})=>g(t,e),Ae=()=>({state:t,dispatch:e})=>T(t,e),Pe=()=>({state:t,dispatch:e})=>I(t,e),De=()=>({state:t,dispatch:e})=>N(t,e);function Ne(t,e,n={}){return oe(t,e,{slice:!1,parseOptions:n})}const Ie=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=Ne(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!e),!0};function Le(t,e){const n=Yt(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,(t=>{s.push(...t.marks)}));const a=s.find((t=>t.type.name===n.name));return a?{...a.attrs}:{}}function Be(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Re(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function je(t){return e=>Re(e.$from,t)}function ze(t,e){const n=s.PW.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument(),i=r.createElement("div");return i.appendChild(n),i.innerHTML}function He(t,e){const n={from:0,to:t.content.size};return Et(t,n,e)}function Fe(t,e){const n=tt(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,(t=>{o.push(t)}));const s=o.reverse().find((t=>t.type.name===n.name));return s?{...s.attrs}:{}}function $e(t,e){const n=ke("string"===typeof e?e:e.name,t.schema);return"node"===n?Fe(t,e):"mark"===n?Le(t,e):{}}function Ve(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach((e=>{const i=n.resolve(t-1),o=Kt(i,e.type);o&&r.push({mark:e,...o})})):n.nodesBetween(t,e,((t,e)=>{r.push(...t.marks.map((n=>({from:e,to:e+t.nodeSize,mark:n}))))})),r}function We(t,e,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=t.find((t=>t.type===e&&t.name===n));return!!r&&r.attribute.keepOnSplit})))}function qe(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Yt(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter((t=>!o||o.name===t.type.name)).find((t=>Wt(t.attrs,n,{strict:!1})));let s=0;const a=[];if(i.forEach((({$from:e,$to:n})=>{const r=e.pos,i=n.pos;t.doc.nodesBetween(r,i,((t,e)=>{if(!t.isText&&!t.marks.length)return;const n=Math.max(r,e),o=Math.min(i,e+t.nodeSize),l=o-n;s+=l,a.push(...t.marks.map((t=>({mark:t,from:n,to:o}))))}))})),0===s)return!1;const l=a.filter((t=>!o||o.name===t.mark.type.name)).filter((t=>Wt(t.mark.attrs,n,{strict:!1}))).reduce(((t,e)=>t+e.to-e.from),0),c=a.filter((t=>!o||t.mark.type!==o&&t.mark.type.excludes(o))).reduce(((t,e)=>t+e.to-e.from),0),u=l>0?l+c:l;return u>=s}function Ue(t,e,n={}){if(!e)return be(t,null,n)||qe(t,null,n);const r=ke(e,t.schema);return"node"===r?be(t,e,n):"mark"===r&&qe(t,e,n)}function Ke(t,e){const{nodeExtensions:n}=Z(e),r=n.find((e=>e.name===t));if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=it(X(r,"group",i));return"string"===typeof o&&o.split(" ").includes("list")}function Ye(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function Je(t){return t instanceof r.qv}function Ge(t,e,n){const r=0,i=t.state.doc.content.size,o=Zt(e,r,i),s=Zt(n,r,i),a=t.coordsAtPos(o),l=t.coordsAtPos(s,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),h=Math.min(a.left,l.left),d=Math.max(a.right,l.right),p=d-h,f=u-c,m=h,g=c,y={top:c,bottom:u,left:h,right:d,width:p,height:f,x:m,y:g};return{...y,toJSON:()=>y}}function Xe(t,e,n){var r;const{selection:i}=e;let o=null;if(Xt(i)&&(o=i.$cursor),o){const e=null!==(r=t.storedMarks)&&void 0!==r?r:o.marks();return!!n.isInSet(e)||!e.some((t=>t.type.excludes(n)))}const{ranges:s}=i;return s.some((({$from:e,$to:r})=>{let i=0===e.depth&&(t.doc.inlineContent&&t.doc.type.allowsMarkType(n));return t.doc.nodesBetween(e.pos,r.pos,((t,e,r)=>{if(i)return!1;if(t.isInline){const e=!r||r.type.allowsMarkType(n),o=!!n.isInSet(t.marks)||!t.marks.some((t=>t.type.excludes(n)));i=e&&o}return!i})),i}))}const Ze=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=Yt(t,r.schema);if(i)if(s){const t=Le(r,l);n.addStoredMark(l.create({...t,...e}))}else a.forEach((t=>{const i=t.$from.pos,o=t.$to.pos;r.doc.nodesBetween(i,o,((t,r)=>{const s=Math.max(r,i),a=Math.min(r+t.nodeSize,o),c=t.marks.find((t=>t.type===l));c?t.marks.forEach((t=>{l===t.type&&n.addMark(s,a,l.create({...t.attrs,...e}))})):n.addMark(s,a,l.create(e))}))}));return Xe(r,n,l)},Qe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),tn=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=tt(t,n.schema);return o.isTextblock?i().command((({commands:t})=>{const r=B(o,e)(n);return!!r||t.clearNodes()})).command((({state:t})=>B(o,e)(t,r))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},en=t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,i=Zt(t,0,n.content.size),o=r.qv.create(n,i);e.setSelection(o)}return!0},nn=t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:i,to:o}="number"===typeof t?{from:t,to:t}:t,s=r.Bs.atStart(n).from,a=r.Bs.atEnd(n).to,l=Zt(i,s,a),c=Zt(o,s,a),u=r.Bs.create(n,l,c);e.setSelection(u)}return!0},rn=t=>({state:e,dispatch:n})=>{const r=tt(t,e.schema);return K(r)(e,n)};function on(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter((t=>null===e||void 0===e?void 0:e.includes(t.type.name)));t.tr.ensureMarks(r)}}const sn=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:o})=>{const{selection:s,doc:l}=e,{$from:c,$to:u}=s,h=o.extensionManager.attributes,d=We(h,c.node().type.name,c.node().attrs);if(s instanceof r.qv&&s.node.isBlock)return!(!c.parentOffset||!(0,a.Ax)(l,c.pos))&&(i&&(t&&on(n,o.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;if(i){const i=u.parentOffset===u.parent.content.size;s instanceof r.Bs&&e.deleteSelection();const l=0===c.depth?void 0:Be(c.node(-1).contentMatchAt(c.indexAfter(-1)));let h=i&&l?[{type:l,attrs:d}]:void 0,p=(0,a.Ax)(e.doc,e.mapping.map(c.pos),1,h);if(h||p||!(0,a.Ax)(e.doc,e.mapping.map(c.pos),1,l?[{type:l}]:void 0)||(p=!0,h=l?[{type:l,attrs:d}]:void 0),p&&(e.split(e.mapping.map(c.pos),1,h),l&&!i&&!c.parentOffset&&c.parent.type!==l)){const t=e.mapping.map(c.before()),n=e.doc.resolve(t);c.node(-1).canReplaceWith(n.index(),n.index()+1,l)&&e.setNodeMarkup(e.mapping.map(c.before()),l)}t&&on(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0},an=t=>({tr:e,state:n,dispatch:i,editor:o})=>{var l;const c=tt(t,n.schema),{$from:u,$to:h}=n.selection,d=n.selection.node;if(d&&d.isBlock||u.depth<2||!u.sameParent(h))return!1;const p=u.node(-1);if(p.type!==c)return!1;const f=o.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let t=s.HY.empty;const n=u.index(-1)?1:u.index(-2)?2:3;for(let e=u.depth-n;e>=u.depth-3;e-=1)t=s.HY.from(u.node(e).copy(t));const i=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,o=We(f,u.node().type.name,u.node().attrs),a=(null===(l=c.contentMatch.defaultType)||void 0===l?void 0:l.createAndFill(o))||void 0;t=t.append(s.HY.from(c.createAndFill(null,a)||void 0));const h=u.before(u.depth-(n-1));e.replace(h,u.after(-i),new s.p2(t,4-n,0));let d=-1;e.doc.nodesBetween(h,e.doc.content.size,((t,e)=>{if(d>-1)return!1;t.isTextblock&&0===t.content.size&&(d=e+1)})),d>-1&&e.setSelection(r.Bs.near(e.doc.resolve(d))),e.scrollIntoView()}return!0}const m=h.pos===u.end()?p.contentMatchAt(0).defaultType:null,g=We(f,p.type.name,p.attrs),y=We(f,u.node().type.name,u.node().attrs);e.delete(u.pos,h.pos);const b=m?[{type:c,attrs:g},{type:m,attrs:y}]:[{type:c,attrs:g}];if(!(0,a.Ax)(e.doc,u.pos,2))return!1;if(i){const{selection:t,storedMarks:r}=n,{splittableMarks:s}=o.extensionManager,a=r||t.$to.parentOffset&&t.$from.marks();if(e.split(u.pos,2,b).scrollIntoView(),!a||!i)return!0;const l=a.filter((t=>s.includes(t.type.name)));e.ensureMarks(l)}return!0},ln=(t,e)=>{const n=je((t=>t.type===e))(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const i=t.doc.nodeAt(r),o=n.node.type===(null===i||void 0===i?void 0:i.type)&&(0,a.Mn)(t.doc,n.pos);return!o||(t.join(n.pos),!0)},cn=(t,e)=>{const n=je((t=>t.type===e))(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const i=t.doc.nodeAt(r),o=n.node.type===(null===i||void 0===i?void 0:i.type)&&(0,a.Mn)(t.doc,r);return!o||(t.join(r),!0)},un=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:h,splittableMarks:d}=i.extensionManager,p=tt(t,s.schema),f=tt(e,s.schema),{selection:m,storedMarks:g}=s,{$from:y,$to:b}=m,v=y.blockRange(b),w=g||m.$to.parentOffset&&m.$from.marks();if(!v)return!1;const x=je((t=>Ke(t.type.name,h)))(m);if(v.depth>=1&&x&&v.depth-x.depth<=1){if(x.node.type===p)return c.liftListItem(f);if(Ke(x.node.type.name,h)&&p.validContent(x.node.content)&&a)return l().command((()=>(o.setNodeMarkup(x.pos,p),!0))).command((()=>ln(o,p))).command((()=>cn(o,p))).run()}return n&&w&&a?l().command((()=>{const t=u().wrapInList(p,r),e=w.filter((t=>d.includes(t.type.name)));return o.ensureMarks(e),!!t||c.clearNodes()})).wrapInList(p,r).command((()=>ln(o,p))).command((()=>cn(o,p))).run():l().command((()=>{const t=u().wrapInList(p,r);return!!t||c.clearNodes()})).wrapInList(p,r).command((()=>ln(o,p))).command((()=>cn(o,p))).run()},hn=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Yt(t,r.schema),a=qe(r,s,e);return a?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},dn=(t,e,n={})=>({state:r,commands:i})=>{const o=tt(t,r.schema),s=tt(e,r.schema),a=be(r,o,n);return a?i.setNode(s):i.setNode(o,n)},pn=(t,e={})=>({state:n,commands:r})=>{const i=tt(t,n.schema),o=be(n,i,e);return o?r.lift(i):r.wrapIn(i,e)},fn=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const e=t.tr,n=o.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(o.text){const n=e.doc.resolve(o.from).marks();e.replaceWith(o.from,o.to,t.schema.text(o.text,n))}else e.delete(o.from,o.to)}return!0}}return!1},mn=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach((e=>{t.removeMark(e.$from.pos,e.$to.pos)})),!0},gn=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=Yt(t,r.schema),{$from:c,empty:u,ranges:h}=a;if(!i)return!0;if(u&&s){let{from:t,to:e}=a;const r=null===(o=c.marks().find((t=>t.type===l)))||void 0===o?void 0:o.attrs,i=Kt(c,l,r);i&&(t=i.from,e=i.to),n.removeMark(t,e,l)}else h.forEach((t=>{n.removeMark(t.$from.pos,t.$to.pos,l)}));return n.removeStoredMark(l),!0},yn=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=ke("string"===typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(o=tt(t,r.schema)),"mark"===a&&(s=Yt(t,r.schema)),i&&n.selection.ranges.forEach((t=>{const i=t.$from.pos,a=t.$to.pos;r.doc.nodesBetween(i,a,((t,r)=>{o&&o===t.type&&n.setNodeMarkup(r,void 0,{...t.attrs,...e}),s&&t.marks.length&&t.marks.forEach((o=>{if(s===o.type){const l=Math.max(r,i),c=Math.min(r+t.nodeSize,a);n.addMark(l,c,s.create({...o.attrs,...e}))}}))}))})),!0)},bn=(t,e={})=>({state:n,dispatch:r})=>{const i=tt(t,n.schema);return L(i,e)(n,r)},vn=(t,e={})=>({state:n,dispatch:r})=>{const i=tt(t,n.schema);return $(i,e)(n,r)};var wn=Object.freeze({__proto__:null,blur:Dt,clearContent:Nt,clearNodes:It,command:Lt,createParagraphNear:Bt,cut:Rt,deleteCurrentNode:jt,deleteNode:zt,deleteRange:Ht,deleteSelection:Ft,enter:$t,exitCode:Vt,extendMarkRange:Jt,first:Gt,focus:ee,forEach:ne,insertContent:re,insertContentAt:le,joinUp:ce,joinDown:ue,joinBackward:he,joinForward:de,joinItemBackward:pe,joinItemForward:fe,keyboardShortcut:ye,lift:ve,liftEmptyBlock:we,liftListItem:xe,newlineInCode:_e,resetAttributes:Ce,scrollIntoView:Oe,selectAll:Me,selectNodeBackward:Te,selectNodeForward:Ee,selectParentNode:Ae,selectTextblockEnd:Pe,selectTextblockStart:De,setContent:Ie,setMark:Ze,setMeta:Qe,setNode:tn,setNodeSelection:en,setTextSelection:nn,sinkListItem:rn,splitBlock:sn,splitListItem:an,toggleList:un,toggleMark:hn,toggleNode:dn,toggleWrap:pn,undoInputRule:fn,unsetAllMarks:mn,unsetMark:gn,updateAttributes:yn,wrapIn:bn,wrapInList:vn});const xn=Tt.create({name:"commands",addCommands(){return{...wn}}}),_n=Tt.create({name:"editable",addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kn=Tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new r.Sy({key:new r.H$("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Sn=Tt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first((({commands:t})=>[()=>t.undoInputRule(),()=>t.command((({tr:e})=>{const{selection:n,doc:i}=e,{empty:o,$anchor:s}=n,{pos:a,parent:l}=s,c=s.parent.isTextblock?e.doc.resolve(a-1):s,u=c.parent.type.spec.isolating,h=s.pos-s.parentOffset,d=u&&1===c.parent.childCount?h===s.pos:r.Y1.atStart(i).from===a;return!(!(o&&d&&l.type.isTextblock)||l.textContent.length)&&t.clearNodes()})),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()])),e=()=>this.editor.commands.first((({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()])),n=()=>this.editor.commands.first((({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()])),i={Enter:n,"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...i},s={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return te()||me()?s:o},addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("clearDocument"),appendTransaction:(t,e,n)=>{const i=t.some((t=>t.docChanged))&&!e.doc.eq(n.doc);if(!i)return;const{empty:o,from:s,to:a}=e.selection,l=r.Y1.atStart(e.doc).from,c=r.Y1.atEnd(e.doc).to,u=s===l&&a===c;if(o||!u)return;const h=0===n.doc.textBetween(0,n.doc.content.size," "," ").length;if(!h)return;const d=n.tr,p=Y({state:n,transaction:d}),{commands:f}=new J({editor:this.editor,state:p});return f.clearNodes(),d.steps.length?d:void 0}})]}}),Cn=Tt.create({name:"tabindex",addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var On=Object.freeze({__proto__:null,ClipboardTextSerializer:Pt,Commands:xn,Editable:_n,FocusEvents:kn,Keymap:Sn,Tabindex:Cn});const Mn='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}';function Tn(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class En extends G{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Tn(Mn,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=rt(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"===typeof t?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(e)))});this.view.updateState(n)}createExtensionManager(){const t=this.options.enableCoreExtensions?Object.values(On):[],e=[...t,...this.options.extensions].filter((t=>["extension","node","mark"].includes(null===t||void 0===t?void 0:t.type)));this.extensionManager=new St(e,this)}createCommandManager(){this.commandManager=new J({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=Ne(this.options.content,this.schema,this.options.parseOptions),e=Qt(t,this.options.autofocus);this.view=new i.tk(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:r.yy.create({doc:t,selection:e||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach((t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)})):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),i=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return $e(this.state,t)}isActive(t,e){const n="string"===typeof t?t:null,r="string"===typeof t?e:t;return Ue(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ze(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e="\n\n",textSerializers:n={}}=t||{};return He(this.state.doc,{blockSeparator:e,textSerializers:{...At(this.schema),...n}})}get isEmpty(){return Ye(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}}function An(t){return new ft({find:t.find,handler:({state:e,range:n,match:r})=>{const i=it(t.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const r=a.search(/\S/),l=n.from+a.indexOf(s),c=l+s.length,u=Ve(n.from,n.to,e.doc).filter((e=>{const n=e.mark.type.excluded;return n.find((n=>n===t.type&&n!==e.mark.type))})).filter((t=>t.to>l));if(u.length)return null;c<n.to&&o.delete(c,n.to),l>n.from&&o.delete(n.from+r,l);const h=n.from+r+s.length;o.addMark(n.from+r,h,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function Pn(t){return new ft({find:t.find,handler:({state:e,range:n,match:r})=>{const i=it(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const t=r[0].lastIndexOf(r[1]);let e=s+t;e>a?e=a:a=e+r[1].length;const n=r[0][r[0].length-1];o.insertText(n,s+r[0].length-1),o.replaceWith(e,a,l)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a));o.scrollIntoView()}})}function Dn(t){return new ft({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=it(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Nn(t){return new ft({find:t.find,handler:({state:e,range:n,match:r})=>{let i=t.replace,o=n.from;const s=n.to;if(r[1]){const t=r[0].lastIndexOf(r[1]);i+=r[0].slice(t+r[1].length),o+=t;const e=o-s;e>0&&(i=r[0].slice(t-e,t)+i,o=s)}e.tr.insertText(i,o,s)}})}function In(t){return new ft({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=it(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from),c=l.blockRange(),u=c&&(0,a.nd)(c,t.type,o);if(!u)return null;if(s.wrap(c,u),t.keepMarks&&t.editor){const{selection:n,storedMarks:r}=e,{splittableMarks:i}=t.editor.extensionManager,o=r||n.$to.parentOffset&&n.$from.marks();if(o){const t=o.filter((t=>i.includes(t.type.name)));s.ensureMarks(t)}}if(t.keepAttributes){const e="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";i().updateAttributes(e,o).run()}const h=s.doc.resolve(n.from-1).nodeBefore;h&&h.type===t.type&&(0,a.Mn)(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,h))&&s.join(n.from-1)}})}class Ln{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=it(X(this,"addOptions",{name:this.name}))),this.storage=it(X(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ln(t)}configure(t={}){const e=this.extend();return e.options=Mt(this.options,t),e.storage=it(X(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Ln(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=it(X(e,"addOptions",{name:e.name})),e.storage=it(X(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:n}=t.state,r=t.state.selection.$from,i=r.pos===r.end();if(i){const i=r.marks(),o=!!i.find((t=>(null===t||void 0===t?void 0:t.type.name)===e.name));if(!o)return!1;const s=i.find((t=>(null===t||void 0===t?void 0:t.type.name)===e.name));return s&&n.removeStoredMark(s),n.insertText(" ",r.pos),t.view.dispatch(n),!0}return!1}}class Bn{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=it(X(this,"addOptions",{name:this.name}))),this.storage=it(X(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Bn(t)}configure(t={}){const e=this.extend();return e.options=Mt(this.options,t),e.storage=it(X(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Bn(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=it(X(e,"addOptions",{name:e.name})),e.storage=it(X(e,"addStorage",{name:e.name,options:e.options})),e}}function Rn(t){return new vt({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=it(t.getAttributes,void 0,r,i);if(!1===o||null===o)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const r=l.search(/\S/),i=n.from+l.indexOf(a),u=i+a.length,h=Ve(n.from,n.to,e.doc).filter((e=>{const n=e.mark.type.excluded;return n.find((n=>n===t.type&&n!==e.mark.type))})).filter((t=>t.to>i));if(h.length)return null;u<n.to&&s.delete(u,n.to),i>n.from&&s.delete(n.from+r,i),c=n.from+r+a.length,s.addMark(n.from+r,c,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}},601:function(t,e,n){"use strict";n.d(e,{ZP:function(){return s}});var r=n(2752);const i=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,o=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,s=r.vc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,r.Cf)({find:i,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:o,type:this.type})]}})},6761:function(t,e,n){"use strict";n.d(e,{ZP:function(){return o}});var r=n(2752);const i=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,o=r.NB.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",(0,r.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,r.x2)({find:i,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}})},7605:function(t,e,n){"use strict";n.d(e,{ZP:function(){return o}});var r=n(2752);const i=/^\s*(\[([( |x])?\])\s$/,o=r.NB.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>"true"===t.getAttribute("data-checked"),renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",(0,r.P1)(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("change",(e=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:i}=e.target;r.isEditable&&"function"===typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:t})=>{const e=n(),r=t.doc.nodeAt(e);return t.setNodeMarkup(e,void 0,{...null===r||void 0===r?void 0:r.attrs,checked:i}),!0})).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,i)||(a.checked=!a.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([t,e])=>{i.setAttribute(t,e)})),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,s),i.append(o,l),Object.entries(e).forEach((([t,e])=>{i.setAttribute(t,e)})),{dom:i,contentDOM:l,update:t=>t.type===this.type&&(i.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[(0,r.S0)({find:i,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}})},3354:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2752);const i=r.NB.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",(0,r.P1)(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}})},214:function(t,e,n){"use strict";n.d(e,{ZP:function(){return O}});var r=n(2752);const i=t=>(0,r.DS)({find:/--$/,replace:null!==t&&void 0!==t?t:""}),o=t=>(0,r.DS)({find:/\.\.\.$/,replace:null!==t&&void 0!==t?t:""}),s=t=>(0,r.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:null!==t&&void 0!==t?t:""}),a=t=>(0,r.DS)({find:/"$/,replace:null!==t&&void 0!==t?t:""}),l=t=>(0,r.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:null!==t&&void 0!==t?t:""}),c=t=>(0,r.DS)({find:/'$/,replace:null!==t&&void 0!==t?t:""}),u=t=>(0,r.DS)({find:/<-$/,replace:null!==t&&void 0!==t?t:""}),h=t=>(0,r.DS)({find:/->$/,replace:null!==t&&void 0!==t?t:""}),d=t=>(0,r.DS)({find:/\(c\)$/,replace:null!==t&&void 0!==t?t:""}),p=t=>(0,r.DS)({find:/\(tm\)$/,replace:null!==t&&void 0!==t?t:""}),f=t=>(0,r.DS)({find:/\(sm\)$/,replace:null!==t&&void 0!==t?t:""}),m=t=>(0,r.DS)({find:/\(r\)$/,replace:null!==t&&void 0!==t?t:""}),g=t=>(0,r.DS)({find:/(?:^|\s)(1\/2)$/,replace:null!==t&&void 0!==t?t:""}),y=t=>(0,r.DS)({find:/\+\/-$/,replace:null!==t&&void 0!==t?t:""}),b=t=>(0,r.DS)({find:/!=$/,replace:null!==t&&void 0!==t?t:""}),v=t=>(0,r.DS)({find:/<<$/,replace:null!==t&&void 0!==t?t:""}),w=t=>(0,r.DS)({find:/>>$/,replace:null!==t&&void 0!==t?t:""}),x=t=>(0,r.DS)({find:/\d+\s?([*x])\s?\d+$/,replace:null!==t&&void 0!==t?t:""}),_=t=>(0,r.DS)({find:/\^2$/,replace:null!==t&&void 0!==t?t:""}),k=t=>(0,r.DS)({find:/\^3$/,replace:null!==t&&void 0!==t?t:""}),S=t=>(0,r.DS)({find:/(?:^|\s)(1\/4)$/,replace:null!==t&&void 0!==t?t:""}),C=t=>(0,r.DS)({find:/(?:^|\s)(3\/4)$/,replace:null!==t&&void 0!==t?t:""}),O=r.hj.create({name:"typography",addInputRules(){const t=[];return!1!==this.options.emDash&&t.push(i(this.options.emDash)),!1!==this.options.ellipsis&&t.push(o(this.options.ellipsis)),!1!==this.options.openDoubleQuote&&t.push(s(this.options.openDoubleQuote)),!1!==this.options.closeDoubleQuote&&t.push(a(this.options.closeDoubleQuote)),!1!==this.options.openSingleQuote&&t.push(l(this.options.openSingleQuote)),!1!==this.options.closeSingleQuote&&t.push(c(this.options.closeSingleQuote)),!1!==this.options.leftArrow&&t.push(u(this.options.leftArrow)),!1!==this.options.rightArrow&&t.push(h(this.options.rightArrow)),!1!==this.options.copyright&&t.push(d(this.options.copyright)),!1!==this.options.trademark&&t.push(p(this.options.trademark)),!1!==this.options.servicemark&&t.push(f(this.options.servicemark)),!1!==this.options.registeredTrademark&&t.push(m(this.options.registeredTrademark)),!1!==this.options.oneHalf&&t.push(g(this.options.oneHalf)),!1!==this.options.plusMinus&&t.push(y(this.options.plusMinus)),!1!==this.options.notEqual&&t.push(b(this.options.notEqual)),!1!==this.options.laquo&&t.push(v(this.options.laquo)),!1!==this.options.raquo&&t.push(w(this.options.raquo)),!1!==this.options.multiplication&&t.push(x(this.options.multiplication)),!1!==this.options.superscriptTwo&&t.push(_(this.options.superscriptTwo)),!1!==this.options.superscriptThree&&t.push(k(this.options.superscriptThree)),!1!==this.options.oneQuarter&&t.push(S(this.options.oneQuarter)),!1!==this.options.threeQuarters&&t.push(C(this.options.threeQuarters)),t}})},4929:function(t,e,n){"use strict";n.d(e,{Z:function(){return At}});var r=n(2752);const i=/^\s*>\s$/,o=r.NB.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,r.S0)({find:i,type:this.type})]}}),s=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,a=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,l=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,c=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,u=r.vc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,r.Cf)({find:s,type:this.type}),(0,r.Cf)({find:l,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:a,type:this.type}),(0,r.K9)({find:c,type:this.type})]}}),h=r.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",(0,r.P1)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),d=r.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>{const e=t.hasAttribute("style");return!!e&&{}}}]},renderHTML({HTMLAttributes:t}){return["span",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=(0,r.Jo)(t,this.type),i=Object.entries(n).some((([,t])=>!!t));return!!i||e.unsetMark(this.name)}}}}),p=/^\s*([-+*])\s$/,f=r.NB.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(h.name,this.editor.getAttributes(d.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=(0,r.S0)({find:p,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,r.S0)({find:p,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(d.name),editor:this.editor})),[t]}}),m=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,g=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,y=r.vc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,r.Cf)({find:m,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:g,type:this.type})]}});var b=n(2376);const v=/^```([a-z]+)?[\s\n]$/,w=/^~~~([a-z]+)?[\s\n]$/,x=r.NB.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,r=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]],i=r.filter((t=>t.startsWith(n))).map((t=>t.replace(n,""))),o=i[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",(0,r.P1)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!o||!s)&&t.chain().command((({tr:t})=>(t.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2;if(!s)return!1;const a=i.after();if(void 0===a)return!1;const l=r.nodeAt(a);return!l&&t.commands.exitCode()}}},addInputRules(){return[(0,r.zK)({find:v,type:this.type,getAttributes:t=>({language:t[1]})}),(0,r.zK)({find:w,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new b.Sy({key:new b.H$("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=null===i||void 0===i?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(b.Bs.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),_=r.NB.create({name:"doc",topNode:!0,content:"block+"});var k=n(6560);function S(t={}){return new b.Sy({view(e){return new C(e,t)}})}class C{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent;if(n){let n=e.nodeBefore,r=e.nodeAfter;if(n||r){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(e){let i=e.getBoundingClientRect(),o=n?i.bottom:i.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let r,i,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!o||o==document.body&&"static"==getComputedStyle(o).position)r=-pageXOffset,i=-pageYOffset;else{let t=o.getBoundingClientRect();r=t.left-o.scrollLeft,i=t.top-o.scrollTop}this.element.style.left=t.left-r+"px",this.element.style.top=t.top-i+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,e,t):r;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=(0,k.nj)(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const O=r.hj.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[S(this.options)]}});var M=n(2696),T=n(2806),E=n(4348);class A extends b.Y1{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return A.valid(n)?new A(n):b.Y1.near(n)}content(){return T.p2.empty}eq(t){return t instanceof A&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new A(t.resolve(e.pos))}getBookmark(){return new P(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!D(t)||!N(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&A.valid(t))return t;let r=t.pos,i=null;for(let n=t.depth;;n--){let o=t.node(n);if(e>0?t.indexAfter(n)<o.childCount:t.index(n)>0){i=o.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let s=t.doc.resolve(r);if(A.valid(s))return s}for(;;){let o=e>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!b.qv.isSelectable(i)){t=t.doc.resolve(r+i.nodeSize*e),n=!1;continue t}break}i=o,r+=e;let s=t.doc.resolve(r);if(A.valid(s))return s}return null}}}A.prototype.visible=!1,A.findFrom=A.findGapCursorFrom,b.Y1.jsonID("gapcursor",A);class P{constructor(t){this.pos=t}map(t){return new P(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return A.valid(e)?new A(e):b.Y1.near(e)}}function D(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function N(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function I(){return new b.Sy({props:{decorations:z,createSelectionBetween(t,e,n){return e.pos==n.pos&&A.valid(n)?new A(n):null},handleClick:R,handleKeyDown:L,handleDOMEvents:{beforeinput:j}}})}const L=(0,M.$)({ArrowLeft:B("horiz",-1),ArrowRight:B("horiz",1),ArrowUp:B("vert",-1),ArrowDown:B("vert",1)});function B(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,i){let o=t.selection,s=e>0?o.$to:o.$from,a=o.empty;if(o instanceof b.Bs){if(!i.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}let l=A.findGapCursorFrom(s,e,a);return!!l&&(r&&r(t.tr.setSelection(new A(l))),!0)}}function R(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!A.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&b.qv.isSelectable(t.state.doc.nodeAt(i.inside)))&&(t.dispatch(t.state.tr.setSelection(new A(r))),!0)}function j(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof A))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=T.HY.empty;for(let s=r.length-1;s>=0;s--)i=T.HY.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new T.p2(i,0,0));return o.setSelection(b.Bs.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function z(t){if(!(t.selection instanceof A))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",E.EH.create(t.doc,[E.p.widget(t.selection.head,e,{key:"gapcursor"})])}const H=r.hj.create({name:"gapCursor",addProseMirrorPlugins(){return[I()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=(0,r.nU)((0,r.Nl)(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),F=r.NB.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",(0,r.P1)(this.options.HTMLAttributes,t)]},renderText(){return"\n"},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:i}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:s}=r.extensionManager,a=i||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&o){const e=a.filter((t=>s.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),$=r.NB.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){const n=this.options.levels.includes(t.attrs.level),i=n?t.attrs.level:this.options.levels[0];return[`h${i}`,(0,r.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>(0,r.zK)({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}});var V=200,W=function(){};W.prototype.append=function(t){return t.length?(t=W.from(t),!this.length&&t||t.length<V&&this.leafAppend(t)||this.length<V&&t.leafPrepend(this)||this.appendInner(t)):this},W.prototype.prepend=function(t){return t.length?W.from(t).append(this):this},W.prototype.appendInner=function(t){return new U(this,t)},W.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?W.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},W.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},W.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},W.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},W.from=function(t){return t instanceof W?t:t&&t.length?new q(t):W.empty};var q=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=V)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=V)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(W);W.empty=new q([]);var U=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(W),K=W;const Y=500;class J{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){let t=this.items.get(i-1);if(t.selection){--i;break}}e&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=t.tr,l=[],c=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),r=n.maps.length),r--,void c.push(t);if(n){c.push(new X(t.map));let e,i=t.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new X(e,void 0,void 0,l.length+c.length))),r--,e&&n.appendMap(e,r)}else a.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,s=new J(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(t,e,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<t.steps.length;c++){let n,l=t.steps[c].invert(t.docs[c]),u=new X(t.mapping.maps[c],l,e);(n=a&&a.merge(u))&&(u=n,c?i.pop():s=s.slice(0,s.length-1)),i.push(u),e&&(o++,e=void 0),r||(a=u)}let l=o-n.depth;return l>Q&&(s=G(s,l),o-=l),new J(s.append(i),o)}remapping(t,e){let n=new k.vs;return this.items.forEach(((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new J(this.items.append(t.map((t=>new X(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((t=>{t.selection&&s--}),r);let a=e;this.items.forEach((e=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(i.slice(a+1,r));c&&s++,n.push(new X(l,o,c))}else n.push(new X(l))}),r);let l=[];for(let h=e;h<o;h++)l.push(new X(i.maps[h]));let c=this.items.slice(0,r).append(l).append(n),u=new J(c,s);return u.emptyItemCount()>Y&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach(((o,s)=>{if(s>=t)r.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),s=t&&t.getMap();if(n--,s&&e.appendMap(s,n),t){let a=o.selection&&o.selection.map(e.slice(n));a&&i++;let l,c=new X(s.invert(),t,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new J(K.from(r.reverse()),i)}}function G(t,e){let n;return t.forEach(((t,r)=>{if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}J.empty=new J(K.empty,0);class X{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new X(e.getMap().invert(),e,this.selection)}}}class Z{constructor(t,e,n,r,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}const Q=20;function tt(t,e,n,r){let i,o=n.getMeta(lt);if(o)return o.historyState;n.getMeta(ct)&&(t=new Z(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(lt))return s.getMeta(lt).redo?new Z(t.done.addTransform(n,void 0,r,at(e)),t.undone,nt(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new Z(t.done,t.undone.addTransform(n,void 0,r,at(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Z(t.done.rebased(n,i),t.undone.rebased(n,i),rt(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Z(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),rt(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let i=n.getMeta("composition"),o=0==t.prevTime||!s&&t.prevComposition!=i&&(t.prevTime<(n.time||0)-r.newGroupDelay||!et(n,t.prevRanges)),a=s?rt(t.prevRanges,n.mapping):nt(n.mapping.maps[n.steps.length-1]);return new Z(t.done.addTransform(n,o?e.selection.getBookmark():void 0,r,at(e)),J.empty,a,n.time,null==i?t.prevComposition:i)}}function et(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}function nt(t){let e=[];return t.forEach(((t,n,r,i)=>e.push(r,i))),e}function rt(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function it(t,e,n,r){let i=at(e),o=lt.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new Z(r?l:s.remaining,r?s.remaining:l,null,0,-1);n(s.transform.setSelection(a).setMeta(lt,{redo:r,historyState:c}).scrollIntoView())}let ot=!1,st=null;function at(t){let e=t.plugins;if(st!=e){ot=!1,st=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){ot=!0;break}}return ot}const lt=new b.H$("history"),ct=new b.H$("closeHistory");function ut(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new b.Sy({key:lt,state:{init(){return new Z(J.empty,J.empty,null,0,-1)},apply(e,n,r){return tt(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?ht:"historyRedo"==n?dt:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}const ht=(t,e)=>{let n=lt.getState(t);return!(!n||0==n.done.eventCount)&&(e&&it(n,t,e,!1),!0)},dt=(t,e)=>{let n=lt.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&it(n,t,e,!0),!0)};const pt=r.hj.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ht(t,e),redo:()=>({state:t,dispatch:e})=>dt(t,e)}},addProseMirrorPlugins(){return[ut(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ft=r.NB.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",(0,r.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return 0===n.parentOffset?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command((({tr:t,dispatch:e})=>{var n;if(e){const{$to:e}=t.selection,r=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(b.Bs.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(b.qv.create(t.doc,e.pos)):t.setSelection(b.Bs.create(t.doc,e.pos));else{const i=null===(n=e.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(t.insert(r,i),t.setSelection(b.Bs.create(t.doc,r+1)))}t.scrollIntoView()}return!0})).run()}}},addInputRules(){return[(0,r.x2)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),mt=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,gt=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,yt=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,bt=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,vt=r.vc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,r.Cf)({find:mt,type:this.type}),(0,r.Cf)({find:yt,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:gt,type:this.type}),(0,r.K9)({find:bt,type:this.type})]}}),wt=r.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",(0,r.P1)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xt=r.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",(0,r.P1)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_t=r.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>{const e=t.hasAttribute("style");return!!e&&{}}}]},renderHTML({HTMLAttributes:t}){return["span",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=(0,r.Jo)(t,this.type),i=Object.entries(n).some((([,t])=>!!t));return!!i||e.unsetMark(this.name)}}}}),kt=/^(\d+)\.\s$/,St=r.NB.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",(0,r.P1)(this.options.HTMLAttributes,n),0]:["ol",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(xt.name,this.editor.getAttributes(_t.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=(0,r.S0)({find:kt,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,r.S0)({find:kt,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(_t.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),Ct=r.NB.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ot=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Mt=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Tt=r.vc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}]},renderHTML({HTMLAttributes:t}){return["s",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return(0,r.eE)()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[(0,r.Cf)({find:Ot,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:Mt,type:this.type})]}}),Et=r.NB.create({name:"text",group:"inline"}),At=r.hj.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,a,l,c,h,d,p,m,g,b,v,w,k;const S=[];return!1!==this.options.blockquote&&S.push(o.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bold&&S.push(u.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&S.push(f.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&S.push(y.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&S.push(x.configure(null===(i=this.options)||void 0===i?void 0:i.codeBlock)),!1!==this.options.document&&S.push(_.configure(null===(s=this.options)||void 0===s?void 0:s.document)),!1!==this.options.dropcursor&&S.push(O.configure(null===(a=this.options)||void 0===a?void 0:a.dropcursor)),!1!==this.options.gapcursor&&S.push(H.configure(null===(l=this.options)||void 0===l?void 0:l.gapcursor)),!1!==this.options.hardBreak&&S.push(F.configure(null===(c=this.options)||void 0===c?void 0:c.hardBreak)),!1!==this.options.heading&&S.push($.configure(null===(h=this.options)||void 0===h?void 0:h.heading)),!1!==this.options.history&&S.push(pt.configure(null===(d=this.options)||void 0===d?void 0:d.history)),!1!==this.options.horizontalRule&&S.push(ft.configure(null===(p=this.options)||void 0===p?void 0:p.horizontalRule)),!1!==this.options.italic&&S.push(vt.configure(null===(m=this.options)||void 0===m?void 0:m.italic)),!1!==this.options.listItem&&S.push(wt.configure(null===(g=this.options)||void 0===g?void 0:g.listItem)),!1!==this.options.orderedList&&S.push(St.configure(null===(b=this.options)||void 0===b?void 0:b.orderedList)),!1!==this.options.paragraph&&S.push(Ct.configure(null===(v=this.options)||void 0===v?void 0:v.paragraph)),!1!==this.options.strike&&S.push(Tt.configure(null===(w=this.options)||void 0===w?void 0:w.strike)),!1!==this.options.text&&S.push(Et.configure(null===(k=this.options)||void 0===k?void 0:k.text)),S}})},544:function(t,e,n){"use strict";n.d(e,{ML:function(){return kn},kg:function(){return Sn}});var r=n(2752),i=n(2376);function o(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function s(t){var e=o(t).Element;return t instanceof e||t instanceof Element}function a(t){var e=o(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function l(t){if("undefined"===typeof ShadowRoot)return!1;var e=o(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var c=Math.max,u=Math.min,h=Math.round;function d(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function p(){return!/^((?!chrome|android).)*safari/i.test(d())}function f(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,l=1;e&&a(t)&&(i=t.offsetWidth>0&&h(r.width)/t.offsetWidth||1,l=t.offsetHeight>0&&h(r.height)/t.offsetHeight||1);var c=s(t)?o(t):window,u=c.visualViewport,d=!p()&&n,f=(r.left+(d&&u?u.offsetLeft:0))/i,m=(r.top+(d&&u?u.offsetTop:0))/l,g=r.width/i,y=r.height/l;return{width:g,height:y,top:m,right:f+g,bottom:m+y,left:f,x:f,y:m}}function m(t){var e=o(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function g(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function y(t){return t!==o(t)&&a(t)?g(t):m(t)}function b(t){return t?(t.nodeName||"").toLowerCase():null}function v(t){return((s(t)?t.ownerDocument:t.document)||window.document).documentElement}function w(t){return f(v(t)).left+m(t).scrollLeft}function x(t){return o(t).getComputedStyle(t)}function _(t){var e=x(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function k(t){var e=t.getBoundingClientRect(),n=h(e.width)/t.offsetWidth||1,r=h(e.height)/t.offsetHeight||1;return 1!==n||1!==r}function S(t,e,n){void 0===n&&(n=!1);var r=a(e),i=a(e)&&k(e),o=v(e),s=f(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==b(e)||_(o))&&(l=y(e)),a(e)?(c=f(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=w(o))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function C(t){var e=f(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function O(t){return"html"===b(t)?t:t.assignedSlot||t.parentNode||(l(t)?t.host:null)||v(t)}function M(t){return["html","body","#document"].indexOf(b(t))>=0?t.ownerDocument.body:a(t)&&_(t)?t:M(O(t))}function T(t,e){var n;void 0===e&&(e=[]);var r=M(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),s=o(r),a=i?[s].concat(s.visualViewport||[],_(r)?r:[]):r,l=e.concat(a);return i?l:l.concat(T(O(a)))}function E(t){return["table","td","th"].indexOf(b(t))>=0}function A(t){return a(t)&&"fixed"!==x(t).position?t.offsetParent:null}function P(t){var e=/firefox/i.test(d()),n=/Trident/i.test(d());if(n&&a(t)){var r=x(t);if("fixed"===r.position)return null}var i=O(t);l(i)&&(i=i.host);while(a(i)&&["html","body"].indexOf(b(i))<0){var o=x(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function D(t){var e=o(t),n=A(t);while(n&&E(n)&&"static"===x(n).position)n=A(n);return n&&("html"===b(n)||"body"===b(n)&&"static"===x(n).position)?e:n||P(t)||e}var N="top",I="bottom",L="right",B="left",R="auto",j=[N,I,L,B],z="start",H="end",F="clippingParents",$="viewport",V="popper",W="reference",q=j.reduce((function(t,e){return t.concat([e+"-"+z,e+"-"+H])}),[]),U=[].concat(j,[R]).reduce((function(t,e){return t.concat([e,e+"-"+z,e+"-"+H])}),[]),K="beforeRead",Y="read",J="afterRead",G="beforeMain",X="main",Z="afterMain",Q="beforeWrite",tt="write",et="afterWrite",nt=[K,Y,J,G,X,Z,Q,tt,et];function rt(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name);var o=[].concat(t.requires||[],t.requiresIfExists||[]);o.forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function it(t){var e=rt(t);return nt.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function ot(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function st(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var at={placement:"bottom",modifiers:[],strategy:"absolute"};function lt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function ct(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?at:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},at,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],l=!1,c={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;h(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:s(t)?T(t):t.contextElement?T(t.contextElement):[],popper:T(e)};var l=it(st([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(t){return t.enabled})),u(),c.update()},forceUpdate:function(){if(!l){var t=i.elements,e=t.reference,n=t.popper;if(lt(e,n)){i.rects={reference:S(e,D(n),"fixed"===i.options.strategy),popper:C(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,a=o.options,u=void 0===a?{}:a,h=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:h,instance:c})||i)}else i.reset=!1,r=-1}}},update:ot((function(){return new Promise((function(t){c.forceUpdate(),t(i)}))})),destroy:function(){h(),l=!0}};if(!lt(t,e))return c;function u(){i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var s=o({state:i,name:e,instance:c,options:r}),l=function(){};a.push(s||l)}}))}function h(){a.forEach((function(t){return t()})),a=[]}return c.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),c}}var ut={passive:!0};function ht(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=void 0===i||i,a=r.resize,l=void 0===a||a,c=o(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach((function(t){t.addEventListener("scroll",n.update,ut)})),l&&c.addEventListener("resize",n.update,ut),function(){s&&u.forEach((function(t){t.removeEventListener("scroll",n.update,ut)})),l&&c.removeEventListener("resize",n.update,ut)}}var dt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ht,data:{}};function pt(t){return t.split("-")[0]}function ft(t){return t.split("-")[1]}function mt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gt(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?pt(i):null,s=i?ft(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case N:e={x:a,y:n.y-r.height};break;case I:e={x:a,y:n.y+n.height};break;case L:e={x:n.x+n.width,y:l};break;case B:e={x:n.x-r.width,y:l};break;default:e={x:n.x,y:n.y}}var c=o?mt(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case z:e[c]=e[c]-(n[u]/2-r[u]/2);break;case H:e[c]=e[c]+(n[u]/2-r[u]/2);break;default:}}return e}function yt(t){var e=t.state,n=t.name;e.modifiersData[n]=gt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var bt={name:"popperOffsets",enabled:!0,phase:"read",fn:yt,data:{}},vt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wt(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:h(n*i)/i||0,y:h(r*i)/i||0}}function xt(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,h=t.roundOffsets,d=t.isFixed,p=a.x,f=void 0===p?0:p,m=a.y,g=void 0===m?0:m,y="function"===typeof h?h({x:f,y:g}):{x:f,y:g};f=y.x,g=y.y;var b=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),_=B,k=N,S=window;if(u){var C=D(n),O="clientHeight",M="clientWidth";if(C===o(n)&&(C=v(n),"static"!==x(C).position&&"absolute"===l&&(O="scrollHeight",M="scrollWidth")),i===N||(i===B||i===L)&&s===H){k=I;var T=d&&C===S&&S.visualViewport?S.visualViewport.height:C[O];g-=T-r.height,g*=c?1:-1}if(i===B||(i===N||i===I)&&s===H){_=L;var E=d&&C===S&&S.visualViewport?S.visualViewport.width:C[M];f-=E-r.width,f*=c?1:-1}}var A,P=Object.assign({position:l},u&&vt),R=!0===h?wt({x:f,y:g},o(n)):{x:f,y:g};return f=R.x,g=R.y,c?Object.assign({},P,(A={},A[k]=w?"0":"",A[_]=b?"0":"",A.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",A)):Object.assign({},P,(e={},e[k]=w?g+"px":"",e[_]=b?f+"px":"",e.transform="",e))}function _t(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:pt(e.placement),variation:ft(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,xt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,xt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var kt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_t,data:{}};function St(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];a(i)&&b(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))}function Ct(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),s=o.reduce((function(t,e){return t[e]="",t}),{});a(r)&&b(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}}var Ot={name:"applyStyles",enabled:!0,phase:"write",fn:St,effect:Ct,requires:["computeStyles"]};function Mt(t,e,n){var r=pt(t),i=[B,N].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[B,L].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Tt(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,s=U.reduce((function(t,n){return t[n]=Mt(n,e.rects,o),t}),{}),a=s[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var Et={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tt},At={left:"right",right:"left",bottom:"top",top:"bottom"};function Pt(t){return t.replace(/left|right|bottom|top/g,(function(t){return At[t]}))}var Dt={start:"end",end:"start"};function Nt(t){return t.replace(/start|end/g,(function(t){return Dt[t]}))}function It(t,e){var n=o(t),r=v(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;var u=p();(u||!u&&"fixed"===e)&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l+w(t),y:c}}function Lt(t){var e,n=v(t),r=m(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=c(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=c(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+w(t),l=-r.scrollTop;return"rtl"===x(i||n).direction&&(a+=c(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Bt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&l(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jt(t,e){var n=f(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zt(t,e,n){return e===$?Rt(It(t,n)):s(e)?jt(e,n):Rt(Lt(v(t)))}function Ht(t){var e=T(O(t)),n=["absolute","fixed"].indexOf(x(t).position)>=0,r=n&&a(t)?D(t):t;return s(r)?e.filter((function(t){return s(t)&&Bt(t,r)&&"body"!==b(t)})):[]}function Ft(t,e,n,r){var i="clippingParents"===e?Ht(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(e,n){var i=zt(t,n,r);return e.top=c(i.top,e.top),e.right=u(i.right,e.right),e.bottom=u(i.bottom,e.bottom),e.left=c(i.left,e.left),e}),zt(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $t(){return{top:0,right:0,bottom:0,left:0}}function Vt(t){return Object.assign({},$t(),t)}function Wt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function qt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,a=void 0===o?t.strategy:o,l=n.boundary,c=void 0===l?F:l,u=n.rootBoundary,h=void 0===u?$:u,d=n.elementContext,p=void 0===d?V:d,m=n.altBoundary,g=void 0!==m&&m,y=n.padding,b=void 0===y?0:y,w=Vt("number"!==typeof b?b:Wt(b,j)),x=p===V?W:V,_=t.rects.popper,k=t.elements[g?x:p],S=Ft(s(k)?k:k.contextElement||v(t.elements.popper),c,h,a),C=f(t.elements.reference),O=gt({reference:C,element:_,strategy:"absolute",placement:i}),M=Rt(Object.assign({},_,O)),T=p===V?M:C,E={top:S.top-T.top+w.top,bottom:T.bottom-S.bottom+w.bottom,left:S.left-T.left+w.left,right:T.right-S.right+w.right},A=t.modifiersData.offset;if(p===V&&A){var P=A[i];Object.keys(E).forEach((function(t){var e=[L,I].indexOf(t)>=0?1:-1,n=[N,I].indexOf(t)>=0?"y":"x";E[t]+=P[n]*e}))}return E}function Ut(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?U:l,u=ft(r),h=u?a?q:q.filter((function(t){return ft(t)===u})):j,d=h.filter((function(t){return c.indexOf(t)>=0}));0===d.length&&(d=h);var p=d.reduce((function(e,n){return e[n]=qt(t,{placement:n,boundary:i,rootBoundary:o,padding:s})[pt(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function Kt(t){if(pt(t)===R)return[];var e=Pt(t);return[Nt(t),e,Nt(e)]}function Yt(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=e.options.placement,y=pt(g),b=y===g,v=l||(b||!f?[Pt(g)]:Kt(g)),w=[g].concat(v).reduce((function(t,n){return t.concat(pt(n)===R?Ut(e,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=e.rects.reference,_=e.rects.popper,k=new Map,S=!0,C=w[0],O=0;O<w.length;O++){var M=w[O],T=pt(M),E=ft(M)===z,A=[N,I].indexOf(T)>=0,P=A?"width":"height",D=qt(e,{placement:M,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),j=A?E?L:B:E?I:N;x[P]>_[P]&&(j=Pt(j));var H=Pt(j),F=[];if(o&&F.push(D[T]<=0),a&&F.push(D[j]<=0,D[H]<=0),F.every((function(t){return t}))){C=M,S=!1;break}k.set(M,F)}if(S)for(var $=f?3:1,V=function(t){var e=w.find((function(e){var n=k.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},W=$;W>0;W--){var q=V(W);if("break"===q)break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}var Jt={name:"flip",enabled:!0,phase:"main",fn:Yt,requiresIfExists:["offset"],data:{_skip:!1}};function Gt(t){return"x"===t?"y":"x"}function Xt(t,e,n){return c(t,u(e,n))}function Zt(t,e,n){var r=Xt(t,e,n);return r>n?n:r}function Qt(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,y=void 0===g?0:g,b=qt(e,{boundary:l,rootBoundary:h,padding:p,altBoundary:d}),v=pt(e.placement),w=ft(e.placement),x=!w,_=mt(v),k=Gt(_),S=e.modifiersData.popperOffsets,O=e.rects.reference,M=e.rects.popper,T="function"===typeof y?y(Object.assign({},e.rects,{placement:e.placement})):y,E="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(S){if(o){var R,j="y"===_?N:B,H="y"===_?I:L,F="y"===_?"height":"width",$=S[_],V=$+b[j],W=$-b[H],q=m?-M[F]/2:0,U=w===z?O[F]:M[F],K=w===z?-M[F]:-O[F],Y=e.elements.arrow,J=m&&Y?C(Y):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$t(),X=G[j],Z=G[H],Q=Xt(0,O[F],J[F]),tt=x?O[F]/2-q-Q-X-E.mainAxis:U-Q-X-E.mainAxis,et=x?-O[F]/2+q+Q+Z+E.mainAxis:K+Q+Z+E.mainAxis,nt=e.elements.arrow&&D(e.elements.arrow),rt=nt?"y"===_?nt.clientTop||0:nt.clientLeft||0:0,it=null!=(R=null==A?void 0:A[_])?R:0,ot=$+tt-it-rt,st=$+et-it,at=Xt(m?u(V,ot):V,$,m?c(W,st):W);S[_]=at,P[_]=at-$}if(a){var lt,ct="x"===_?N:B,ut="x"===_?I:L,ht=S[k],dt="y"===k?"height":"width",gt=ht+b[ct],yt=ht-b[ut],bt=-1!==[N,B].indexOf(v),vt=null!=(lt=null==A?void 0:A[k])?lt:0,wt=bt?gt:ht-O[dt]-M[dt]-vt+E.altAxis,xt=bt?ht+O[dt]+M[dt]-vt-E.altAxis:yt,_t=m&&bt?Zt(wt,ht,xt):Xt(m?wt:gt,ht,m?xt:yt);S[k]=_t,P[k]=_t-ht}e.modifiersData[r]=P}}var te={name:"preventOverflow",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"]},ee=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,Vt("number"!==typeof t?t:Wt(t,j))};function ne(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=pt(n.placement),l=mt(a),c=[B,L].indexOf(a)>=0,u=c?"height":"width";if(o&&s){var h=ee(i.padding,n),d=C(o),p="y"===l?N:B,f="y"===l?I:L,m=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],g=s[l]-n.rects.reference[l],y=D(o),b=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,v=m/2-g/2,w=h[p],x=b-d[u]-h[f],_=b/2-d[u]/2+v,k=Xt(w,_,x),S=l;n.modifiersData[r]=(e={},e[S]=k,e.centerOffset=k-_,e)}}function re(t){var e=t.state,n=t.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=e.elements.popper.querySelector(i),i))&&Bt(e.elements.popper,i)&&(e.elements.arrow=i)}var ie={name:"arrow",enabled:!0,phase:"main",fn:ne,effect:re,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oe(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function se(t){return[N,L,I,B].some((function(e){return t[e]>=0}))}function ae(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=qt(e,{elementContext:"reference"}),a=qt(e,{altBoundary:!0}),l=oe(s,r),c=oe(a,i,o),u=se(l),h=se(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var le={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ae},ce=[dt,bt,kt,Ot,Et,Jt,te,ie,le],ue=ct({defaultModifiers:ce}),he="tippy-box",de="tippy-content",pe="tippy-backdrop",fe="tippy-arrow",me="tippy-svg-arrow",ge={passive:!0,capture:!0},ye=function(){return document.body};function be(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function ve(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function we(t,e){return"function"===typeof t?t.apply(void 0,e):t}function xe(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function _e(t){return t.split(/\s+/).filter(Boolean)}function ke(t){return[].concat(t)}function Se(t,e){-1===t.indexOf(e)&&t.push(e)}function Ce(t){return t.filter((function(e,n){return t.indexOf(e)===n}))}function Oe(t){return t.split("-")[0]}function Me(t){return[].slice.call(t)}function Te(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function Ee(){return document.createElement("div")}function Ae(t){return["Element","Fragment"].some((function(e){return ve(t,e)}))}function Pe(t){return ve(t,"NodeList")}function De(t){return ve(t,"MouseEvent")}function Ne(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Ie(t){return Ae(t)?[t]:Pe(t)?Me(t):Array.isArray(t)?t:Me(document.querySelectorAll(t))}function Le(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function Be(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function Re(t){var e,n=ke(t),r=n[0];return null!=r&&null!=(e=r.ownerDocument)&&e.body?r.ownerDocument:document}function je(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,i=t.popperState,o=t.props,s=o.interactiveBorder,a=Oe(i.placement),l=i.modifiersData.offset;if(!l)return!0;var c="bottom"===a?l.top.y:0,u="top"===a?l.bottom.y:0,h="right"===a?l.left.x:0,d="left"===a?l.right.x:0,p=e.top-r+c>s,f=r-e.bottom-u>s,m=e.left-n+h>s,g=n-e.right-d>s;return p||f||m||g}))}function ze(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function He(t,e){var n=e;while(n){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Fe={isTouch:!1},$e=0;function Ve(){Fe.isTouch||(Fe.isTouch=!0,window.performance&&document.addEventListener("mousemove",We))}function We(){var t=performance.now();t-$e<20&&(Fe.isTouch=!1,document.removeEventListener("mousemove",We)),$e=t}function qe(){var t=document.activeElement;if(Ne(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Ue(){document.addEventListener("touchstart",Ve,ge),window.addEventListener("blur",qe)}var Ke="undefined"!==typeof window&&"undefined"!==typeof document,Ye=!!Ke&&!!window.msCrypto;var Je={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ge={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Xe=Object.assign({appendTo:ye,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Je,Ge),Ze=Object.keys(Xe),Qe=function(t){var e=Object.keys(t);e.forEach((function(e){Xe[e]=t[e]}))};function tn(t){var e=t.plugins||[],n=e.reduce((function(e,n){var r,i=n.name,o=n.defaultValue;i&&(e[i]=void 0!==t[i]?t[i]:null!=(r=Xe[i])?r:o);return e}),{});return Object.assign({},t,n)}function en(t,e){var n=e?Object.keys(tn(Object.assign({},Xe,{plugins:e}))):Ze,r=n.reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(i){e[n]=r}return e}),{});return r}function nn(t,e){var n=Object.assign({},e,{content:we(e.content,[t])},e.ignoreAttributes?{}:en(t,e.plugins));return n.aria=Object.assign({},Xe.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var rn=function(){return"innerHTML"};function on(t,e){t[rn()]=e}function sn(t){var e=Ee();return!0===t?e.className=fe:(e.className=me,Ae(t)?e.appendChild(t):on(e,t)),e}function an(t,e){Ae(e.content)?(on(t,""),t.appendChild(e.content)):"function"!==typeof e.content&&(e.allowHTML?on(t,e.content):t.textContent=e.content)}function ln(t){var e=t.firstElementChild,n=Me(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(de)})),arrow:n.find((function(t){return t.classList.contains(fe)||t.classList.contains(me)})),backdrop:n.find((function(t){return t.classList.contains(pe)}))}}function cn(t){var e=Ee(),n=Ee();n.className=he,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ee();function i(n,r){var i=ln(e),o=i.box,s=i.content,a=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"===typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||an(s,t.props),r.arrow?a?n.arrow!==r.arrow&&(o.removeChild(a),o.appendChild(sn(r.arrow))):o.appendChild(sn(r.arrow)):a&&o.removeChild(a)}return r.className=de,r.setAttribute("data-state","hidden"),an(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props),{popper:e,onUpdate:i}}cn.$$tippy=!0;var un=1,hn=[],dn=[];function pn(t,e){var n,r,i,o,s,a,l,c=nn(t,Object.assign({},Xe,tn(Te(e)))),u=!1,h=!1,d=!1,p=!1,f=[],m=xe(G,c.interactiveDebounce),g=un++,y=null,b=Ce(c.plugins),v={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:g,reference:t,popper:Ee(),popperInstance:y,props:c,state:v,plugins:b,clearDelayTimeouts:lt,setProps:ct,setContent:ut,show:ht,hide:dt,hideWithInteractivity:pt,enable:st,disable:at,unmount:ft,destroy:mt};if(!c.render)return w;var x=c.render(w),_=x.popper,k=x.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+w.id,w.popper=_,t._tippy=w,_._tippy=w;var S=b.map((function(t){return t.fn(w)})),C=t.hasAttribute("aria-expanded");return K(),B(),N(),I("onCreate",[w]),c.showOnCreate&&it(),_.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),_.addEventListener("mouseleave",(function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",m)})),w;function O(){var t=w.props.touch;return Array.isArray(t)?t:[t,0]}function M(){return"hold"===O()[0]}function T(){var t;return!(null==(t=w.props.render)||!t.$$tippy)}function E(){return l||t}function A(){var t=E().parentNode;return t?Re(t):document}function P(){return ln(_)}function D(t){return w.state.isMounted&&!w.state.isVisible||Fe.isTouch||o&&"focus"===o.type?0:be(w.props.delay,t?0:1,Xe.delay)}function N(t){void 0===t&&(t=!1),_.style.pointerEvents=w.props.interactive&&!t?"":"none",_.style.zIndex=""+w.props.zIndex}function I(t,e,n){var r;(void 0===n&&(n=!0),S.forEach((function(n){n[t]&&n[t].apply(n,e)})),n)&&(r=w.props)[t].apply(r,e)}function L(){var e=w.props.aria;if(e.content){var n="aria-"+e.content,r=_.id,i=ke(w.props.triggerTarget||t);i.forEach((function(t){var e=t.getAttribute(n);if(w.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var i=e&&e.replace(r,"").trim();i?t.setAttribute(n,i):t.removeAttribute(n)}}))}}function B(){if(!C&&w.props.aria.expanded){var e=ke(w.props.triggerTarget||t);e.forEach((function(t){w.props.interactive?t.setAttribute("aria-expanded",w.state.isVisible&&t===E()?"true":"false"):t.removeAttribute("aria-expanded")}))}}function R(){A().removeEventListener("mousemove",m),hn=hn.filter((function(t){return t!==m}))}function j(e){if(!Fe.isTouch||!d&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!w.props.interactive||!He(_,n)){if(ke(w.props.triggerTarget||t).some((function(t){return He(t,n)}))){if(Fe.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[w,e]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),h=!0,setTimeout((function(){h=!1})),w.state.isMounted||$())}}}function z(){d=!0}function H(){d=!1}function F(){var t=A();t.addEventListener("mousedown",j,!0),t.addEventListener("touchend",j,ge),t.addEventListener("touchstart",H,ge),t.addEventListener("touchmove",z,ge)}function $(){var t=A();t.removeEventListener("mousedown",j,!0),t.removeEventListener("touchend",j,ge),t.removeEventListener("touchstart",H,ge),t.removeEventListener("touchmove",z,ge)}function V(t,e){q(t,(function(){!w.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&e()}))}function W(t,e){q(t,e)}function q(t,e){var n=P().box;function r(t){t.target===n&&(ze(n,"remove",r),e())}if(0===t)return e();ze(n,"remove",s),ze(n,"add",r),s=r}function U(e,n,r){void 0===r&&(r=!1);var i=ke(w.props.triggerTarget||t);i.forEach((function(t){t.addEventListener(e,n,r),f.push({node:t,eventType:e,handler:n,options:r})}))}function K(){M()&&(U("touchstart",J,{passive:!0}),U("touchend",X,{passive:!0})),_e(w.props.trigger).forEach((function(t){if("manual"!==t)switch(U(t,J),t){case"mouseenter":U("mouseleave",X);break;case"focus":U(Ye?"focusout":"blur",Z);break;case"focusin":U("focusout",Z);break}}))}function Y(){f.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)})),f=[]}function J(t){var e,n=!1;if(w.state.isEnabled&&!Q(t)&&!h){var r="focus"===(null==(e=o)?void 0:e.type);o=t,l=t.currentTarget,B(),!w.state.isVisible&&De(t)&&hn.forEach((function(e){return e(t)})),"click"===t.type&&(w.props.trigger.indexOf("mouseenter")<0||u)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:it(t),"click"===t.type&&(u=!n),n&&!r&&ot(t)}}function G(t){var e=t.target,n=E().contains(e)||_.contains(e);if("mousemove"!==t.type||!n){var r=rt().concat(_).map((function(t){var e,n=t._tippy,r=null==(e=n.popperInstance)?void 0:e.state;return r?{popperRect:t.getBoundingClientRect(),popperState:r,props:c}:null})).filter(Boolean);je(r,t)&&(R(),ot(t))}}function X(t){var e=Q(t)||w.props.trigger.indexOf("click")>=0&&u;e||(w.props.interactive?w.hideWithInteractivity(t):ot(t))}function Z(t){w.props.trigger.indexOf("focusin")<0&&t.target!==E()||w.props.interactive&&t.relatedTarget&&_.contains(t.relatedTarget)||ot(t)}function Q(t){return!!Fe.isTouch&&M()!==t.type.indexOf("touch")>=0}function tt(){et();var e=w.props,n=e.popperOptions,r=e.placement,i=e.offset,o=e.getReferenceClientRect,s=e.moveTransition,l=T()?ln(_).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||E()}:t,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(T()){var n=P(),r=n.box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?r.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?r.setAttribute("data-"+t,""):r.removeAttribute("data-"+t)})),e.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},u];T()&&l&&h.push({name:"arrow",options:{element:l,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),w.popperInstance=ue(c,_,Object.assign({},n,{placement:r,onFirstUpdate:a,modifiers:h}))}function et(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function nt(){var t,e=w.props.appendTo,n=E();t=w.props.interactive&&e===ye||"parent"===e?n.parentNode:we(e,[n]),t.contains(_)||t.appendChild(_),w.state.isMounted=!0,tt()}function rt(){return Me(_.querySelectorAll("[data-tippy-root]"))}function it(t){w.clearDelayTimeouts(),t&&I("onTrigger",[w,t]),F();var e=D(!0),r=O(),i=r[0],o=r[1];Fe.isTouch&&"hold"===i&&o&&(e=o),e?n=setTimeout((function(){w.show()}),e):w.show()}function ot(t){if(w.clearDelayTimeouts(),I("onUntrigger",[w,t]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&u)){var e=D(!1);e?r=setTimeout((function(){w.state.isVisible&&w.hide()}),e):i=requestAnimationFrame((function(){w.hide()}))}}else $()}function st(){w.state.isEnabled=!0}function at(){w.hide(),w.state.isEnabled=!1}function lt(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)}function ct(e){if(!w.state.isDestroyed){I("onBeforeUpdate",[w,e]),Y();var n=w.props,r=nn(t,Object.assign({},n,Te(e),{ignoreAttributes:!0}));w.props=r,K(),n.interactiveDebounce!==r.interactiveDebounce&&(R(),m=xe(G,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?ke(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded"),B(),N(),k&&k(n,r),w.popperInstance&&(tt(),rt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),I("onAfterUpdate",[w,e])}}function ut(t){w.setProps({content:t})}function ht(){var t=w.state.isVisible,e=w.state.isDestroyed,n=!w.state.isEnabled,r=Fe.isTouch&&!w.props.touch,i=be(w.props.duration,0,Xe.duration);if(!(t||e||n||r)&&!E().hasAttribute("disabled")&&(I("onShow",[w],!1),!1!==w.props.onShow(w))){if(w.state.isVisible=!0,T()&&(_.style.visibility="visible"),N(),F(),w.state.isMounted||(_.style.transition="none"),T()){var o=P(),s=o.box,l=o.content;Le([s,l],0)}a=function(){var t;if(w.state.isVisible&&!p){if(p=!0,_.offsetHeight,_.style.transition=w.props.moveTransition,T()&&w.props.animation){var e=P(),n=e.box,r=e.content;Le([n,r],i),Be([n,r],"visible")}L(),B(),Se(dn,w),null==(t=w.popperInstance)||t.forceUpdate(),I("onMount",[w]),w.props.animation&&T()&&W(i,(function(){w.state.isShown=!0,I("onShown",[w])}))}},nt()}}function dt(){var t=!w.state.isVisible,e=w.state.isDestroyed,n=!w.state.isEnabled,r=be(w.props.duration,1,Xe.duration);if(!(t||e||n)&&(I("onHide",[w],!1),!1!==w.props.onHide(w))){if(w.state.isVisible=!1,w.state.isShown=!1,p=!1,u=!1,T()&&(_.style.visibility="hidden"),R(),$(),N(!0),T()){var i=P(),o=i.box,s=i.content;w.props.animation&&(Le([o,s],r),Be([o,s],"hidden"))}L(),B(),w.props.animation?T()&&V(r,w.unmount):w.unmount()}}function pt(t){A().addEventListener("mousemove",m),Se(hn,m),m(t)}function ft(){w.state.isVisible&&w.hide(),w.state.isMounted&&(et(),rt().forEach((function(t){t._tippy.unmount()})),_.parentNode&&_.parentNode.removeChild(_),dn=dn.filter((function(t){return t!==w})),w.state.isMounted=!1,I("onHidden",[w]))}function mt(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),Y(),delete t._tippy,w.state.isDestroyed=!0,I("onDestroy",[w]))}}function fn(t,e){void 0===e&&(e={});var n=Xe.plugins.concat(e.plugins||[]);Ue();var r=Object.assign({},e,{plugins:n}),i=Ie(t),o=i.reduce((function(t,e){var n=e&&pn(e,r);return n&&t.push(n),t}),[]);return Ae(t)?o[0]:o}fn.defaultProps=Xe,fn.setDefaultProps=Qe,fn.currentInput=Fe;Object.assign({},Ot,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});fn.setDefaultProps({render:cn});var mn=fn;class gn{constructor({editor:t,element:e,view:n,tippyOptions:i={},updateDelay:o=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:t,state:e,from:n,to:i})=>{const{doc:o,selection:s}=e,{empty:a}=s,l=!o.textBetween(n,i).length&&(0,r.xh)(e.selection),c=this.element.contains(document.activeElement),u=t.hasFocus()||c;return!(!u||a||l||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null===t||void 0===t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.handleDebouncedUpdate=(t,e)=>{const n=!(null===e||void 0===e?void 0:e.selection.eq(t.state.selection)),r=!(null===e||void 0===e?void 0:e.doc.eq(t.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout((()=>{this.updateHandler(t,n,r,e)}),this.updateDelay))},this.updateHandler=(t,e,n,i)=>{var o,s,a;const{state:l,composing:c}=t,{selection:u}=l,h=!e&&!n;if(c||h)return;this.createTooltip();const{ranges:d}=u,p=Math.min(...d.map((t=>t.$from.pos))),f=Math.max(...d.map((t=>t.$to.pos))),m=null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,view:t,state:l,oldState:i,from:p,to:f});m?(null===(s=this.tippy)||void 0===s||s.setProps({getReferenceClientRect:(null===(a=this.tippyOptions)||void 0===a?void 0:a.getReferenceClientRect)||(()=>{if((0,r.EG)(l.selection)){let e=t.nodeDOM(p);const n=e.dataset.nodeViewWrapper?e:e.querySelector("[data-node-view-wrapper]");if(n&&(e=n.firstChild),e)return e.getBoundingClientRect()}return(0,r.pr)(t,p,f)})}),this.show()):this.hide()},this.editor=t,this.element=e,this.view=n,this.updateDelay=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=mn(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){const{state:n}=t,r=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(t,e);const i=!(null===e||void 0===e?void 0:e.selection.eq(t.state.selection)),o=!(null===e||void 0===e?void 0:e.doc.eq(t.state.doc));this.updateHandler(t,i,o,e)}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,e;(null===(t=this.tippy)||void 0===t?void 0:t.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const yn=t=>new i.Sy({key:"string"===typeof t.pluginKey?new i.H$(t.pluginKey):t.pluginKey,view:e=>new gn({view:e,...t})});r.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[yn({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var bn=n(6252),vn=n(2262);class wn{constructor({editor:t,element:e,view:n,tippyOptions:r={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:t,state:e})=>{const{selection:n}=e,{$anchor:r,empty:i}=n,o=1===r.depth,s=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!(t.hasFocus()&&i&&o&&s&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null===t||void 0===t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.editor=t,this.element=e,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=mn(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){var n,i,o;const{state:s}=t,{doc:a,selection:l}=s,{from:c,to:u}=l,h=e&&e.doc.eq(a)&&e.selection.eq(l);if(h)return;this.createTooltip();const d=null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:t,state:s,oldState:e});d?(null===(i=this.tippy)||void 0===i||i.setProps({getReferenceClientRect:(null===(o=this.tippyOptions)||void 0===o?void 0:o.getReferenceClientRect)||(()=>(0,r.pr)(t,c,u))}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,e;(null===(t=this.tippy)||void 0===t?void 0:t.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const xn=t=>new i.Sy({key:"string"===typeof t.pluginKey?new i.H$(t.pluginKey):t.pluginKey,view:e=>new wn({view:e,...t})});r.hj.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[xn({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),(0,bn.aZ)({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=(0,vn.iH)(null);return(0,bn.bv)((()=>{const{updateDelay:e,editor:r,pluginKey:i,shouldShow:o,tippyOptions:s}=t;r.registerPlugin(yn({updateDelay:e,editor:r,element:n.value,pluginKey:i,shouldShow:o,tippyOptions:s}))})),(0,bn.Jd)((()=>{const{pluginKey:e,editor:n}=t;n.unregisterPlugin(e)})),()=>{var t;return(0,bn.h)("div",{ref:n},null===(t=e.default)||void 0===t?void 0:t.call(e))}}});function _n(t){return(0,vn.ZM)(((e,n)=>({get(){return e(),t},set(e){t=e,requestAnimationFrame((()=>{requestAnimationFrame((()=>{n()}))}))}})))}class kn extends r.ML{constructor(t={}){return super(t),this.vueRenderers=(0,vn.qj)(new Map),this.contentComponent=null,this.reactiveState=_n(this.view.state),this.reactiveExtensionStorage=_n(this.extensionStorage),this.on("transaction",(()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage})),(0,vn.Xl)(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,e){super.registerPlugin(t,e),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const Sn=(0,bn.aZ)({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=(0,vn.iH)(),n=(0,bn.FN)();return(0,bn.m0)((()=>{const r=t.editor;r&&r.options.element&&e.value&&(0,bn.Y3)((()=>{if(!e.value||!r.options.element.firstChild)return;const t=(0,vn.SU)(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:t}),r.createNodeViews()}))})),(0,bn.Jd)((()=>{const e=t.editor;if(!e)return;if(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})})),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach((e=>{const n=(0,bn.h)(bn.lR,{to:e.teleportElement,key:e.id},(0,bn.h)(e.component,{ref:e.id,...e.props}));t.push(n)})),(0,bn.h)("div",{ref:t=>{this.rootEl=t}},...t)}});(0,bn.aZ)({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=(0,vn.iH)(null);return(0,bn.bv)((()=>{const{pluginKey:e,editor:r,tippyOptions:i,shouldShow:o}=t;r.registerPlugin(xn({pluginKey:e,editor:r,element:n.value,tippyOptions:i,shouldShow:o}))})),(0,bn.Jd)((()=>{const{pluginKey:e,editor:n}=t;n.unregisterPlugin(e)})),()=>{var t;return(0,bn.h)("div",{ref:n},null===(t=e.default)||void 0===t?void 0:t.call(e))}}}),(0,bn.aZ)({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return(0,bn.h)(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),(0,bn.aZ)({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return(0,bn.h)(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t))}});Boolean},5357:function(t,e,n){"use strict";n.d(e,{mA:function(){return a}});var r=n(2262);var i;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const o="undefined"!==typeof window;Object.prototype.toString,o&&(null==(i=null==window?void 0:window.navigator)?void 0:i.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function s(t){return!!(0,r.nZ)()&&((0,r.EB)(t),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function a(t,e){const n=(0,r.iH)(null==e?void 0:e.initialValue),i=t.subscribe({next:t=>n.value=t,error:null==e?void 0:e.onError});return s((()=>{i.unsubscribe()})),n}},1767:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(6252),i=n(2262),o=n(3577);const s=["data-index"],a=(0,r.aZ)({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{},maxColumns:{},keyMapper:{type:Function,default:(t,e,n,r)=>r}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const n=t,{columnWidth:a,items:l,gap:c,rtl:u,ssrColumns:h,scrollContainer:d,minColumns:p,maxColumns:f,keyMapper:m}=(0,i.BK)(n),g=(0,i.iH)([]),y=(0,i.iH)();function b(t,e,n,r){const i=v(n);return r+e+i<=t?b(t,e,n+1,r+e+i):n}function v(t){const e=Array.isArray(a.value)?a.value:[a.value];return e[t%e.length]}function w(){const t=b(y.value.getBoundingClientRect().width,c.value,0,-c.value),e=_(x(t));return e>0?e:1}function x(t){const e=null==f?void 0:f.value;return e&&t>e?e:t}function _(t){const e=null==p?void 0:p.value;return e&&t<e?e:t}function k(t){return[...new Array(t)].map((()=>[]))}if(h.value>0){const t=k(h.value);l.value.forEach(((e,n)=>t[n%h.value].push(n))),g.value=t}async function S(t){if(t>=l.value.length)return;await(0,r.Y3)();const e=[...y.value.children];u.value&&e.reverse();const n=e.reduce(((t,e)=>e.getBoundingClientRect().height<t.getBoundingClientRect().height?e:t));g.value[+n.dataset.index].push(t),await S(t+1)}async function C(t=!1){if(g.value.length===w()&&!t)return void e("redrawSkip");g.value=k(w());const n=null==d?void 0:d.value,r=n?n.scrollTop:window.scrollY;await S(0),n?n.scrollBy({top:r-n.scrollTop}):window.scrollTo({top:r}),e("redraw")}const O=typeof ResizeObserver>"u"?void 0:new ResizeObserver((()=>C()));return(0,r.bv)((()=>{C(),null==O||O.observe(y.value)})),(0,r.Jd)((()=>null==O?void 0:O.unobserve(y.value))),(0,r.YP)([l,u],(()=>C(!0))),(0,r.YP)([a,c,p,f],(()=>C())),(t,e)=>((0,r.wg)(),(0,r.iD)("div",{ref_key:"wall",ref:y,class:"masonry-wall",style:(0,o.j5)({display:"flex",gap:`${(0,i.SU)(c)}px`})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value,((e,n)=>((0,r.wg)(),(0,r.iD)("div",{key:n,class:"masonry-column","data-index":n,style:(0,o.j5)({display:"flex","flex-basis":`${v(n)}px`,"flex-direction":"column","flex-grow":1,gap:`${(0,i.SU)(c)}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:(0,i.SU)(m)((0,i.SU)(l)[e],n,s,e),class:"masonry-item"},[(0,r.WI)(t.$slots,"default",{item:(0,i.SU)(l)[e],column:n,row:s,index:e},(()=>[(0,r.Uk)((0,o.zw)((0,i.SU)(l)[e]),1)]))])))),128))],12,s)))),128))],4))}}),l=(()=>{const t=a;return t.install=e=>{e.component("MasonryWall",t)},t})()},5750:function(t,e,n){"use strict";
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function r(t){return t+.5|0}n.d(e,{vn:function(){return Dr},ZL:function(){return ts},uw:function(){return Rs},kL:function(){return Vo},De:function(){return cs},f$:function(){return Fs},Dx:function(){return ds},u:function(){return Ds}});const i=(t,e,n)=>Math.max(Math.min(t,n),e);function o(t){return i(r(2.55*t),0,255)}function s(t){return i(r(255*t),0,255)}function a(t){return i(r(t/2.55)/100,0,1)}function l(t){return i(r(100*t),0,100)}const c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},u=[..."0123456789ABCDEF"],h=t=>u[15&t],d=t=>u[(240&t)>>4]+u[15&t],p=t=>(240&t)>>4===(15&t),f=t=>p(t.r)&&p(t.g)&&p(t.b)&&p(t.a);function m(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*c[t[1]],g:255&17*c[t[2]],b:255&17*c[t[3]],a:5===n?17*c[t[4]]:255}:7!==n&&9!==n||(e={r:c[t[1]]<<4|c[t[2]],g:c[t[3]]<<4|c[t[4]],b:c[t[5]]<<4|c[t[6]],a:9===n?c[t[7]]<<4|c[t[8]]:255})),e}const g=(t,e)=>t<255?e(t):"";function y(t){var e=f(t)?h:d;return t?"#"+e(t.r)+e(t.g)+e(t.b)+g(t.a,e):void 0}const b=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v(t,e,n){const r=e*Math.min(n,1-n),i=(e,i=(e+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function w(t,e,n){const r=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function x(t,e,n){const r=v(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function _(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function k(t){const e=255,n=t.r/e,r=t.g/e,i=t.b/e,o=Math.max(n,r,i),s=Math.min(n,r,i),a=(o+s)/2;let l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=_(n,r,i,u,o),l=60*l+.5),[0|l,c||0,a]}function S(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(s)}function C(t,e,n){return S(v,t,e,n)}function O(t,e,n){return S(x,t,e,n)}function M(t,e,n){return S(w,t,e,n)}function T(t){return(t%360+360)%360}function E(t){const e=b.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?o(+e[5]):s(+e[5]));const i=T(+e[2]),a=+e[3]/100,l=+e[4]/100;return n="hwb"===e[1]?O(i,a,l):"hsv"===e[1]?M(i,a,l):C(i,a,l),{r:n[0],g:n[1],b:n[2],a:r}}function A(t,e){var n=k(t);n[0]=T(n[0]+e),n=C(n),t.r=n[0],t.g=n[1],t.b=n[2]}function P(t){if(!t)return;const e=k(t),n=e[0],r=l(e[1]),i=l(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${a(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const D={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},N={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function I(){const t={},e=Object.keys(N),n=Object.keys(D);let r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,D[o]);o=parseInt(N[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}let L;function B(t){L||(L=I(),L.transparent=[0,0,0,0]);const e=L[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const R=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function j(t){const e=R.exec(t);let n,r,s,a=255;if(e){if(e[7]!==n){const t=+e[7];a=e[8]?o(t):i(255*t,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?o(n):i(n,0,255)),r=255&(e[4]?o(r):i(r,0,255)),s=255&(e[6]?o(s):i(s,0,255)),{r:n,g:r,b:s,a:a}}}function z(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const H=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,F=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $(t,e,n){const r=F(a(t.r)),i=F(a(t.g)),o=F(a(t.b));return{r:s(H(r+n*(F(a(e.r))-r))),g:s(H(i+n*(F(a(e.g))-i))),b:s(H(o+n*(F(a(e.b))-o))),a:t.a+n*(e.a-t.a)}}function V(t,e,n){if(t){let r=k(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=C(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function W(t,e){return t?Object.assign(e||{},t):t}function q(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=s(t[3]))):(e=W(t,{r:0,g:0,b:0,a:1}),e.a=s(e.a)),e}function U(t){return"r"===t.charAt(0)?j(t):E(t)}class K{constructor(t){if(t instanceof K)return t;const e=typeof t;let n;"object"===e?n=q(t):"string"===e&&(n=m(t)||B(t)||U(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=W(this._rgb);return t&&(t.a=a(t.a)),t}set rgb(t){this._rgb=q(t)}rgbString(){return this._valid?z(this._rgb):void 0}hexString(){return this._valid?y(this._rgb):void 0}hslString(){return this._valid?P(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,s=2*o-1,a=n.a-r.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=$(this._rgb,t._rgb,e)),this}clone(){return new K(this.rgb)}alpha(t){return this._rgb.a=s(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=r(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return V(this._rgb,2,t),this}darken(t){return V(this._rgb,2,-t),this}saturate(t){return V(this._rgb,1,t),this}desaturate(t){return V(this._rgb,1,-t),this}rotate(t){return A(this._rgb,t),this}}
/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
function Y(){}const J=(()=>{let t=0;return()=>t++})();function G(t){return null===t||"undefined"===typeof t}function X(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Z(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Q(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function tt(t,e){return Q(t)?t:e}function et(t,e){return"undefined"===typeof t?e:t}const nt=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rt(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function it(t,e,n,r){let i,o,s;if(X(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Z(t))for(s=Object.keys(t),o=s.length,i=0;i<o;i++)e.call(n,t[s[i]],s[i])}function ot(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function st(t){if(X(t))return t.map(st);if(Z(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=st(t[n[i]]);return e}return t}function at(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function lt(t,e,n,r){if(!at(t))return;const i=e[t],o=n[t];Z(i)&&Z(o)?ct(i,o,r):e[t]=st(o)}function ct(t,e,n){const r=X(e)?e:[e],i=r.length;if(!Z(t))return t;n=n||{};const o=n.merger||lt;let s;for(let a=0;a<i;++a){if(s=r[a],!Z(s))continue;const e=Object.keys(s);for(let r=0,i=e.length;r<i;++r)o(e[r],t,s,n)}return t}function ut(t,e){return ct(t,e,{merger:ht})}function ht(t,e,n){if(!at(t))return;const r=e[t],i=n[t];Z(r)&&Z(i)?ut(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=st(i))}const dt={"":t=>t,x:t=>t.x,y:t=>t.y};function pt(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function ft(t){const e=pt(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}function mt(t,e){const n=dt[e]||(dt[e]=ft(e));return n(t)}function gt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yt=t=>"undefined"!==typeof t,bt=t=>"function"===typeof t,vt=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function wt(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const xt=Math.PI,_t=2*xt,kt=Number.POSITIVE_INFINITY,St=xt/180,Ct=xt/2,Ot=xt/4,Mt=2*xt/3,Tt=Math.log10,Et=Math.sign;function At(t,e,n){return Math.abs(t-e)<n}function Pt(t){const e=Math.round(t);t=At(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Tt(t))),r=t/n,i=r<=1?1:r<=2?2:r<=5?5:10;return i*n}function Dt(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}function Nt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function It(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Lt(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Bt(t){return t*(xt/180)}function Rt(t){return t*(180/xt)}function jt(t){if(!Q(t))return;let e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function zt(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*xt&&(o+=_t),{angle:o,distance:i}}function Ht(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ft(t){return(t%_t+_t)%_t}function $t(t,e,n,r){const i=Ft(t),o=Ft(e),s=Ft(n),a=Ft(o-i),l=Ft(s-i),c=Ft(i-o),u=Ft(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function Vt(t,e,n){return Math.max(e,Math.min(n,t))}function Wt(t){return Vt(t,-32768,32767)}function qt(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Ut(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;while(i-o>1)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Kt=(t,e,n,r)=>Ut(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Yt=(t,e,n)=>Ut(t,n,(r=>t[r][e]>=n));function Jt(t,e,n){let r=0,i=t.length;while(r<i&&t[r]<e)r++;while(i>r&&t[i-1]>n)i--;return r>0||i<t.length?t.slice(r,i):t}const Gt=["push","pop","shift","splice","unshift"];function Xt(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Gt.forEach((e=>{const n="_onData"+gt(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const i=r.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[n]&&t[n](...e)})),i}})})))}function Zt(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Gt.forEach((e=>{delete t[e]})),delete t._chartjs)}function Qt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const te=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function ee(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,te.call(window,(()=>{r=!1,t.apply(e,n)})))}}function ne(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const re=t=>"start"===t?"left":"end"===t?"right":"center",ie=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,oe=(t,e,n,r)=>{const i=r?"left":"right";return t===i?n:"center"===t?(e+n)/2:e};const se=t=>0===t||1===t,ae=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*_t/n),le=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*_t/n)+1,ce={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Ct),easeOutSine:t=>Math.sin(t*Ct),easeInOutSine:t=>-.5*(Math.cos(xt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>se(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>se(t)?t:ae(t,.075,.3),easeOutElastic:t=>se(t)?t:le(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return se(t)?t:t<.5?.5*ae(2*t,e,n):.5+.5*le(2*t-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ce.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*ce.easeInBounce(2*t):.5*ce.easeOutBounce(2*t-1)+.5};function ue(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function he(t){return ue(t)?t:new K(t)}function de(t){return ue(t)?t:new K(t).saturate(.5).darken(.1).hexString()}const pe=["x","y","borderWidth","radius","tension"],fe=["color","borderColor","backgroundColor"];function me(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:fe},numbers:{type:"number",properties:pe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})}function ge(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ye=new Map;function be(t,e){e=e||{};const n=t+JSON.stringify(e);let r=ye.get(n);return r||(r=new Intl.NumberFormat(t,e),ye.set(n,r)),r}function ve(t,e,n){return be(e,n).format(t)}const we={values(t){return X(t)?t:""+t},numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=xe(t,n)}const s=Tt(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ve(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Tt(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?we.numeric.call(this,t,e,n):""}};function xe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var _e={formatters:we};function ke(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_e.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}const Se=Object.create(null),Ce=Object.create(null);function Oe(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function Me(t,e,n){return"string"===typeof e?ct(Oe(t,e),n):ct(Oe(t,""),e)}class Te{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>de(e.backgroundColor),this.hoverBorderColor=(t,e)=>de(e.borderColor),this.hoverColor=(t,e)=>de(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Me(this,t,e)}get(t){return Oe(this,t)}describe(t,e){return Me(Ce,t,e)}override(t,e){return Me(Se,t,e)}route(t,e,n,r){const i=Oe(this,t),o=Oe(this,n),s="_"+e;Object.defineProperties(i,{[s]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[r];return Z(t)?Object.assign({},e,t):et(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Ee=new Te({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[me,ge,ke]);function Ae(t){return!t||G(t.size)||G(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Pe(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function De(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Ne(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ie(t,e,n,r){Le(t,e,n,r,null)}function Le(t,e,n,r,i){let o,s,a,l,c,u,h,d;const p=e.pointStyle,f=e.rotation,m=e.radius;let g=(f||0)*St;if(p&&"object"===typeof p&&(o=p.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,m,0,0,_t):t.arc(n,r,m,0,_t),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Mt,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Mt,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,s=Math.cos(g+Ot)*l,h=Math.cos(g+Ot)*(i?i/2-c:l),a=Math.sin(g+Ot)*l,d=Math.sin(g+Ot)*(i?i/2-c:l),t.arc(n-h,r-a,c,g-xt,g-Ct),t.arc(n+d,r-s,c,g-Ct,g),t.arc(n+h,r+a,c,g,g+Ct),t.arc(n-d,r+s,c,g+Ct,g+xt),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}g+=Ot;case"rectRot":h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+d,r-s),t.lineTo(n+h,r+a),t.lineTo(n-d,r+s),t.closePath();break;case"crossRot":g+=Ot;case"cross":h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s);break;case"star":h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s),g+=Ot,h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s);break;case"line":s=i?i/2:Math.cos(g)*m,a=Math.sin(g)*m,t.moveTo(n-s,r-a),t.lineTo(n+s,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Be(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Re(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function je(t){t.restore()}function ze(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),G(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function He(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function Fe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $e(t,e,n,r,i,o={}){const s=X(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(t.save(),t.font=i.string,ze(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&Fe(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),G(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,r,o.maxWidth)),t.fillText(c,n,r,o.maxWidth),He(t,n,r,c,o),r+=Number(i.lineHeight);t.restore()}function Ve(t,e){const{x:n,y:r,w:i,h:o,radius:s}=e;t.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*xt,xt,!0),t.lineTo(n,r+o-s.bottomLeft),t.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,xt,Ct,!0),t.lineTo(n+i-s.bottomRight,r+o),t.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,Ct,0,!0),t.lineTo(n+i,r+s.topRight),t.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-Ct,!0),t.lineTo(n+s.topLeft,r)}const We=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ue(t,e){const n=(""+t).match(We);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Ke=t=>+t||0;function Ye(t,e){const n={},r=Z(e),i=r?Object.keys(e):e,o=Z(t)?r?n=>et(t[n],t[e[n]]):e=>t[e]:()=>t;for(const s of i)n[s]=Ke(o(s));return n}function Je(t){return Ye(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ge(t){return Ye(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Xe(t){const e=Je(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ze(t,e){t=t||{},e=e||Ee.font;let n=et(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=et(t.style,e.style);r&&!(""+r).match(qe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:et(t.family,e.family),lineHeight:Ue(et(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:et(t.weight,e.weight),string:""};return i.string=Ae(i),i}function Qe(t,e,n,r){let i,o,s,a=!0;for(i=0,o=t.length;i<o;++i)if(s=t[i],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),a=!1),void 0!==n&&X(s)&&(s=s[n%s.length],a=!1),void 0!==s))return r&&!a&&(r.cacheable=!1),s}function tn(t,e,n){const{min:r,max:i}=t,o=nt(e,(i-r)/2),s=(t,e)=>n&&0===t?0:t+e;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function en(t,e){return Object.assign(Object.create(t),e)}function nn(t,e=[""],n,r,i=(()=>t[0])){const o=n||t;"undefined"===typeof r&&(r=vn("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:n=>nn([n,...t],e,o,r)};return new Proxy(s,{deleteProperty(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get(n,r){return ln(n,r,(()=>bn(r,e,t,n)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return wn(t).includes(e)},ownKeys(t){return wn(t)},set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function rn(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:on(t,r),setContext:e=>rn(t,e,n,r),override:i=>rn(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty(e,n){return delete e[n],delete t[n],!0},get(t,e,n){return ln(t,e,(()=>cn(t,e,n)))},getOwnPropertyDescriptor(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,n){return Reflect.has(t,n)},ownKeys(){return Reflect.ownKeys(t)},set(e,n,r){return t[n]=r,delete e[n],!0}})}function on(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:bt(n)?n:()=>n,isIndexable:bt(r)?r:()=>r}}const sn=(t,e)=>t?t+gt(e):e,an=(t,e)=>Z(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function ln(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function cn(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=t;let a=r[e];return bt(a)&&s.isScriptable(e)&&(a=un(e,a,t,n)),X(a)&&a.length&&(a=hn(e,a,t,s.isIndexable)),an(e,a)&&(a=rn(a,i,o&&o[e],s)),a}function un(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||r);return a.delete(t),an(t,l)&&(l=mn(i._scopes,i,t,l)),l}function hn(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if("undefined"!==typeof o.index&&r(t))return e[o.index%e.length];if(Z(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=mn(r,i,t,l);e.push(rn(n,o,s&&s[t],a))}}return e}function dn(t,e,n){return bt(t)?t(e,n):t}const pn=(t,e)=>!0===t?e:"string"===typeof t?mt(e,t):void 0;function fn(t,e,n,r,i){for(const o of e){const e=pn(n,o);if(e){t.add(e);const o=dn(e._fallback,n,i);if("undefined"!==typeof o&&o!==n&&o!==r)return o}else if(!1===e&&"undefined"!==typeof r&&n!==r)return null}return!1}function mn(t,e,n,r){const i=e._rootScopes,o=dn(e._fallback,n,r),s=[...t,...i],a=new Set;a.add(r);let l=gn(a,s,n,o||n,r);return null!==l&&(("undefined"===typeof o||o===n||(l=gn(a,s,o,l,r),null!==l))&&nn(Array.from(a),[""],i,o,(()=>yn(e,n,r))))}function gn(t,e,n,r,i){while(n)n=fn(t,e,n,r,i);return n}function yn(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return X(i)&&Z(n)?n:i||{}}function bn(t,e,n,r){let i;for(const o of e)if(i=vn(sn(o,t),n),"undefined"!==typeof i)return an(t,i)?mn(n,r,t,i):i}function vn(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function wn(t){let e=t._keys;return e||(e=t._keys=xn(t._scopes)),e}function xn(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}Number.EPSILON;function _n(){return"undefined"!==typeof window&&"undefined"!==typeof document}function kn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Sn(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const Cn=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function On(t,e){return Cn(t).getPropertyValue(e)}const Mn=["top","right","bottom","left"];function Tn(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=Mn[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const En=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function An(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let s,a,l=!1;if(En(i,o,t.target))s=i,a=o;else{const t=e.getBoundingClientRect();s=r.clientX-t.left,a=r.clientY-t.top,l=!0}return{x:s,y:a,box:l}}function Pn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Cn(n),o="border-box"===i.boxSizing,s=Tn(i,"padding"),a=Tn(i,"border","width"),{x:l,y:c,box:u}=An(t,n),h=s.left+(u&&a.left),d=s.top+(u&&a.top);let{width:p,height:f}=e;return o&&(p-=s.width+a.width,f-=s.height+a.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((c-d)/f*n.height/r)}}function Dn(t,e,n){let r,i;if(void 0===e||void 0===n){const o=kn(t);if(o){const t=o.getBoundingClientRect(),s=Cn(o),a=Tn(s,"border","width"),l=Tn(s,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,r=Sn(s.maxWidth,o,"clientWidth"),i=Sn(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||kt,maxHeight:i||kt}}const Nn=t=>Math.round(10*t)/10;function In(t,e,n,r){const i=Cn(t),o=Tn(i,"margin"),s=Sn(i.maxWidth,t,"clientWidth")||kt,a=Sn(i.maxHeight,t,"clientHeight")||kt,l=Dn(t,e,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const t=Tn(i,"border","width"),e=Tn(i,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=Nn(Math.min(c,s,l.maxWidth)),u=Nn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Nn(c/2));const h=void 0!==e||void 0!==n;return h&&r&&l.height&&u>l.height&&(u=l.height,c=Nn(Math.floor(u*r))),{width:c,height:u}}function Ln(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||s.height!==i||s.width!==o)&&(t.currentDevicePixelRatio=r,s.height=i,s.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const Bn=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Rn(t,e){const n=On(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const jn=function(t,e){return{x(n){return t+t+e-n},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},zn=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Hn(t,e,n){return t?jn(e,n):zn()}function Fn(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function $n(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}
/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
class Vn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=te.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,s=i.length-1,a=!1;for(;s>=0;--s)o=i[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),a=!0):(i[s]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Wn=new Vn;const qn="transparent",Un={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=he(t||qn),i=r.valid&&he(e||qn);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Kn{constructor(t,e,n,r){const i=e[n];r=Qe([t.to,r,i,t.from]);const o=Qe([t.from,i,r]);this._active=!0,this._fn=t.fn||Un[t.type||typeof o],this._easing=ce[t.easing]||ce.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Qe([t.to,e,r,t.from]),this._from=Qe([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,s=this._to;let a;if(this._active=i!==s&&(o||e<n),!this._active)return this._target[r]=s,void this._notify(!0);e<0?this._target[r]=i:(a=e/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class Yn{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Z(t))return;const e=Object.keys(Ee.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!Z(i))return;const o={};for(const t of e)o[t]=i[t];(X(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,r=Gn(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&Jn(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const c=e[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,s);continue}u.cancel()}h&&h.duration?(i[l]=u=new Kn(h,t,l,c),r.push(u)):t[l]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Wn.add(this._chart,n),!0):void 0}}function Jn(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}function Gn(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}function Xn(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Zn(t,e,n){if(!1===n)return!1;const r=Xn(t,n),i=Xn(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Qn(t){let e,n,r,i;return Z(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}function tr(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function er(t,e,n,r={}){const i=t.keys,o="single"===r.mode;let s,a,l,c;if(null!==e){for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===n){if(r.all)continue;break}c=t.values[l],Q(c)&&(o||0===e||Et(e)===Et(c))&&(e+=c)}return e}}function nr(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}function rr(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function ir(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function or(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function sr(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function ar(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function lr(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=ir(o,s,r),h=e.length;let d;for(let p=0;p<h;++p){const t=e[p],{[l]:n,[c]:o}=t,h=t._stacks||(t._stacks={});d=h[c]=sr(i,u,n),d[a]=o,d._top=ar(d,s,!0,r.type),d._bottom=ar(d,s,!1,r.type);const f=d._visualValues||(d._visualValues={});f[a]=o}}function cr(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function ur(t,e){return en(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hr(t,e,n){return en(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function dr(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const pr=t=>"reset"===t||"none"===t,fr=(t,e)=>e?t:Object.assign({},t),mr=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:tr(n,!0),values:null};class gr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=rr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&dr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=et(n.xAxisID,cr(t,"x")),o=e.yAxisID=et(n.yAxisID,cr(t,"y")),s=e.rAxisID=et(n.rAxisID,cr(t,"r")),a=e.indexAxis,l=e.iAxisID=r(a,i,o,s),c=e.vAxisID=r(a,o,i,s);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Zt(this._data,this),t._stacked&&dr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Z(e))this._data=nr(e);else if(n!==e){if(n){Zt(n,this);const t=this._cachedMeta;dr(t),t._parsed=[]}e&&Object.isExtensible(e)&&Xt(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=rr(e.vScale,e),e.stack!==n.stack&&(r=!0,dr(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&lr(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,s=i.axis;let a,l,c,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=X(r[t])?this.parseArrayData(n,r,t,e):Z(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(i()&&(u=!1),h=l);n._sorted=u}o&&lr(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,s=i.axis,a=o.axis,l=i.getLabels(),c=i===o,u=new Array(r);let h,d,p;for(h=0,d=r;h<d;++h)p=h+n,u[h]={[s]:c||i.parse(l[p],p),[a]:o.parse(e[p],p)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,s=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],s[a]={x:i.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=e[h],l[c]={x:i.parse(mt(d,s),h),y:o.parse(mt(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis],s={keys:tr(r,!0),values:e._stacks[t.axis]._visualValues};return er(s,o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const s=r&&n._stacks[e.axis];r&&s&&(r.values=s,o=er(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,s=this._getOtherScale(t),a=mr(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=or(s);let h,d;function p(){d=r[h];const e=d[s.axis];return!Q(d[t.axis])||c>e||u<e}for(h=0;h<o;++h)if(!p()&&(this.updateRangeFromParsed(l,t,d,a),i))break;if(i)for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],Q(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Qn(et(this.options.clip,Zn(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,s,a),c=s;c<s+a;++c){const e=r[c];e.hidden||(e.active&&l?o.push(e):e.draw(t,i))}for(c=0;c<o.length;++c)o[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=hr(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=ur(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,s=i[o],a=this.enableOptionSharing&&yt(n);if(s)return fr(s,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Ee.elements[t]),p=()=>this.getContext(n,r,e),f=l.resolveNamedOptions(h,d,p,u);return f.$shared&&(f.$shared=a,i[o]=Object.freeze(fr(f,a))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,s=i[o];if(s)return s;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(o,this.getContext(t,n,e))}const l=new Yn(r,a&&a.animations);return a&&a._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||pr(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){pr(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!pr(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e,n=!0){const r=this._cachedMeta,i=r.data,o=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(i),s=t;s<o;++s)i[s]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&dr(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function yr(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Qt(r.sort(((t,e)=>t-e)))}return t._cache.$bar}function br(t){const e=t.iScale,n=yr(e,t.type);let r,i,o,s,a=e._length;const l=()=>{32767!==o&&-32768!==o&&(yt(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(s=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return a}function vr(t,e,n,r){const i=n.barThickness;let o,s;return G(i)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[t]-o/2}}function wr(t,e,n,r){const i=e.pixels,o=i[t];let s=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l,u=Math.abs(a-s)/2*l;return{chunk:u/r,ratio:n.barPercentage,start:c}}function xr(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),s=Math.min(i,o),a=Math.max(i,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}function _r(t,e,n,r){return X(t)?xr(t,e,n,r):e[n.axis]=n.parse(t,r),e}function kr(t,e,n,r){const i=t.iScale,o=t.vScale,s=i.getLabels(),a=i===o,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(s[c],c),l.push(_r(d,h,o,c));return l}function Sr(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Cr(t,e,n){return 0!==t?Et(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Or(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function Mr(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:u}=Or(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(o[Tr(u,s,a,l)]=!0,i=c)),o[Tr(i,s,a,l)]=!0,t.borderSkipped=o}function Tr(t,e,n,r){return r?(t=Er(t,e,n),t=Ar(t,n,e)):t=Ar(t,e,n),t}function Er(t,e,n){return t===e?n:t===n?e:t}function Ar(t,e,n){return"start"===t?e:"end"===t?n:t}function Pr(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}class Dr extends gr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,r){return kr(t,e,n,r)}parseArrayData(t,e,n,r){return kr(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===i.axis?s:a,c="x"===o.axis?s:a,u=[];let h,d,p,f;for(h=n,d=n+r;h<d;++h)f=e[h],p={},p[i.axis]=i.parse(mt(f,l),h),u.push(_r(mt(f,c),p,o,h));return u}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,s=Sr(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=i||G(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,c),f=(e._stacks||{})[s.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||Sr(e._custom)||o===f._top||o===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};h&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":r));const g=m.options||t[d].options;Mr(m,g,f,o),Pr(m,g,c.ratio),this.updateElement(t[d],d,m,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],s=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(G(r)||isNaN(r))return!0};for(const a of r)if((void 0===e||!s(a))&&((!1===i||-1===o.indexOf(a.stack)||void 0===i&&void 0===a.stack)&&o.push(a.stack),a.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const s=t.barThickness,a=s||br(e);return{min:a,pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,s=i||0,a=this.getParsed(t),l=a._custom,c=Sr(l);let u,h,d=a[e.axis],p=0,f=n?this.applyStack(e,a,n):d;f!==d&&(p=f-d,f=d),c&&(d=l.barStart,f=l.barEnd-l.barStart,0!==d&&Et(d)!==Et(l.barEnd)&&(p=0),p+=d);const m=G(i)||c?p:i;let g=e.getPixelForValue(m);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(p+f):g,h=u-g,Math.abs(h)<o){h=Cr(h,e,s)*o,d===s&&(g-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),l=Math.min(t,i),p=Math.max(t,i);g=Math.max(Math.min(g,p),l),u=g+h,n&&!c&&(a._stacks[e.axis]._visualValues[r]=e.getValueForPixel(u)-e.getValueForPixel(g))}if(g===e.getPixelForValue(s)){const t=Et(h)*e.getLineWidthForValue(s)/2;g+=t,h-=t}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,o=et(r.maxBarThickness,1/0);let s,a;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,l="flex"===r.barThickness?wr(t,e,r,n):vr(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);s=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(o,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}function Nr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ir{static override(t){Object.assign(Ir.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Nr()}parse(){return Nr()}format(){return Nr()}add(){return Nr()}diff(){return Nr()}startOf(){return Nr()}endOf(){return Nr()}}var Lr={_date:Ir};function Br(t,e,n,r){const{controller:i,data:o,_sorted:s}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&o.length){const t=a._reversePixels?Yt:Kt;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),s=t(o,e,n+i);return{lo:r.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function Rr(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){const{index:t,data:n}=o[a],{lo:l,hi:c}=Br(o[a],e,s,i);for(let e=l;e<=c;++e){const i=n[e];i.skip||r(i,t,e)}}}function jr(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function zr(t,e,n,r,i){const o=[];if(!i&&!t.isPointInArea(e))return o;const s=function(n,s,a){(i||Be(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:s,index:a})};return Rr(t,n,e,s,!0),o}function Hr(t,e,n,r){let i=[];function o(t,n,o){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],r),{angle:l}=zt(t,{x:e.x,y:e.y});$t(l,s,a)&&i.push({element:t,datasetIndex:n,index:o})}return Rr(t,n,e,o),i}function Fr(t,e,n,r,i,o){let s=[];const a=jr(n);let l=Number.POSITIVE_INFINITY;function c(n,c,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i),p=!!o||t.isPointInArea(d);if(!p&&!h)return;const f=a(e,d);f<l?(s=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:n,datasetIndex:c,index:u})}return Rr(t,n,e,c),s}function $r(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?Fr(t,e,n,r,i,o):Hr(t,e,n,i):[]}function Vr(t,e,n,r,i){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return Rr(t,n,e,((t,r,l)=>{t[s](e[n],i)&&(o.push({element:t,datasetIndex:r,index:l}),a=a||t.inRange(e.x,e.y,i))})),r&&!a?[]:o}var Wr={evaluateInteractionItems:Rr,modes:{index(t,e,n,r){const i=Pn(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?zr(t,i,o,r,s):$r(t,i,o,!1,r,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=Pn(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?zr(t,i,o,r,s):$r(t,i,o,!1,r,s);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point(t,e,n,r){const i=Pn(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return zr(t,i,o,r,s)},nearest(t,e,n,r){const i=Pn(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return $r(t,i,o,n.intersect,r,s)},x(t,e,n,r){const i=Pn(e,t);return Vr(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Pn(e,t);return Vr(t,i,"y",n.intersect,r)}}};const qr=["left","top","right","bottom"];function Ur(t,e){return t.filter((t=>t.pos===e))}function Kr(t,e){return t.filter((t=>-1===qr.indexOf(t.pos)&&t.box.axis===e))}function Yr(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Jr(t){const e=[];let n,r,i,o,s,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:s,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function Gr(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!qr.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Xr(t,e){const n=Gr(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:s&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:s&&e.availableHeight)}return n}function Zr(t){const e=Jr(t),n=Yr(e.filter((t=>t.box.fullSize)),!0),r=Yr(Ur(e,"left"),!0),i=Yr(Ur(e,"right")),o=Yr(Ur(e,"top"),!0),s=Yr(Ur(e,"bottom")),a=Kr(e,"x"),l=Kr(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:Ur(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function Qr(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function ti(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ei(t,e,n,r){const{pos:i,box:o}=n,s=t.maxPadding;if(!Z(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&ti(s,o.getPadding());const a=Math.max(0,e.outerWidth-Qr(s,t,"left","right")),l=Math.max(0,e.outerHeight-Qr(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ni(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ri(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function ii(t,e,n,r){const i=[];let o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,ri(a.horizontal,e));const{same:s,other:h}=ei(e,n,a,r);c|=s&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&ii(i,e,n,r)||u}function oi(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function si(t,e,n,r){const i=n.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=e.w*c,o=l.size||t.height;yt(l.start)&&(s=l.start),t.fullSize?oi(t,i.left,s,n.outerWidth-i.right-i.left,o):oi(t,e.left+l.placed,s,r,o),l.start=s,l.placed+=r,s=t.bottom}else{const r=e.h*c,s=l.size||t.width;yt(l.start)&&(o=l.start),t.fullSize?oi(t,o,i.top,s,n.outerHeight-i.bottom-i.top):oi(t,o,e.top+l.placed,s,r),l.start=o,l.placed+=r,o=t.right}}e.x=o,e.y=s}var ai={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Xe(t.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(n-i.height,0),a=Zr(t.boxes),l=a.vertical,c=a.horizontal;it(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},i);ti(d,Xe(r));const p=Object.assign({maxPadding:d,w:o,h:s,x:i.left,y:i.top},i),f=Xr(l.concat(c),h);ii(a.fullSize,p,h,f),ii(l,p,h,f),ii(c,p,h,f)&&ii(l,p,h,f),ni(p),si(a.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,si(a.rightAndBottom,p,h,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},it(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class li{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class ci extends li{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ui="$chartjs",hi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},di=t=>null===t||""===t;function pi(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[ui]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",di(i)){const e=Rn(t,"width");void 0!==e&&(t.width=e)}if(di(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Rn(t,"height");void 0!==e&&(t.height=e)}return t}const fi=!!Bn&&{passive:!0};function mi(t,e,n){t.addEventListener(e,n,fi)}function gi(t,e,n){t.canvas.removeEventListener(e,n,fi)}function yi(t,e){const n=hi[t.type]||t.type,{x:r,y:i}=Pn(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}function bi(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function vi(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||bi(n.addedNodes,r),e=e&&!bi(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function wi(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||bi(n.removedNodes,r),e=e&&!bi(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const xi=new Map;let _i=0;function ki(){const t=window.devicePixelRatio;t!==_i&&(_i=t,xi.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Si(t,e){xi.size||window.addEventListener("resize",ki),xi.set(t,e)}function Ci(t){xi.delete(t),xi.size||window.removeEventListener("resize",ki)}function Oi(t,e,n){const r=t.canvas,i=r&&kn(r);if(!i)return;const o=ee(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return s.observe(i),Si(t,o),s}function Mi(t,e,n){n&&n.disconnect(),"resize"===e&&Ci(t)}function Ti(t,e,n){const r=t.canvas,i=ee((e=>{null!==t.ctx&&n(yi(e,t))}),t);return mi(r,e,i),i}class Ei extends li{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(pi(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[ui])return!1;const n=e[ui].initial;["height","width"].forEach((t=>{const r=n[t];G(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[ui],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:vi,detach:wi,resize:Oi},o=i[e]||Ti;r[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;const i={attach:Mi,detach:Mi,resize:Mi},o=i[e]||gi;o(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return In(t,e,n,r)}isAttached(t){const e=kn(t);return!(!e||!e.isConnected)}}function Ai(t){return!_n()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?ci:Ei}class Pi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Nt(this.x)&&Nt(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function Di(t,e){const n=t.options.ticks,r=Ni(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?Li(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return Bi(e,c,o,s/i),c;const u=Ii(o,e,i);if(s>0){let t,n;const r=s>1?Math.round((l-a)/(s-1)):null;for(Ri(e,c,u,G(r)?0:a-r,a),t=0,n=s-1;t<n;t++)Ri(e,c,u,o[t],o[t+1]);return Ri(e,c,u,l,G(r)?e.length:l+r),c}return Ri(e,c,u),c}function Ni(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Ii(t,e,n){const r=ji(t),i=e.length/n;if(!r)return Math.max(i,1);const o=Dt(r);for(let s=0,a=o.length-1;s<a;s++){const t=o[s];if(t>i)return t}return Math.max(i,1)}function Li(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Bi(t,e,n,r){let i,o=0,s=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===s&&(e.push(t[i]),o++,s=n[o*r])}function Ri(t,e,n,r,i){const o=et(r,0),s=Math.min(et(i,t.length),t.length);let a,l,c,u=0;n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=o;while(c<0)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}function ji(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const zi=t=>"left"===t?"right":"right"===t?"left":t,Hi=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Fi=(t,e)=>Math.min(e||t,t);function $i(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function Vi(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-o,s-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<o-a||c>s+a)))return c}function Wi(t,e){it(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}function qi(t){return t.drawTicks?t.tickLength:0}function Ui(t,e){if(!t.display)return 0;const n=Ze(t.font,e),r=Xe(t.padding),i=X(t.text)?t.text.length:1;return i*n.lineHeight+r.height}function Ki(t,e){return en(t,{scale:e,type:"scale"})}function Yi(t,e,n){return en(t,{tick:n,index:e,type:"tick"})}function Ji(t,e,n){let r=re(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=zi(r)),r}function Gi(t,e,n,r){const{top:i,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,p,f=0;const m=s-i,g=a-o;if(t.isHorizontal()){if(d=ie(r,o,a),Z(n)){const t=Object.keys(n)[0],r=n[t];p=u[t].getPixelForValue(r)+m-e}else p="center"===n?(c.bottom+c.top)/2+m-e:Hi(t,n,e);h=a-o}else{if(Z(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)-g+e}else d="center"===n?(c.left+c.right)/2-g+e:Hi(t,n,e);p=ie(r,s,i),f="left"===n?-Ct:Ct}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}class Xi extends Pi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=tt(t,Number.POSITIVE_INFINITY),e=tt(e,Number.NEGATIVE_INFINITY),n=tt(n,Number.POSITIVE_INFINITY),r=tt(r,Number.NEGATIVE_INFINITY),{min:tt(t,n),max:tt(e,r),minDefined:Q(t),maxDefined:Q(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)e=s[a].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:tt(n,tt(r,n)),max:tt(r,tt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){const e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tn(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?$i(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=Di(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=rt(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Fi(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let o,s,a,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Vt(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(t.offset?.5:1)),s=this.maxHeight-qi(t.grid)-e.padding-Ui(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Rt(Math.min(Math.asin(Vt((c.highest.height+6)/o,-1,1)),Math.asin(Vt(s/a,-1,1))-Math.asin(Vt(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=Ui(r,e.options.font);if(s?(t.width=this.maxWidth,t.height=qi(i)+o):(t.height=this.maxHeight,t.width=qi(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),a=2*n.padding,l=Bt(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const e=n.mirror?0:u*i.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*i.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,r,u,c)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)G(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=$i(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,o=[],s=[],a=Math.floor(e/Fi(e,n));let l,c,u,h,d,p,f,m,g,y,b,v=0,w=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),r.font=p=d.string,f=i[p]=i[p]||{data:{},gc:[]},m=d.lineHeight,g=y=0,G(h)||X(h)){if(X(h))for(c=0,u=h.length;c<u;++c)b=h[c],G(b)||X(b)||(g=Pe(r,f.data,f.gc,g,b),y+=m)}else g=Pe(r,f.data,f.gc,g,h),y=m;o.push(g),s.push(y),v=Math.max(g,v),w=Math.max(y,w)}Wi(i,e);const x=o.indexOf(v),_=s.indexOf(w),k=t=>({width:o[t]||0,height:s[t]||0});return{first:k(0),last:k(e-1),widest:k(x),highest:k(_),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Wt(this._alignToPixels?De(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Yi(this.getContext(),t,n))}return this.$context||(this.$context=Ki(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Bt(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,s=i?i.widest.width+o:0,a=i?i.highest.height+o:0;return this.isHorizontal()?a*n>s*r?s/n:a/r:a*r<s*n?a/n:s/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:s}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks,u=c.length+(a?1:0),h=qi(i),d=[],p=s.setContext(this.getContext()),f=p.display?p.width:0,m=f/2,g=function(t){return De(n,t,f)};let y,b,v,w,x,_,k,S,C,O,M,T;if("top"===o)y=g(this.bottom),_=this.bottom-h,S=y-m,O=g(t.top)+m,T=t.bottom;else if("bottom"===o)y=g(this.top),O=t.top,T=g(t.bottom)-m,_=y+m,S=this.top+h;else if("left"===o)y=g(this.right),x=this.right-h,k=y-m,C=g(t.left)+m,M=t.right;else if("right"===o)y=g(this.left),C=t.left,M=g(t.right)-m,x=y+m,k=this.left+h;else if("x"===e){if("center"===o)y=g((t.top+t.bottom)/2+.5);else if(Z(o)){const t=Object.keys(o)[0],e=o[t];y=g(this.chart.scales[t].getPixelForValue(e))}O=t.top,T=t.bottom,_=y+m,S=_+h}else if("y"===e){if("center"===o)y=g((t.left+t.right)/2);else if(Z(o)){const t=Object.keys(o)[0],e=o[t];y=g(this.chart.scales[t].getPixelForValue(e))}x=y-m,k=x-h,C=t.left,M=t.right}const E=et(r.ticks.maxTicksLimit,u),A=Math.max(1,Math.ceil(u/E));for(b=0;b<u;b+=A){const t=this.getContext(b),e=i.setContext(t),r=s.setContext(t),o=e.lineWidth,c=e.color,u=r.dash||[],h=r.dashOffset,p=e.tickWidth,f=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;v=Vi(this,b,a),void 0!==v&&(w=De(n,v,o),l?x=k=C=M=w:_=S=O=T=w,d.push({tx1:x,ty1:_,tx2:k,ty2:S,x1:C,y1:O,x2:M,y2:T,width:o,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=u,this._borderValue=y,d}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,h=qi(n.grid),d=h+c,p=u?-c:d,f=-Bt(this.labelRotation),m=[];let g,y,b,v,w,x,_,k,S,C,O,M,T="middle";if("top"===r)x=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("x"===e){if("center"===r)x=(t.top+t.bottom)/2+d;else if(Z(r)){const t=Object.keys(r)[0],e=r[t];x=this.chart.scales[t].getPixelForValue(e)+d}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-d;else if(Z(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const E=this._getLabelSizes();for(g=0,y=s.length;g<y;++g){b=s[g],v=b.label;const t=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),C=S.lineHeight,O=X(v)?v.length:1;const e=O/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=_;if(o?(w=k,"inner"===_&&(d=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),M="top"===r?"near"===l||0!==f?-O*C+C/2:"center"===l?-E.highest.height/2-e*C+C:-E.highest.height+C/2:"near"===l||0!==f?C/2:"center"===l?E.highest.height/2-e*C:E.highest.height-O*C,u&&(M*=-1),0===f||t.showLabelBackdrop||(w+=C/2*Math.sin(f))):(x=k,M=(1-O)*C/2),t.showLabelBackdrop){const e=Xe(t.backdropPadding),n=E.heights[g],r=E.widths[g];let i=M-e.top,o=0-e.left;switch(T){case"middle":i-=n/2;break;case"bottom":i-=n;break}switch(_){case"center":o-=r/2;break;case"right":o-=r;break}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}m.push({label:v,font:S,textOffset:M,options:{rotation:f,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:T,translation:[w,x],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,n=-Bt(this.labelRotation);if(n)return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),s=t+i,a=o.widest.width;let l,c;return"left"===e?r?(c=this.right+i,"near"===n?l="left":"center"===n?(l="center",c+=a/2):(l="right",c+=a)):(c=this.right-s,"near"===n?l="right":"center"===n?(l="center",c-=a/2):(l="left",c=this.left)):"right"===e?r?(c=this.left+i,"near"===n?l="right":"center"===n?(l="center",c-=a/2):(l="left",c-=a)):(c=this.left+s,"near"===n?l="left":"center"===n?(l="center",c+=a/2):(l="right",c=this.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks,r=n.findIndex((e=>e.value===t));if(r>=0){const t=e.setContext(this.getContext(r));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const s=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const s=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=De(t,this.left,o)-o/2,c=De(t,this.right,s)+s/2,u=h=a):(u=De(t,this.top,o)-o/2,h=De(t,this.bottom,s)+s/2,l=c=a),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Re(n,r);const i=this.getLabelItems(t);for(const o of i){const t=o.options,e=o.font,r=o.label,i=o.textOffset;$e(n,r,0,i,e,t)}r&&je(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Ze(n.font),o=Xe(n.padding),s=n.align;let a=i.lineHeight/2;"bottom"===e||"center"===e||Z(e)?(a+=o.bottom,X(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=Gi(this,a,e,s);$e(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:Ji(s,e,r),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=et(t.grid&&t.grid.z,-1),r=et(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Xi.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ze(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zi{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;eo(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,Qi(t,o,n),this.override&&Ee.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in Ee[r]&&(delete Ee[r][n],this.override&&delete Se[n])}}function Qi(t,e,n){const r=ct(Object.create(null),[n?Ee.get(n):{},Ee.get(e),t.defaults]);Ee.set(e,r),t.defaultRoutes&&to(e,t.defaultRoutes),t.descriptors&&Ee.describe(e,t.descriptors)}function to(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Ee.route(o,i,l,a)}))}function eo(t){return"id"in t&&"defaults"in t}class no{constructor(){this.controllers=new Zi(gr,"datasets",!0),this.elements=new Zi(Pi,"elements"),this.plugins=new Zi(Object,"plugins"),this.scales=new Zi(Xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):it(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=gt(t);rt(n["before"+r],[],n),e[t](n),rt(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var ro=new no;class io{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin,o=t[n],s=[e,r,i.options];if(!1===rt(o,s,t)&&r.cancelable)return!1}return!0}invalidate(){G(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=et(n.options&&n.options.plugins,{}),i=oo(n);return!1!==r||e?ao(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function oo(t){const e={},n=[],r=Object.keys(ro.plugins.items);for(let o=0;o<r.length;o++)n.push(ro.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const t=i[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}function so(t,e){return e||!1!==t?!0===t?{}:t:null}function ao(t,{plugins:e,localIds:n},r,i){const o=[],s=t.getContext();for(const a of e){const e=a.id,l=so(r[e],i);null!==l&&o.push({plugin:a,options:lo(t.config,{plugin:a,local:n[e]},l,s)})}return o}function lo(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(r,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function co(t,e){const n=Ee.datasets[t]||{},r=(e.datasets||{})[t]||{};return r.indexAxis||e.indexAxis||n.indexAxis||"x"}function uo(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}function ho(t,e){return t===e?"_index_":"_value_"}function po(t){if("x"===t||"y"===t||"r"===t)return t}function fo(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function mo(t,...e){if(po(t))return t;for(const n of e){const e=n.axis||fo(n.position)||t.length>1&&po(t[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function go(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function yo(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return go(t,"x",n[0])||go(t,"y",n[0])}return{}}function bo(t,e){const n=Se[t.type]||{scales:{}},r=e.scales||{},i=co(t.type,e),o=Object.create(null);return Object.keys(r).forEach((e=>{const s=r[e];if(!Z(s))return console.error(`Invalid scale configuration for scale: ${e}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=mo(e,s,yo(e,t),Ee.scales[s.type]),l=ho(a,i),c=n.scales||{};o[e]=ut(Object.create(null),[{axis:a},s,c[a],c[l]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,s=n.indexAxis||co(i,e),a=Se[i]||{},l=a.scales||{};Object.keys(l).forEach((t=>{const e=uo(t,s),i=n[e+"AxisID"]||e;o[i]=o[i]||Object.create(null),ut(o[i],[{axis:e},r[i],l[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];ut(e,[Ee.scales[e.type],Ee.scale])})),o}function vo(t){const e=t.options||(t.options={});e.plugins=et(e.plugins,{}),e.scales=bo(t,e)}function wo(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function xo(t){return t=t||{},t.data=wo(t.data),vo(t),t}const _o=new Map,ko=new Set;function So(t,e){let n=_o.get(t);return n||(n=e(),_o.set(t,n),ko.add(n)),n}const Co=(t,e,n)=>{const r=mt(e,n);void 0!==r&&t.add(r)};class Oo{constructor(t){this._config=xo(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return So(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return So(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return So(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return So(`${n}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),s=o.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Co(a,t,e)))),e.forEach((t=>Co(a,r,t))),e.forEach((t=>Co(a,Se[i]||{},t))),e.forEach((t=>Co(a,Ee,t))),e.forEach((t=>Co(a,Ce,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),ko.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Se[e]||{},Ee.datasets[e]||{},{type:e},Ee,Ce]}resolveNamedOptions(t,e,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:s}=Mo(this._resolverCache,t,r);let a=o;if(Eo(o,e)){i.$shared=!1,n=bt(n)?n():n;const e=this.createResolver(t,n,s);a=rn(o,n,e)}for(const l of e)i[l]=a[l];return i}createResolver(t,e,n=[""],r){const{resolver:i}=Mo(this._resolverCache,t,n);return Z(e)?rn(i,e,void 0,r):i}}function Mo(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){const t=nn(e,n);o={resolver:t,subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)}return o}const To=t=>Z(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||bt(t[n])),!1);function Eo(t,e){const{isScriptable:n,isIndexable:r}=on(t);for(const i of e){const e=n(i),o=r(i),s=(o||e)&&t[i];if(e&&(bt(s)||To(s))||o&&X(s))return!0}return!1}var Ao="4.4.0";const Po=["top","bottom","left","right","chartArea"];function Do(t,e){return"top"===t||"bottom"===t||-1===Po.indexOf(t)&&"x"===e}function No(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Io(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rt(n&&n.onComplete,[t],e)}function Lo(t){const e=t.chart,n=e.options.animation;rt(n&&n.onProgress,[t],e)}function Bo(t){return _n()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ro={},jo=t=>{const e=Bo(t);return Object.values(Ro).filter((t=>t.canvas===e)).pop()};function zo(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function Ho(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}function Fo(t,e,n){return t.options.clip?t[n]:e[n]}function $o(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Fo(n,e,"left"),right:Fo(n,e,"right"),top:Fo(r,e,"top"),bottom:Fo(r,e,"bottom")}:e}class Vo{static defaults=Ee;static instances=Ro;static overrides=Se;static registry=ro;static version=Ao;static getChart=jo;static register(...t){ro.add(...t),Wo()}static unregister(...t){ro.remove(...t),Wo()}constructor(t,e){const n=this.config=new Oo(e),r=Bo(t),i=jo(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Ai(r)),this.platform.updateConfig(n);const s=this.platform.acquireContext(r,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,c=a&&a.width;this.id=J(),this.ctx=s,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new io,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ne((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],Ro[this.id]=this,s&&a?(Wn.listen(this,"complete",Io),Wn.listen(this,"progress",Lo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return G(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ro}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ln(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ne(this.canvas,this.ctx),this}stop(){return Wn.stop(this),this}resize(t,e){Wn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ln(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),rt(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};it(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=mo(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),it(i,(e=>{const i=e.options,o=i.id,s=mo(o,i),a=et(i.type,e.dtype);void 0!==i.position&&Do(i.position,s)===Do(e.dposition)||(i.position=e.dposition),r[o]=!0;let l=null;if(o in n&&n[o].type===a)l=n[o];else{const t=ro.getScale(a);l=new t({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,t)})),it(r,((t,e)=>{t||delete n[e]})),it(n,(t=>{ai.configure(this,t,t.options),ai.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(No("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||co(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=ro.getController(o),{datasetElementType:r,dataElementType:s}=Ee.datasets[o];Object.assign(e,{dataElementType:ro.getElement(s),datasetElementType:r&&ro.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){it(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||it(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(No("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){it(this.scales,(t=>{ai.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);vt(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){const e="_removeElements"===n?-i:i;zo(t,r,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!vt(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ai.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],it(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,bt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wn.has(this)?this.attached&&!Wn.running(this)&&Wn.start(this):(this.draw(),Io({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=$o(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&Re(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&je(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Be(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=Wr.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=en(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);yt(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Wn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ne(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ro[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};it(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",s)},e.isAttached(this.canvas)?s():o()}unbindEvents(){it(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},it(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,s,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),r=!ot(n,e);r&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),s=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,s=this._getActiveElements(t,r,n,o),a=wt(t),l=Ho(t,this._lastEvent,n,a);n&&(this._lastEvent=null,rt(i.onHover,[t,s,this],this),a&&rt(i.onClick,[t,s,this],this));const c=!ot(s,r);return(c||e)&&(this._active=s,this._updateHoverStyles(s,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function Wo(){return it(Vo.instances,(t=>t._plugins.invalidate()))}function qo(t,e){const{x:n,y:r,base:i,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=s/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=o/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Uo(t,e,n,r){return t?0:Vt(e,n,r)}function Ko(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=Je(r);return{t:Uo(i.top,o.top,0,n),r:Uo(i.right,o.right,0,e),b:Uo(i.bottom,o.bottom,0,n),l:Uo(i.left,o.left,0,e)}}function Yo(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ge(i),s=Math.min(e,n),a=t.borderSkipped,l=r||Z(i);return{topLeft:Uo(!l||a.top||a.left,o.topLeft,0,s),topRight:Uo(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Uo(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Uo(!l||a.bottom||a.right,o.bottomRight,0,s)}}function Jo(t){const e=qo(t),n=e.right-e.left,r=e.bottom-e.top,i=Ko(t,n/2,r/2),o=Yo(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Go(t,e,n,r){const i=null===e,o=null===n,s=i&&o,a=t&&!s&&qo(t,r);return a&&(i||qt(e,a.left,a.right))&&(o||qt(n,a.top,a.bottom))}function Xo(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Zo(t,e){t.rect(e.x,e.y,e.w,e.h)}function Qo(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,s=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+s,radius:t.radius}}class ts extends Pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=Jo(this),s=Xo(o.radius)?Ve:Zo;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),s(t,Qo(o,e,i)),t.clip(),s(t,Qo(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,Qo(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Go(this,t,e,n)}inXRange(t,e){return Go(this,t,null,e)}inYRange(t,e){return Go(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}const es=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},ns=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class rs extends Pi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=rt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Ze(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=es(n,i);let l,c;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,i,s,a)+10):(c=this.maxHeight,l=this._fitCols(o,r,s,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+s;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,p)=>{const f=n+e/2+i.measureText(t.text).width;(0===p||l[l.length-1]+f+2*s>o)&&(u+=c,l[l.length-(p>0?0:1)]=0,d+=c,h++),a[p]={left:0,top:d,row:h,width:f,height:r},l[l.length-1]+=f+s})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-t;let u=s,h=0,d=0,p=0,f=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:m,itemHeight:g}=is(n,e,i,t,r);o>0&&d+g+2*s>c&&(u+=h+s,l.push({width:h,height:d}),p+=h+s,f++,h=d=0),a[o]={left:p,top:d,col:f,width:m,height:g},h=Math.max(h,m),d+=g+s})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=Hn(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=ie(n,this.left+r,this.right-this.lineWidths[i]);for(const a of e)i!==a.row&&(i=a.row,s=ie(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+t+r,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+r}else{let i=0,s=ie(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const a of e)a.col!==i&&(i=a.col,s=ie(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),a.top=s,a.left+=this.left+r,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Re(t,this),this._draw(),je(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,s=Ee.color,a=Hn(t.rtl,this.left,this.width),l=Ze(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=es(o,u),g=function(t,e,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const i=et(n.lineWidth,1);if(r.fillStyle=et(n.fillStyle,s),r.lineCap=et(n.lineCap,"butt"),r.lineDashOffset=et(n.lineDashOffset,0),r.lineJoin=et(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=et(n.strokeStyle,s),r.setLineDash(et(n.lineDash,[])),o.usePointStyle){const s={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(t,p/2),c=e+h;Le(r,s,l,c,o.pointStyleWidth&&p)}else{const o=e+Math.max((u-f)/2,0),s=a.leftForLtr(t,p),l=Ge(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?Ve(r,{x:s,y:o,w:p,h:f,radius:l}):r.rect(s,o,p,f),r.fill(),0!==i&&r.stroke()}r.restore()},y=function(t,e,n){$e(r,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})},b=this.isHorizontal(),v=this._computeTitleHeight();d=b?{x:ie(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:ie(i,this.top+v+c,this.bottom-e[0].height),line:0},Fn(this.ctx,t.textDirection);const w=m+c;this.legendItems.forEach(((s,u)=>{r.strokeStyle=s.fontColor,r.fillStyle=s.fontColor;const f=r.measureText(s.text).width,m=a.textAlign(s.textAlign||(s.textAlign=o.textAlign)),x=p+h+f;let _=d.x,k=d.y;a.setWidth(this.width),b?u>0&&_+x+c>this.right&&(k=d.y+=w,d.line++,_=d.x=ie(i,this.left+c,this.right-n[d.line])):u>0&&k+w>this.bottom&&(_=d.x=_+e[d.line].width+c,d.line++,k=d.y=ie(i,this.top+v+c,this.bottom-e[d.line].height));const S=a.x(_);if(g(S,k,s),_=oe(m,_+p+h,b?_+x:this.right,t.rtl),y(a.x(_),k,s),b)d.x+=x+c;else if("string"!==typeof s.text){const t=l.lineHeight;d.y+=as(s,t)+c}else d.y+=w})),$n(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ze(e.font),r=Xe(e.padding);if(!e.display)return;const i=Hn(t.rtl,this.left,this.width),o=this.ctx,s=e.position,a=n.size/2,l=r.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=ie(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+ie(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=ie(s,u,u+h);o.textAlign=i.textAlign(re(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,$e(o,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Ze(t.font),n=Xe(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(qt(t,this.left,this.right)&&qt(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],qt(t,r.left,r.left+r.width)&&qt(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!ls(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=ns(r,n);r&&!i&&rt(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&rt(e.onHover,[t,n,this],this)}else n&&rt(e.onClick,[t,n,this],this)}}function is(t,e,n,r,i){const o=os(r,t,e,n),s=ss(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function os(t,e,n,r){let i=t.text;return i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e))),e+n.size/2+r.measureText(i).width}function ss(t,e,n){let r=t;return"string"!==typeof e.text&&(r=as(e,n)),r}function as(t,e){const n=t.text?t.text.length:0;return e*n}function ls(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var cs={id:"legend",_element:rs,start(t,e,n){const r=t.legend=new rs({ctx:t.ctx,options:n,chart:t});ai.configure(t,r,n),ai.addBox(t,r)},stop(t){ai.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ai.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=Xe(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class us extends Pi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=X(n.text)?n.text.length:1;this._padding=Xe(n.padding);const i=r*Ze(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,s=o.align;let a,l,c,u=0;return this.isHorizontal()?(l=ie(s,n,i),c=e+t,a=i-n):("left"===o.position?(l=n+t,c=ie(s,r,e),u=-.5*xt):(l=i-t,c=ie(s,e,r),u=.5*xt),a=r-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ze(e.font),r=n.lineHeight,i=r/2+this._padding.top,{titleX:o,titleY:s,maxWidth:a,rotation:l}=this._drawArgs(i);$e(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:l,textAlign:re(e.align),textBaseline:"middle",translation:[o,s]})}}function hs(t,e){const n=new us({ctx:t.ctx,options:e,chart:t});ai.configure(t,n,e),ai.addBox(t,n),t.titleBlock=n}var ds={id:"title",_element:us,start(t,e,n){hs(t,n)},stop(t){const e=t.titleBlock;ai.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ai.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ps={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=r.getCenterPoint(),n=Ht(e,t);n<a&&(a=n,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function fs(t,e){return e&&(X(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ms(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function gs(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function ys(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=Ze(e.bodyFont),c=Ze(e.titleFont),u=Ze(e.footerFont),h=o.length,d=i.length,p=r.length,f=Xe(e.padding);let m=f.height,g=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const t=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*t+(y-p)*l.lineHeight+(y-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const v=function(t){g=Math.max(g,n.measureText(t).width+b)};return n.save(),n.font=c.string,it(t.title,v),n.font=l.string,it(t.beforeBody.concat(t.afterBody),v),b=e.displayColors?s+2+e.boxPadding:0,it(r,(t=>{it(t.before,v),it(t.lines,v),it(t.after,v)})),b=0,n.font=u.string,it(t.footer,v),n.restore(),g+=f.width,{width:g,height:m}}function bs(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function vs(t,e,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;return"left"===t&&i+o+s>e.width||("right"===t&&i-o-s<0||void 0)}function ws(t,e,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),vs(c,t,e,n)&&(c="center"),c}function xs(t,e,n){const r=n.yAlign||e.yAlign||bs(t,n);return{xAlign:n.xAlign||e.xAlign||ws(t,e,n,r),yAlign:r}}function _s(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}function ks(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}function Ss(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=i+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=Ge(s);let f=_s(e,a);const m=ks(e,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(u,d)+i:"right"===a&&(f+=Math.max(h,p)+i),{x:Vt(f,0,r.width-e.width),y:Vt(m,0,r.height-e.height)}}function Cs(t,e,n){const r=Xe(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function Os(t){return fs([],ms(t))}function Ms(t,e,n){return en(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ts(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Es={beforeTitle:Y,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Y,beforeBody:Y,beforeLabel:Y,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return G(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Y,afterBody:Y,beforeFooter:Y,footer:Y,afterFooter:Y};function As(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?Es[e].call(n,r):i}class Ps extends Pi{static positioners=ps;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new Yn(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Ms(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,r=As(n,"beforeTitle",this,t),i=As(n,"title",this,t),o=As(n,"afterTitle",this,t);let s=[];return s=fs(s,ms(r)),s=fs(s,ms(i)),s=fs(s,ms(o)),s}getBeforeBody(t,e){return Os(As(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return it(t,(t=>{const e={before:[],lines:[],after:[]},i=Ts(n,t);fs(e.before,ms(As(i,"beforeLabel",this,t))),fs(e.lines,As(i,"label",this,t)),fs(e.after,ms(As(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return Os(As(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=As(n,"beforeFooter",this,t),i=As(n,"footer",this,t),o=As(n,"afterFooter",this,t);let s=[];return s=fs(s,ms(r)),s=fs(s,ms(i)),s=fs(s,ms(o)),s}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let s,a,l=[];for(s=0,a=e.length;s<a;++s)l.push(gs(this.chart,e[s]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),it(l,(e=>{const n=Ts(t.callbacks,e);r.push(As(n,"labelColor",this,e)),i.push(As(n,"labelPointStyle",this,e)),o.push(As(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=ps[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=ys(this,n),s=Object.assign({},t,e),a=xs(this.chart,n,s),l=Ss(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Ge(s),{x:h,y:d}=t,{width:p,height:f}=e;let m,g,y,b,v,w;return"center"===i?(v=d+f/2,"left"===r?(m=h,g=m-o,b=v+o,w=v-o):(m=h+p,g=m+o,b=v-o,w=v+o),y=m):(g="left"===r?h+Math.max(a,c)+o:"right"===r?h+p-Math.max(l,u)-o:this.caretX,"top"===i?(b=d,v=b-o,m=g-o,y=g+o):(b=d+f,v=b+o,m=g+o,y=g-o),w=b),{x1:m,x2:g,x3:y,y1:b,y2:v,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,s,a;if(i){const l=Hn(n.rtl,this.x,this.width);for(t.x=Cs(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=Ze(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===i&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=Ze(i.bodyFont),u=Cs(this,"left",i),h=r.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,p=e.y+d;if(i.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=p+a/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Ie(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ie(t,e,n,c)}else{t.lineWidth=Z(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),s=Ge(o.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Ve(t,{x:e,y:p,w:l,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ve(t,{x:n,y:p+1,w:l-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,p,l,a),t.strokeRect(e,p,l,a),t.fillStyle=o.backgroundColor,t.fillRect(n,p+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Ze(n.bodyFont);let h=u.lineHeight,d=0;const p=Hn(n.rtl,this.x,this.width),f=function(n){e.fillText(n,p.x(t.x+d),t.y+h/2),t.y+=h+i},m=p.textAlign(o);let g,y,b,v,w,x,_;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=Cs(this,m,n),e.fillStyle=n.bodyColor,it(this.beforeBody,f),d=s&&"right"!==m?"center"===o?l/2+c:l+2+c:0,v=0,x=r.length;v<x;++v){for(g=r[v],y=this.labelTextColors[v],e.fillStyle=y,it(g.before,f),b=g.lines,s&&b.length&&(this._drawColorBox(e,t,v,p,n),h=Math.max(u.lineHeight,a)),w=0,_=b.length;w<_;++w)f(b[w]),h=u.lineHeight;it(g.after,f)}d=0,h=u.lineHeight,it(this.afterBody,f),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,s;if(i){const a=Hn(n.rtl,this.x,this.width);for(t.x=Cs(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",o=Ze(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:s,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=Ge(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(s+u,a),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(s+l-h,a),e.quadraticCurveTo(s+l,a,s+l,a+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(s+l,a+c-p),e.quadraticCurveTo(s+l,a+c,s+l-p,a+c),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(s+d,a+c),e.quadraticCurveTo(s,a+c,s,a+c-d),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(s,a+u),e.quadraticCurveTo(s,a,s+u,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=ps[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=ys(this,t),s=Object.assign({},n,this._size),a=xs(e,t,s),l=Ss(t,s,a,e);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Xe(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),Fn(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),$n(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!ot(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),s=this._positionChanged(o,t),a=e||!ot(o,i)||s;return a&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=ps[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}var Ds={id:"tooltip",_element:Ps,positioners:ps,afterInit(t,e,n){n&&(t.tooltip=new Ps({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Es},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ns=(t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Is(t,e,n,r){const i=t.indexOf(e);if(-1===i)return Ns(t,e,n,r);const o=t.lastIndexOf(e);return i!==o?n:i}const Ls=(t,e)=>null===t?null:Vt(Math.round(t),0,e);function Bs(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Rs extends Xi{static id="category";static defaults={ticks:{callback:Bs}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(G(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Is(n,t,et(e,t),this._addedLabels),Ls(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return Bs.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function js(t,e){const n=[],r=1e-14,{bounds:i,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,p=o||1,f=u-1,{min:m,max:g}=e,y=!G(s),b=!G(a),v=!G(c),w=(g-m)/(h+1);let x,_,k,S,C=Pt((g-m)/f/p)*p;if(C<r&&!y&&!b)return[{value:m},{value:g}];S=Math.ceil(g/C)-Math.floor(m/C),S>f&&(C=Pt(S*C/f/p)*p),G(l)||(x=Math.pow(10,l),C=Math.ceil(C*x)/x),"ticks"===i?(_=Math.floor(m/C)*C,k=Math.ceil(g/C)*C):(_=m,k=g),y&&b&&o&&It((a-s)/o,C/1e3)?(S=Math.round(Math.min((a-s)/C,u)),C=(a-s)/S,_=s,k=a):v?(_=y?s:_,k=b?a:k,S=c-1,C=(k-_)/S):(S=(k-_)/C,S=At(S,Math.round(S),C/1e3)?Math.round(S):Math.ceil(S));const O=Math.max(jt(C),jt(_));x=Math.pow(10,G(l)?O:l),_=Math.round(_*x)/x,k=Math.round(k*x)/x;let M=0;for(y&&(d&&_!==s?(n.push({value:s}),_<s&&M++,At(Math.round((_+M*C)*x)/x,s,zs(s,w,t))&&M++):_<s&&M++);M<S;++M){const t=Math.round((_+M*C)*x)/x;if(b&&t>a)break;n.push({value:t})}return b&&d&&k!==a?n.length&&At(n[n.length-1].value,a,zs(a,w,t))?n[n.length-1].value=a:n.push({value:a}):b&&k!==a||n.push({value:k}),n}function zs(t,e,{horizontal:n,minRotation:r}){const i=Bt(r),o=(n?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}class Hs extends Xi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return G(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,s=t=>i=n?i:t;if(t){const t=Et(r),e=Et(i);t<0&&e<0?s(0):t>0&&e>0&&o(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);s(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},i=this._range||this,o=js(r,i);return"ticks"===t.bounds&&Lt(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ve(t,this.chart.options.locale,this.options.ticks.format)}}class Fs extends Hs{static id="linear";static defaults={ticks:{callback:_e.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Q(t)?t:0,this.max=Q(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Bt(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}_e.formatters.logarithmic;_e.formatters.numeric;const $s={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vs=Object.keys($s);function Ws(t,e){return t-e}function qs(t,e){if(G(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let s=e;return"function"===typeof r&&(s=r(s)),Q(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!Nt(o)&&!0!==o?n.startOf(s,i):n.startOf(s,"isoWeek",o)),+s)}function Us(t,e,n,r){const i=Vs.length;for(let o=Vs.indexOf(t);o<i-1;++o){const t=$s[Vs[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return Vs[o]}return Vs[i-1]}function Ks(t,e,n,r,i){for(let o=Vs.length-1;o>=Vs.indexOf(n);o--){const n=Vs[o];if($s[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return Vs[n?Vs.indexOf(n):0]}function Ys(t){for(let e=Vs.indexOf(t)+1,n=Vs.length;e<n;++e)if($s[Vs[e]].common)return Vs[e]}function Js(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=Ut(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}else t[e]=!0}function Gs(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Xs(t,e,n){const r=[],i={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return 0!==o&&n?Gs(t,r,i,n):r}class Zs extends Xi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),r=this._adapter=new Lr._date(t.adapters.date);r.init(e),ut(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:qs(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:s}=this.getUserBounds();function a(t){o||isNaN(t.min)||(r=Math.min(r,t.min)),s||isNaN(t.max)||(i=Math.max(i,t.max))}o&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),r=Q(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=Q(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,s=Jt(r,i,o);return this._unit=e.unit||(n.autoSkip?Us(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):Ks(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?Ys(this._unit):void 0,this.initOffsets(r),t.reverse&&s.reverse(),Xs(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,n,r=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=Vt(r,0,o),i=Vt(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||Us(i.minUnit,e,n,this._getLabelCapacity(e)),s=et(r.ticks.stepSize,1),a="week"===o&&i.isoWeekday,l=Nt(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":o),t.diff(n,e,o)>1e5*s)throw new Error(e+" and "+n+" are too far apart with stepSize of "+s+" "+o);const p="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,s,o),h++)Js(c,u,p);return u!==n&&"ticks"!==r.bounds&&1!==h||Js(c,u,p),Object.keys(c).sort(Ws).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options,r=n.time.displayFormats,i=this._unit,o=e||r[i];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,r){const i=this.options,o=i.ticks.callback;if(o)return rt(o,[t,e,n],this);const s=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&s[a],u=l&&s[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,r||(d?u:c))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=Bt(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),s=this._resolveTickFontOptions(0).size;return{w:n*i+s*o,h:n*o+s*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,Xs(this,[t],this._majorUnit),r),o=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(qs(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Qt(t.sort(Ws))}}Zs.defaults},4624:function(t,e,n){"use strict";var r=n(9520);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function i(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function s(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map((function(t){return t.src})).join(",")}function a(t){for(var e={},n=0,r=t.tables;n<r.length;n++){var i=r[n];e[i.name]=i.schema}return e}function l(t,e){return new Promise((function(n,r){var i=new FileReader;i.onabort=function(t){return r(new Error("file read aborted"))},i.onerror=function(t){return r(t.target.error)},i.onload=function(t){return n(t.target.result)},"binary"===e?i.readAsArrayBuffer(t):i.readAsText(t)}))}function c(t,e){if("undefined"===typeof FileReaderSync)throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,r="binary"===e?n.readAsArrayBuffer(t):n.readAsText(t);return r}var u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function h(t,e){return e={exports:{}},t(e,e.exports),e.exports}for(var d=h((function(t,e){!function(e,n){t.exports=n()}(0,(function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},r=Object.keys,i=Array.isArray,o={}.toString,s=Object.getPrototypeOf,a={}.hasOwnProperty,l=a.toString,c=["type","replaced","iterateIn","iterateUnsetNumeric"];function u(t,e){return m.isObject(t)&&"function"==typeof t.then&&(!e||"function"==typeof t.catch)}function h(t){return o.call(t).slice(8,-1)}function d(e,n){if(!e||"object"!==(void 0===e?"undefined":t(e)))return!1;var r=s(e);if(!r)return!1;var i=a.call(r,"constructor")&&r.constructor;return"function"!=typeof i?null===n:"function"==typeof i&&null!==n&&l.call(i)===l.call(n)}function p(t){return!(!t||"Object"!==h(t))&&(!s(t)||d(t,Object))}function f(e){return e&&"object"===(void 0===e?"undefined":t(e))}function m(o){var s=[],a=[],l={},h=this.types={},b=this.stringify=function(t,e,n,r){r=Object.assign({},o,r,{stringification:!0});var s=k(t,null,r);return i(s)?JSON.stringify(s[0],e,n):s.then((function(t){return JSON.stringify(t,e,n)}))};this.stringifySync=function(t,e,n,r){return b(t,e,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(t,e,n,r){return b(t,e,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var _=this.parse=function(t,e,n){return n=Object.assign({},o,n,{parse:!0}),S(JSON.parse(t,e),n)};this.parseSync=function(t,e,n){return _(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.parseAsync=function(t,e,n){return _(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.specialTypeNames=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(t,e,n)},this.rootTypeName=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(t,e,n)};var k=this.encapsulate=function(u,h,g){var b=(g=Object.assign({sync:!0},o,g)).sync,v={},w=[],_=[],k=[],S=!(g&&"cyclic"in g)||g.cyclic,C=g.encapsulateObserver,O=E("",u,S,h||{},k);function M(t){var e=Object.values(v);if(g.iterateNone)return e.length?e[0]:m.getJSONType(t);if(e.length){if(g.returnTypeNames)return[].concat(n(new Set(e)));t&&p(t)&&!t.hasOwnProperty("$types")?t.$types=v:t={$:t,$types:{$:v}}}else f(t)&&t.hasOwnProperty("$types")&&(t={$:t,$types:!0});return!g.returnTypeNames&&t}return k.length?b&&g.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function t(n,r){return Promise.all(r.map((function(t){return t[1].p}))).then((function(i){return Promise.all(i.map((function(i){var o=[],s=r.splice(0,1)[0],a=e(s,7),l=a[0],c=a[2],u=a[3],h=a[4],p=a[5],f=a[6],m=E(l,i,c,u,o,!0,f),g=d(m,x);return l&&g?m.p.then((function(e){return h[p]=e,t(n,o)})):(l?h[p]=m:n=g?m.p:m,t(n,o))})))})).then((function(){return n}))}(O,k)).then(M):!b&&g.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():g.stringification&&b?[M(O)]:b?M(O):Promise.resolve(M(O));function T(t,e,n){Object.assign(t,e);var r=c.map((function(e){var n=t[e];return delete t[e],n}));n(),c.forEach((function(e,n){t[e]=r[n]}))}function E(e,n,o,a,l,c,u){var h=void 0,f={},b=void 0===n?"undefined":t(n),k=C?function(t){var r=u||a.type||m.getJSONType(n);C(Object.assign(t||f,{keypath:e,value:n,cyclic:o,stateObj:a,promisesData:l,resolvingTypesonPromise:c,awaitingTypesonPromise:d(n,x)},void 0!==r?{type:r}:{}))}:null;if(b in{string:1,boolean:1,number:1,undefined:1})return void 0===n||"number"===b&&(isNaN(n)||n===-1/0||n===1/0)?(h=A(e,n,a,l,!1,c,k))!==n&&(f={replaced:h}):h=n,k&&k(),h;if(null===n)return k&&k(),n;if(o&&!a.iterateIn&&!a.iterateUnsetNumeric){var S=w.indexOf(n);if(!(S<0))return v[e]="#",k&&k({cyclicKeypath:_[S]}),"#"+_[S];!0===o&&(w.push(n),_.push(e))}var O=p(n),M=i(n),P=(O||M)&&(!s.length||a.replaced)||a.iterateIn?n:A(e,n,a,l,O||M,null,k),D=void 0;if(P!==n?(h=P,f={replaced:P}):M||"array"===a.iterateIn?(D=new Array(n.length),f={clone:D}):O||"object"===a.iterateIn?f={clone:D={}}:""===e&&d(n,x)?(l.push([e,n,o,a,void 0,void 0,a.type]),h=n):h=n,k&&k(),g.iterateNone)return D||h;if(!D)return h;if(a.iterateIn){var N=function(t){var r={ownKeys:n.hasOwnProperty(t)};T(a,r,(function(){var r=e+(e?".":"")+y(t),i=E(r,n[t],!!o,a,l,c);d(i,x)?l.push([r,i,!!o,a,D,t,a.type]):void 0!==i&&(D[t]=i)}))};for(var I in n)N(I);k&&k({endIterateIn:!0,end:!0})}else r(n).forEach((function(t){var r=e+(e?".":"")+y(t);T(a,{ownKeys:!0},(function(){var e=E(r,n[t],!!o,a,l,c);d(e,x)?l.push([r,e,!!o,a,D,t,a.type]):void 0!==e&&(D[t]=e)}))})),k&&k({endIterateOwn:!0,end:!0});if(a.iterateUnsetNumeric){for(var L=n.length,B=function(t){if(!(t in n)){var r=e+(e?".":"")+t;T(a,{ownKeys:!1},(function(){var e=E(r,void 0,!!o,a,l,c);d(e,x)?l.push([r,e,!!o,a,D,t,a.type]):void 0!==e&&(D[t]=e)}))}},R=0;R<L;R++)B(R);k&&k({endIterateUnsetNumeric:!0,end:!0})}return D}function A(t,e,n,r,i,o,c){for(var u=i?s:a,h=u.length;h--;){var d=u[h];if(d.test(e,n)){var p=d.type;if(l[p]){var f=v[t];v[t]=f?[p].concat(f):p}return Object.assign(n,{type:p,replaced:!0}),!b&&d.replaceAsync||d.replace?(c&&c({replacing:!0}),E(t,d[b||!d.replaceAsync?"replace":"replaceAsync"](e,n),S&&"readonly",n,r,o,p)):(c&&c({typeDetected:!0}),E(t,e,S&&"readonly",n,r,o,p))}}return e}};this.encapsulateSync=function(t,e,n){return k(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.encapsulateAsync=function(t,e,n){return k(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))};var S=this.revive=function(t,n){var s=(n=Object.assign({sync:!0},o,n)).sync,a=t&&t.$types,c=!0;if(!a)return t;if(!0===a)return t.$;a.$&&p(a.$)&&(t=t.$,a=a.$,c=!1);var h=[],f={},m=function t(n,o,s,u,m,g){if(!c||"$types"!==n){var b=a[n];if(i(o)||p(o)){var x=i(o)?new Array(o.length):{};for(r(o).forEach((function(e){var r=t(n+(n?".":"")+y(e),o[e],s||x,u,x,e);d(r,w)?x[e]=void 0:void 0!==r&&(x[e]=r)})),o=x;h.length;){var _=e(h[0],4),k=_[0],S=_[1],C=_[2],O=_[3],M=v(k,S);if(d(M,w))C[O]=void 0;else{if(void 0===M)break;C[O]=M}h.splice(0,1)}}if(!b)return o;if("#"===b){var T=v(s,o.substr(1));return void 0===T&&h.push([s,o.substr(1),m,g]),T}var E=u.sync;return[].concat(b).reduce((function(t,e){var n=l[e];if(!n)throw new Error("Unregistered type: "+e);return n[E&&n.revive?"revive":!E&&n.reviveAsync?"reviveAsync":"revive"](t,f)}),o)}}("",t,null,n);return u(m=d(m,w)?void 0:m)?s&&n.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():m:!s&&n.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():s?m:Promise.resolve(m)};this.reviveSync=function(t,e){return S(t,Object.assign({},{throwOnBadSyncType:!0},e,{sync:!0}))},this.reviveAsync=function(t,e){return S(t,Object.assign({},{throwOnBadSyncType:!0},e,{sync:!1}))},this.register=function(t,e){return e=e||{},[].concat(t).forEach((function t(n){if(i(n))return n.map(t);n&&r(n).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(m.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var r=n[t],o=r.testPlainObjects?s:a,c=o.filter((function(e){return e.type===t}));if(c.length&&(o.splice(o.indexOf(c[0]),1),delete l[t],delete h[t]),r){if("function"==typeof r){var u=r;r={test:function(t){return t&&t.constructor===u},replace:function(t){return g({},t)},revive:function(t){return g(Object.create(u.prototype),t)}}}else i(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var d={type:t,test:r.test.bind(r)};r.replace&&(d.replace=r.replace.bind(r)),r.replaceAsync&&(d.replaceAsync=r.replaceAsync.bind(r));var p="number"==typeof e.fallback?e.fallback:e.fallback?0:1/0;if(r.testPlainObjects?s.splice(p,0,d):a.splice(p,0,d),r.revive||r.reviveAsync){var f={};r.revive&&(f.revive=r.revive.bind(r)),r.reviveAsync&&(f.reviveAsync=r.reviveAsync.bind(r)),l[t]=f}h[t]=r}}))})),this}}function g(t,e){return r(e).map((function(n){t[n]=e[n]})),t}function y(t){return t.replace(/~/g,"~0").replace(/\./g,"~1")}function b(t){return t.replace(/~1/g,".").replace(/~0/g,"~")}function v(t,e){if(""===e)return t;var n=e.indexOf(".");if(n>-1){var r=t[b(e.substr(0,n))];return void 0===r?void 0:v(r,e.substr(n+1))}return t[b(e)]}function w(){}function x(t){this.p=new Promise(t)}return x.prototype.then=function(t,e){var n=this;return new x((function(r,i){n.p.then((function(e){r(t?t(e):e)}),(function(t){n.p.catch((function(t){return e?e(t):Promise.reject(t)})).then(r,i)}))}))},x.prototype.catch=function(t){return this.then(null,t)},x.resolve=function(t){return new x((function(e){e(t)}))},x.reject=function(t){return new x((function(e,n){n(t)}))},["all","race"].map((function(t){x[t]=function(e){return new x((function(n,r){Promise[t](e.map((function(t){return t.p}))).then(n,r)}))}})),m.Undefined=w,m.Promise=x,m.isThenable=u,m.toStringTag=h,m.hasConstructorOf=d,m.isObject=f,m.isPlainObject=p,m.isUserObject=function t(e){if(!e||"Object"!==h(e))return!1;var n=s(e);return!n||d(e,Object)||t(n)},m.escapeKeyPathComponent=y,m.unescapeKeyPathComponent=b,m.getByKeyPath=v,m.getJSONType=function(e){return null===e?"null":i(e)?"array":void 0===e?"undefined":t(e)},m.JSON_TYPES=["null","boolean","number","string","array","object"],m}))})),p=h((function(t,e){!function(e,n){t.exports=n()}(0,(function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},r=Object.keys,i=Array.isArray,o={}.toString,s=Object.getPrototypeOf,a={}.hasOwnProperty,l=a.toString,c=["type","replaced","iterateIn","iterateUnsetNumeric"];function h(t,e){return g.isObject(t)&&"function"==typeof t.then&&(!e||"function"==typeof t.catch)}function d(t){return o.call(t).slice(8,-1)}function p(e,n){if(!e||"object"!==(void 0===e?"undefined":t(e)))return!1;var r=s(e);if(!r)return!1;var i=a.call(r,"constructor")&&r.constructor;return"function"!=typeof i?null===n:"function"==typeof i&&null!==n&&l.call(i)===l.call(n)}function f(t){return!(!t||"Object"!==d(t))&&(!s(t)||p(t,Object))}function m(e){return e&&"object"===(void 0===e?"undefined":t(e))}function g(o){var s=[],a=[],l={},u=this.types={},d=this.stringify=function(t,e,n,r){r=Object.assign({},o,r,{stringification:!0});var s=k(t,null,r);return i(s)?JSON.stringify(s[0],e,n):s.then((function(t){return JSON.stringify(t,e,n)}))};this.stringifySync=function(t,e,n,r){return d(t,e,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(t,e,n,r){return d(t,e,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var v=this.parse=function(t,e,n){return n=Object.assign({},o,n,{parse:!0}),S(JSON.parse(t,e),n)};this.parseSync=function(t,e,n){return v(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.parseAsync=function(t,e,n){return v(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.specialTypeNames=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(t,e,n)},this.rootTypeName=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(t,e,n)};var k=this.encapsulate=function(u,h,d){var y=(d=Object.assign({sync:!0},o,d)).sync,v={},w=[],x=[],k=[],S=!(d&&"cyclic"in d)||d.cyclic,C=d.encapsulateObserver,O=E("",u,S,h||{},k);function M(t){var e=Object.values(v);if(d.iterateNone)return e.length?e[0]:g.getJSONType(t);if(e.length){if(d.returnTypeNames)return[].concat(n(new Set(e)));t&&f(t)&&!t.hasOwnProperty("$types")?t.$types=v:t={$:t,$types:{$:v}}}else m(t)&&t.hasOwnProperty("$types")&&(t={$:t,$types:!0});return!d.returnTypeNames&&t}return k.length?y&&d.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function t(n,r){return Promise.all(r.map((function(t){return t[1].p}))).then((function(i){return Promise.all(i.map((function(i){var o=[],s=r.splice(0,1)[0],a=e(s,7),l=a[0],c=a[2],u=a[3],h=a[4],d=a[5],f=a[6],m=E(l,i,c,u,o,!0,f),g=p(m,_);return l&&g?m.p.then((function(e){return h[d]=e,t(n,o)})):(l?h[d]=m:n=g?m.p:m,t(n,o))})))})).then((function(){return n}))}(O,k)).then(M):!y&&d.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():d.stringification&&y?[M(O)]:y?M(O):Promise.resolve(M(O));function T(t,e,n){Object.assign(t,e);var r=c.map((function(e){var n=t[e];return delete t[e],n}));n(),c.forEach((function(e,n){t[e]=r[n]}))}function E(e,n,o,a,l,c,u){var h=void 0,m={},y=void 0===n?"undefined":t(n),k=C?function(t){var r=u||a.type||g.getJSONType(n);C(Object.assign(t||m,{keypath:e,value:n,cyclic:o,stateObj:a,promisesData:l,resolvingTypesonPromise:c,awaitingTypesonPromise:p(n,_)},void 0!==r?{type:r}:{}))}:null;if(y in{string:1,boolean:1,number:1,undefined:1})return void 0===n||"number"===y&&(isNaN(n)||n===-1/0||n===1/0)?(h=A(e,n,a,l,!1,c,k))!==n&&(m={replaced:h}):h=n,k&&k(),h;if(null===n)return k&&k(),n;if(o&&!a.iterateIn&&!a.iterateUnsetNumeric){var S=w.indexOf(n);if(!(S<0))return v[e]="#",k&&k({cyclicKeypath:x[S]}),"#"+x[S];!0===o&&(w.push(n),x.push(e))}var O=f(n),M=i(n),P=(O||M)&&(!s.length||a.replaced)||a.iterateIn?n:A(e,n,a,l,O||M,null,k),D=void 0;if(P!==n?(h=P,m={replaced:P}):M||"array"===a.iterateIn?(D=new Array(n.length),m={clone:D}):O||"object"===a.iterateIn?m={clone:D={}}:""===e&&p(n,_)?(l.push([e,n,o,a,void 0,void 0,a.type]),h=n):h=n,k&&k(),d.iterateNone)return D||h;if(!D)return h;if(a.iterateIn){var N=function(t){var r={ownKeys:n.hasOwnProperty(t)};T(a,r,(function(){var r=e+(e?".":"")+b(t),i=E(r,n[t],!!o,a,l,c);p(i,_)?l.push([r,i,!!o,a,D,t,a.type]):void 0!==i&&(D[t]=i)}))};for(var I in n)N(I);k&&k({endIterateIn:!0,end:!0})}else r(n).forEach((function(t){var r=e+(e?".":"")+b(t);T(a,{ownKeys:!0},(function(){var e=E(r,n[t],!!o,a,l,c);p(e,_)?l.push([r,e,!!o,a,D,t,a.type]):void 0!==e&&(D[t]=e)}))})),k&&k({endIterateOwn:!0,end:!0});if(a.iterateUnsetNumeric){for(var L=n.length,B=function(t){if(!(t in n)){var r=e+(e?".":"")+t;T(a,{ownKeys:!1},(function(){var e=E(r,void 0,!!o,a,l,c);p(e,_)?l.push([r,e,!!o,a,D,t,a.type]):void 0!==e&&(D[t]=e)}))}},R=0;R<L;R++)B(R);k&&k({endIterateUnsetNumeric:!0,end:!0})}return D}function A(t,e,n,r,i,o,c){for(var u=i?s:a,h=u.length;h--;){var d=u[h];if(d.test(e,n)){var p=d.type;if(l[p]){var f=v[t];v[t]=f?[p].concat(f):p}return Object.assign(n,{type:p,replaced:!0}),!y&&d.replaceAsync||d.replace?(c&&c({replacing:!0}),E(t,d[y||!d.replaceAsync?"replace":"replaceAsync"](e,n),S&&"readonly",n,r,o,p)):(c&&c({typeDetected:!0}),E(t,e,S&&"readonly",n,r,o,p))}}return e}};this.encapsulateSync=function(t,e,n){return k(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.encapsulateAsync=function(t,e,n){return k(t,e,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))};var S=this.revive=function(t,n){var s=(n=Object.assign({sync:!0},o,n)).sync,a=t&&t.$types,c=!0;if(!a)return t;if(!0===a)return t.$;a.$&&f(a.$)&&(t=t.$,a=a.$,c=!1);var u=[],d={},m=function t(n,o,s,h,m,g){if(!c||"$types"!==n){var y=a[n];if(i(o)||f(o)){var v=i(o)?new Array(o.length):{};for(r(o).forEach((function(e){var r=t(n+(n?".":"")+b(e),o[e],s||v,h,v,e);p(r,x)?v[e]=void 0:void 0!==r&&(v[e]=r)})),o=v;u.length;){var _=e(u[0],4),k=_[0],S=_[1],C=_[2],O=_[3],M=w(k,S);if(p(M,x))C[O]=void 0;else{if(void 0===M)break;C[O]=M}u.splice(0,1)}}if(!y)return o;if("#"===y){var T=w(s,o.substr(1));return void 0===T&&u.push([s,o.substr(1),m,g]),T}var E=h.sync;return[].concat(y).reduce((function(t,e){var n=l[e];if(!n)throw new Error("Unregistered type: "+e);return n[E&&n.revive?"revive":!E&&n.reviveAsync?"reviveAsync":"revive"](t,d)}),o)}}("",t,null,n);return h(m=p(m,x)?void 0:m)?s&&n.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():m:!s&&n.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():s?m:Promise.resolve(m)};this.reviveSync=function(t,e){return S(t,Object.assign({},{throwOnBadSyncType:!0},e,{sync:!0}))},this.reviveAsync=function(t,e){return S(t,Object.assign({},{throwOnBadSyncType:!0},e,{sync:!1}))},this.register=function(t,e){return e=e||{},[].concat(t).forEach((function t(n){if(i(n))return n.map(t);n&&r(n).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(g.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var r=n[t],o=r.testPlainObjects?s:a,c=o.filter((function(e){return e.type===t}));if(c.length&&(o.splice(o.indexOf(c[0]),1),delete l[t],delete u[t]),r){if("function"==typeof r){var h=r;r={test:function(t){return t&&t.constructor===h},replace:function(t){return y({},t)},revive:function(t){return y(Object.create(h.prototype),t)}}}else i(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var d={type:t,test:r.test.bind(r)};r.replace&&(d.replace=r.replace.bind(r)),r.replaceAsync&&(d.replaceAsync=r.replaceAsync.bind(r));var p="number"==typeof e.fallback?e.fallback:e.fallback?0:1/0;if(r.testPlainObjects?s.splice(p,0,d):a.splice(p,0,d),r.revive||r.reviveAsync){var f={};r.revive&&(f.revive=r.revive.bind(r)),r.reviveAsync&&(f.reviveAsync=r.reviveAsync.bind(r)),l[t]=f}u[t]=r}}))})),this}}function y(t,e){return r(e).map((function(n){t[n]=e[n]})),t}function b(t){return t.replace(/~/g,"~0").replace(/\./g,"~1")}function v(t){return t.replace(/~1/g,".").replace(/~0/g,"~")}function w(t,e){if(""===e)return t;var n=e.indexOf(".");if(n>-1){var r=t[v(e.substr(0,n))];return void 0===r?void 0:w(r,e.substr(n+1))}return t[v(e)]}function x(){}function _(t){this.p=new Promise(t)}_.prototype.then=function(t,e){var n=this;return new _((function(r,i){n.p.then((function(e){r(t?t(e):e)}),(function(t){n.p.catch((function(t){return e?e(t):Promise.reject(t)})).then(r,i)}))}))},_.prototype.catch=function(t){return this.then(null,t)},_.resolve=function(t){return new _((function(e){e(t)}))},_.reject=function(t){return new _((function(e,n){n(t)}))},["all","race"].map((function(t){_[t]=function(e){return new _((function(n,r){Promise[t](e.map((function(t){return t.p}))).then(n,r)}))}})),g.Undefined=x,g.Promise=_,g.isThenable=h,g.toStringTag=d,g.hasConstructorOf=p,g.isObject=m,g.isPlainObject=f,g.isUserObject=function t(e){if(!e||"Object"!==d(e))return!1;var n=s(e);return!n||p(e,Object)||t(n)},g.escapeKeyPathComponent=b,g.unescapeKeyPathComponent=v,g.getByKeyPath=w,g.getJSONType=function(e){return null===e?"null":i(e)?"array":void 0===e?"undefined":t(e)},g.JSON_TYPES=["null","boolean","number","string","array","object"];for(var k={userObject:{test:function(t,e){return g.isUserObject(t)},replace:function(t){return Object.assign({},t)},revive:function(t){return t}}},S=[[{sparseArrays:{testPlainObjects:!0,test:function(t){return Array.isArray(t)},replace:function(t,e){return e.iterateUnsetNumeric=!0,t}}},{sparseUndefined:{test:function(t,e){return void 0===t&&!1===e.ownKeys},replace:function(t){return null},revive:function(t){}}}],{undef:{test:function(t,e){return void 0===t&&(e.ownKeys||!("ownKeys"in e))},replace:function(t){return null},revive:function(t){return new g.Undefined}}}],C={StringObject:{test:function(e){return"String"===g.toStringTag(e)&&"object"===(void 0===e?"undefined":t(e))},replace:function(t){return String(t)},revive:function(t){return new String(t)}},BooleanObject:{test:function(e){return"Boolean"===g.toStringTag(e)&&"object"===(void 0===e?"undefined":t(e))},replace:function(t){return Boolean(t)},revive:function(t){return new Boolean(t)}},NumberObject:{test:function(e){return"Number"===g.toStringTag(e)&&"object"===(void 0===e?"undefined":t(e))},replace:function(t){return Number(t)},revive:function(t){return new Number(t)}}},O=[{nan:{test:function(t){return"number"==typeof t&&isNaN(t)},replace:function(t){return"NaN"},revive:function(t){return NaN}}},{infinity:{test:function(t){return t===1/0},replace:function(t){return"Infinity"},revive:function(t){return 1/0}}},{negativeInfinity:{test:function(t){return t===-1/0},replace:function(t){return"-Infinity"},revive:function(t){return-1/0}}}],M={date:{test:function(t){return"Date"===g.toStringTag(t)},replace:function(t){var e=t.getTime();return isNaN(e)?"NaN":e},revive:function(t){return"NaN"===t?new Date(NaN):new Date(t)}}},T={regexp:{test:function(t){return"RegExp"===g.toStringTag(t)},replace:function(t){return{source:t.source,flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":"")}},revive:function(t){var e=t.source,n=t.flags;return new RegExp(e,n)}}},E={map:{test:function(t){return"Map"===g.toStringTag(t)},replace:function(t){return Array.from(t.entries())},revive:function(t){return new Map(t)}}},A={set:{test:function(t){return"Set"===g.toStringTag(t)},replace:function(t){return Array.from(t.values())},revive:function(t){return new Set(t)}}},P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=new Uint8Array(256),N=0;N<P.length;N++)D[P.charCodeAt(N)]=N;var I=function(t,e,n){for(var r=new Uint8Array(t,e,n),i=r.length,o="",s=0;s<i;s+=3)o+=P[r[s]>>2],o+=P[(3&r[s])<<4|r[s+1]>>4],o+=P[(15&r[s+1])<<2|r[s+2]>>6],o+=P[63&r[s+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},L=function(t){var e=t.length,n=.75*t.length,r=0,i=void 0,o=void 0,s=void 0,a=void 0;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);for(var l=new ArrayBuffer(n),c=new Uint8Array(l),u=0;u<e;u+=4)i=D[t.charCodeAt(u)],o=D[t.charCodeAt(u+1)],s=D[t.charCodeAt(u+2)],a=D[t.charCodeAt(u+3)],c[r++]=i<<2|o>>4,c[r++]=(15&o)<<4|s>>2,c[r++]=(3&s)<<6|63&a;return l},B={arraybuffer:{test:function(t){return"ArrayBuffer"===g.toStringTag(t)},replace:function(t,e){e.buffers||(e.buffers=[]);var n=e.buffers.indexOf(t);return n>-1?{index:n}:(e.buffers.push(t),I(t))},revive:function(e,n){if(n.buffers||(n.buffers=[]),"object"===(void 0===e?"undefined":t(e)))return n.buffers[e.index];var r=L(e);return n.buffers.push(r),r}}},R="undefined"==typeof self?u:self,j={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(t){var e=t,n=R[e];n&&(j[t.toLowerCase()]={test:function(t){return g.toStringTag(t)===e},replace:function(t,e){var n=t.buffer,r=t.byteOffset,i=t.length;e.buffers||(e.buffers=[]);var o=e.buffers.indexOf(n);return o>-1?{index:o,byteOffset:r,length:i}:(e.buffers.push(n),{encoded:I(n),byteOffset:r,length:i})},revive:function(t,e){e.buffers||(e.buffers=[]);var r=t.byteOffset,i=t.length,o=t.encoded,s=t.index,a=void 0;return"index"in t?a=e.buffers[s]:(a=L(o),e.buffers.push(a)),new n(a,r,i)}})}));var z={dataview:{test:function(t){return"DataView"===g.toStringTag(t)},replace:function(t,e){var n=t.buffer,r=t.byteOffset,i=t.byteLength;e.buffers||(e.buffers=[]);var o=e.buffers.indexOf(n);return o>-1?{index:o,byteOffset:r,byteLength:i}:(e.buffers.push(n),{encoded:I(n),byteOffset:r,byteLength:i})},revive:function(t,e){e.buffers||(e.buffers=[]);var n=t.byteOffset,r=t.byteLength,i=t.encoded,o=t.index,s=void 0;return"index"in t?s=e.buffers[o]:(s=L(i),e.buffers.push(s)),new DataView(s,n,r)}}},H={IntlCollator:{test:function(t){return g.hasConstructorOf(t,Intl.Collator)},replace:function(t){return t.resolvedOptions()},revive:function(t){return new Intl.Collator(t.locale,t)}},IntlDateTimeFormat:{test:function(t){return g.hasConstructorOf(t,Intl.DateTimeFormat)},replace:function(t){return t.resolvedOptions()},revive:function(t){return new Intl.DateTimeFormat(t.locale,t)}},IntlNumberFormat:{test:function(t){return g.hasConstructorOf(t,Intl.NumberFormat)},replace:function(t){return t.resolvedOptions()},revive:function(t){return new Intl.NumberFormat(t.locale,t)}}};function F(t){for(var e=new Uint16Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer}var $={file:{test:function(t){return"File"===g.toStringTag(t)},replace:function(t){var e=new XMLHttpRequest;if(e.open("GET",URL.createObjectURL(t),!1),"undefined"!=typeof TextEncoder&&e.overrideMimeType("text/plain; charset=utf-16le"),200!==e.status&&0!==e.status)throw new Error("Bad Blob access: "+e.status);return e.send(),{type:t.type,stringContents:e.responseText,name:t.name,lastModified:t.lastModified}},revive:function(t){var e=t.name,n=t.type,r=t.stringContents,i=t.lastModified,o=F(r);return new File([o],e,{type:n,lastModified:i})},replaceAsync:function(t){return new g.Promise((function(e,n){if(t.isClosed)n(new Error("The File is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){e({type:t.type,stringContents:r.result,name:t.name,lastModified:t.lastModified})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsText(t,"UTF-16")}}))}}};return[k,S,C,O,M,T,{imagedata:{test:function(t){return"ImageData"===g.toStringTag(t)},replace:function(t){return{array:Array.from(t.data),width:t.width,height:t.height}},revive:function(t){return new ImageData(new Uint8ClampedArray(t.array),t.width,t.height)}}},{imagebitmap:{test:function(t){return"ImageBitmap"===g.toStringTag(t)||t&&t.dataset&&"ImageBitmap"===t.dataset.toStringTag},replace:function(t){var e=document.createElement("canvas");return e.getContext("2d").drawImage(t,0,0),e.toDataURL()},revive:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=document.createElement("img");return r.onload=function(){n.drawImage(r,0,0)},r.src=t,e},reviveAsync:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=document.createElement("img");return r.onload=function(){n.drawImage(r,0,0)},r.src=t,createImageBitmap(e)}}},$,{file:$.file,filelist:{test:function(t){return"FileList"===g.toStringTag(t)},replace:function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t.item(n);return e},revive:function(t){function e(){this._files=arguments[0],this.length=this._files.length}return e.prototype.item=function(t){return this._files[t]},e.prototype[Symbol.toStringTag]="FileList",new e(t)}}},{blob:{test:function(t){return"Blob"===g.toStringTag(t)},replace:function(t){var e=new XMLHttpRequest;if(e.open("GET",URL.createObjectURL(t),!1),"undefined"!=typeof TextEncoder&&e.overrideMimeType("text/plain; charset=utf-16le"),200!==e.status&&0!==e.status)throw new Error("Bad Blob access: "+e.status);return e.send(),{type:t.type,stringContents:e.responseText}},revive:function(t){var e=t.type,n=t.stringContents;return new Blob([F(n)],{type:e})},replaceAsync:function(t){return new g.Promise((function(e,n){if(t.isClosed)n(new Error("The Blob is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){e({type:t.type,stringContents:r.result})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsText(t,"UTF-16")}}))}}}].concat("function"==typeof Map?E:[],"function"==typeof Set?A:[],"function"==typeof ArrayBuffer?B:[],"function"==typeof Uint8Array?j:[],"function"==typeof DataView?z:[],"undefined"!=typeof Intl?H:[])}))})),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=new Uint8Array(256),g=0;g<f.length;g++)m[f.charCodeAt(g)]=g;var y=function(t,e,n){null!==n&&void 0!==n||(n=t.byteLength);for(var r=new Uint8Array(t,e||0,n),i=r.length,o="",s=0;s<i;s+=3)o+=f[r[s]>>2],o+=f[(3&r[s])<<4|r[s+1]>>4],o+=f[(15&r[s+1])<<2|r[s+2]>>6],o+=f[63&r[s+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},b=function(t){var e,n,r,i,o=t.length,s=.75*t.length,a=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);for(var l=new ArrayBuffer(s),c=new Uint8Array(l),u=0;u<o;u+=4)e=m[t.charCodeAt(u)],n=m[t.charCodeAt(u+1)],r=m[t.charCodeAt(u+2)],i=m[t.charCodeAt(u+3)],c[a++]=e<<2|n>>4,c[a++]=(15&n)<<4|r>>2,c[a++]=(3&r)<<6|63&i;return l},v="undefined"===typeof self?global:self,w={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(t){var e=t,n=v[e];n&&(w[t.toLowerCase()+"2"]={test:function(t){return d.toStringTag(t)===e},replace:function(t){var e=t.buffer,n=t.byteOffset,r=t.length;return{buffer:e,byteOffset:n,length:r}},revive:function(t){var e=t.buffer,r=t.byteOffset,i=t.length;return new n(e,r,i)}})}));var x={arraybuffer:{test:function(t){return"ArrayBuffer"===d.toStringTag(t)},replace:function(t){return y(t,0,t.byteLength)},revive:function(t){var e=b(t);return e}}},_=(new d).register(p),k="FileReaderSync"in self,S=[],C=0;_.register([x,w,{blob2:{test:function(t){return"Blob"===d.toStringTag(t)},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(k){var e=c(t,"binary"),n=y(e,0,e.byteLength);return{type:t.type,data:n}}S.push(t);var r={type:t.type,data:{start:C,end:C+t.size}};return console.log("b.size: "+t.size),C+=t.size,r},finalize:function(t,e){t.data=y(e,0,e.byteLength)},revive:function(t){var e=t.type,n=t.data;return new Blob([b(n)],{type:e})}}}]),_.mustFinalize=function(){return S.length>0},_.finalize=function(t){return i(void 0,void 0,void 0,(function(){var e,n,i,s,a,c,u,h,d,p;return o(this,(function(o){switch(o.label){case 0:return[4,l(new Blob(S),"binary")];case 1:if(e=o.sent(),t)for(n=0,i=t;n<i.length;n++)if(s=i[n],s.$types)for(u in a=s.$types,c=a.$,c&&(a=a.$),a)h=a[u],d=_.types[h],d&&d.finalize&&(p=r.ZP.getByKeyPath(s,c?"$."+u:u),d.finalize(p,e.slice(p.start,p.end)));return S=[],[2]}}))}))};var O=2e3;function M(t,e){return i(this,void 0,void 0,(function(){function n(){return i(this,void 0,void 0,(function(){var n,i,s,p,f,m,g,y,b;return o(this,(function(v){switch(v.label){case 0:return[4,Promise.all(t.tables.map((function(t){return t.count()})))];case 1:n=v.sent(),n.forEach((function(t,e){return l[e].rowCount=t})),d.totalRows=n.reduce((function(t,e){return t+e})),i=JSON.stringify(u,void 0,c?2:void 0),s=i.lastIndexOf("]"),p=i.substring(0,s),a.push(p),f=e.filter,m=function(n){var i,s,l,u,p,m,g,y,b,v,w,x;return o(this,(function(k){switch(k.label){case 0:i=t.table(n),s=i.schema.primKey,l=!!s.keyPath,u=e.numRowsPerChunk||O,p=l?{tableName:i.name,inbound:!0,rows:[]}:{tableName:i.name,inbound:!1,rows:[]},m=JSON.stringify(p,void 0,c?2:void 0),c&&(m=m.split("\n").join("\n    ")),g=m.lastIndexOf("]"),a.push(m.substring(0,g)),y=null,b=0,v=!0,w=function(){var t,e,p,m,g,w,x,k;return o(this,(function(o){switch(o.label){case 0:return h&&r.ZP.ignoreTransaction((function(){return h(d)})),t=null==y?i.limit(u):i.where(":id").above(y).limit(u),[4,t.toArray()];case 1:return e=o.sent(),0===e.length?[2,"break"]:(null!=y&&b>0&&(a.push(","),c&&a.push("\n      ")),v=e.length===u,l?(p=f?e.filter((function(t){return f(n,t)})):e,m=p.map((function(t){return _.encapsulate(t)})),_.mustFinalize()?[4,r.ZP.waitFor(_.finalize(m))]:[3,3]):[3,4]);case 2:o.sent(),o.label=3;case 3:return k=JSON.stringify(m,void 0,c?2:void 0),c&&(k=k.split("\n").join("\n      ")),a.push(new Blob([k.substring(1,k.length-1)])),b=p.length,y=e.length>0?r.ZP.getByKeyPath(e[e.length-1],s.keyPath):null,[3,8];case 4:return[4,t.primaryKeys()];case 5:return g=o.sent(),w=g.map((function(t,n){return[t,e[n]]})),f&&(w=w.filter((function(t){var e=t[0],r=t[1];return f(n,r,e)}))),x=w.map((function(t){return _.encapsulate(t)})),_.mustFinalize()?[4,r.ZP.waitFor(_.finalize(x))]:[3,7];case 6:o.sent(),o.label=7;case 7:k=JSON.stringify(x,void 0,c?2:void 0),c&&(k=k.split("\n").join("\n      ")),a.push(new Blob([k.substring(1,k.length-1)])),b=w.length,y=g.length>0?g[g.length-1]:null,o.label=8;case 8:return d.completedRows+=e.length,[2]}}))},k.label=1;case 1:return v?[5,w()]:[3,3];case 2:return x=k.sent(),"break"===x?[3,3]:[3,1];case 3:return a.push(m.substr(g)),d.completedTables+=1,d.completedTables<d.totalTables&&a.push(","),[2]}}))},g=0,y=l,v.label=2;case 2:return g<y.length?(b=y[g].name,[5,m(b)]):[3,5];case 3:v.sent(),v.label=4;case 4:return g++,[3,2];case 5:return a.push(i.substr(s)),d.done=!0,h&&r.ZP.ignoreTransaction((function(){return h(d)})),[2]}}))}))}var a,l,c,u,h,d;return o(this,(function(i){switch(i.label){case 0:e=e||{},a=[],l=t.tables.map((function(t){return{name:t.name,schema:s(t),rowCount:0}})),c=e.prettyJson,u={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:l,data:[]}},h=e.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:t.tables.length},i.label=1;case 1:return i.trys.push([1,,6,7]),e.noTransaction?[4,n()]:[3,3];case 2:return i.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,n)];case 4:i.sent(),i.label=5;case 5:return[3,7];case 6:return _.finalize(),[7];case 7:return h&&r.ZP.ignoreTransaction((function(){return h(d)})),[2,new Blob(a,{type:"text/json"})]}}))}))}var T=1,E={Stream:function(){}},A=h((function(t,e){(function(t){var e="object"===typeof process?{NODE_ENV:"production",BASE_URL:""}:self;t.parser=function(t){return new h(t)},t.CParser=h,t.CStream=p,t.createStream=d,t.MAX_BUFFER_LENGTH=10485760,t.DEBUG="debug"===e.CDEBUG,t.INFO="debug"===e.CDEBUG||"info"===e.CDEBUG,t.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var n,r={textNode:void 0,numberNode:""},i=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t})),o=0;for(var s in t.STATE={BEGIN:o++,VALUE:o++,OPEN_OBJECT:o++,CLOSE_OBJECT:o++,OPEN_ARRAY:o++,CLOSE_ARRAY:o++,TEXT_ESCAPE:o++,STRING:o++,BACKSLASH:o++,END:o++,OPEN_KEY:o++,CLOSE_KEY:o++,TRUE:o++,TRUE2:o++,TRUE3:o++,FALSE:o++,FALSE2:o++,FALSE3:o++,FALSE4:o++,NULL:o++,NULL2:o++,NULL3:o++,NUMBER_DECIMAL_POINT:o++,NUMBER_DIGIT:o++},t.STATE)t.STATE[t.STATE[s]]=s;o=t.STATE;const a={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};function l(e){var n=Math.max(t.MAX_BUFFER_LENGTH,10),i=0;for(var o in r){var s=void 0===e[o]?0:e[o].length;if(s>n)switch(o){case"text":closeText(e);break;default:v(e,"Max buffer length exceeded: "+o)}i=Math.max(i,s)}e.bufferCheckPosition=t.MAX_BUFFER_LENGTH-i+e.position}function c(t){for(var e in r)t[e]=r[e]}Object.create||(Object.create=function(t){function e(){this["__proto__"]=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t["__proto__"]}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e});var u=/[\\"\n]/g;function h(e){if(!(this instanceof h))return new h(e);var n=this;c(n),n.bufferCheckPosition=t.MAX_BUFFER_LENGTH,n.q=n.c=n.p="",n.opt=e||{},n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.state=o.BEGIN,n.stack=new Array,n.position=n.column=0,n.line=1,n.slashed=!1,n.unicodeI=0,n.unicodeS=null,n.depth=0,f(n,"onready")}h.prototype={end:function(){w(this)},write:_,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{n=E.Stream}catch(k){n=function(){}}function d(t){return new p(t)}function p(t){if(!(this instanceof p))return new p(t);this._parser=new h(t),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var e=this;n.apply(e),this._parser.onend=function(){e.emit("end")},this._parser.onerror=function(t){e.emit("error",t),e._parser.error=null},i.forEach((function(t){Object.defineProperty(e,"on"+t,{get:function(){return e._parser["on"+t]},set:function(n){if(!n)return e.removeAllListeners(t),e._parser["on"+t]=n,n;e.on(t,n)},enumerable:!0,configurable:!1})}))}function f(e,n,r){t.INFO&&console.log("-- emit",n,r),e[n]&&e[n](r)}function m(t,e,n){g(t),f(t,e,n)}function g(t,e){t.textNode=b(t.opt,t.textNode),void 0!==t.textNode&&f(t,e||"onvalue",t.textNode),t.textNode=void 0}function y(t){t.numberNode&&f(t,"onvalue",parseFloat(t.numberNode)),t.numberNode=""}function b(t,e){return void 0===e||(t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," "))),e}function v(t,e){return g(t),e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c,e=new Error(e),t.error=e,f(t,"onerror",e),t}function w(t){return t.state===o.VALUE&&0===t.depth||v(t,"Unexpected end"),g(t),t.c="",t.closed=!0,f(t,"onend"),h.call(t,t.opt),t}function x(t){return t===a.carriageReturn||t===a.lineFeed||t===a.space||t===a.tab}function _(e){var n=this;if(this.error)throw this.error;if(n.closed)return v(n,"Cannot write after close. Assign an onready handler.");if(null===e)return w(n);var r=0,i=e.charCodeAt(0),s=n.p;t.DEBUG&&console.log("write -> ["+e+"]");while(i){if(s=i,n.c=i=e.charCodeAt(r++),s!==i?n.p=s:s=n.p,!i)break;switch(t.DEBUG&&console.log(r,i,t.STATE[n.state]),n.position++,i===a.lineFeed?(n.line++,n.column=0):n.column++,n.state){case o.BEGIN:i===a.openBrace?n.state=o.OPEN_OBJECT:i===a.openBracket?n.state=o.OPEN_ARRAY:x(i)||v(n,"Non-whitespace before {[.");continue;case o.OPEN_KEY:case o.OPEN_OBJECT:if(x(i))continue;if(n.state===o.OPEN_KEY)n.stack.push(o.CLOSE_KEY);else{if(i===a.closeBrace){f(n,"onopenobject"),this.depth++,f(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||o.VALUE;continue}n.stack.push(o.CLOSE_OBJECT)}i===a.doubleQuote?n.state=o.STRING:v(n,'Malformed object key should start with "');continue;case o.CLOSE_KEY:case o.CLOSE_OBJECT:if(x(i))continue;n.state,o.CLOSE_KEY,i===a.colon?(n.state===o.CLOSE_OBJECT?(n.stack.push(o.CLOSE_OBJECT),g(n,"onopenobject"),this.depth++):g(n,"onkey"),n.state=o.VALUE):i===a.closeBrace?(m(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||o.VALUE):i===a.comma?(n.state===o.CLOSE_OBJECT&&n.stack.push(o.CLOSE_OBJECT),g(n),n.state=o.OPEN_KEY):v(n,"Bad object");continue;case o.OPEN_ARRAY:case o.VALUE:if(x(i))continue;if(n.state===o.OPEN_ARRAY){if(f(n,"onopenarray"),this.depth++,n.state=o.VALUE,i===a.closeBracket){f(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||o.VALUE;continue}n.stack.push(o.CLOSE_ARRAY)}i===a.doubleQuote?n.state=o.STRING:i===a.openBrace?n.state=o.OPEN_OBJECT:i===a.openBracket?n.state=o.OPEN_ARRAY:i===a.t?n.state=o.TRUE:i===a.f?n.state=o.FALSE:i===a.n?n.state=o.NULL:i===a.minus?n.numberNode+="-":a._0<=i&&i<=a._9?(n.numberNode+=String.fromCharCode(i),n.state=o.NUMBER_DIGIT):v(n,"Bad value");continue;case o.CLOSE_ARRAY:if(i===a.comma)n.stack.push(o.CLOSE_ARRAY),g(n,"onvalue"),n.state=o.VALUE;else if(i===a.closeBracket)m(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||o.VALUE;else{if(x(i))continue;v(n,"Bad array")}continue;case o.STRING:void 0===n.textNode&&(n.textNode="");var c=r-1,h=n.slashed,d=n.unicodeI;t:while(1){t.DEBUG&&console.log(r,i,t.STATE[n.state],h);while(d>0)if(n.unicodeS+=String.fromCharCode(i),i=e.charCodeAt(r++),n.position++,4===d?(n.textNode+=String.fromCharCode(parseInt(n.unicodeS,16)),d=0,c=r-1):d++,!i)break t;if(i===a.doubleQuote&&!h){n.state=n.stack.pop()||o.VALUE,n.textNode+=e.substring(c,r-1),n.position+=r-1-c;break}if(i===a.backslash&&!h&&(h=!0,n.textNode+=e.substring(c,r-1),n.position+=r-1-c,i=e.charCodeAt(r++),n.position++,!i))break;if(h){if(h=!1,i===a.n?n.textNode+="\n":i===a.r?n.textNode+="\r":i===a.t?n.textNode+="\t":i===a.f?n.textNode+="\f":i===a.b?n.textNode+="\b":i===a.u?(d=1,n.unicodeS=""):n.textNode+=String.fromCharCode(i),i=e.charCodeAt(r++),n.position++,c=r-1,i)continue;break}u.lastIndex=r;var p=u.exec(e);if(null===p){r=e.length+1,n.textNode+=e.substring(c,r-1),n.position+=r-1-c;break}if(r=p.index+1,i=e.charCodeAt(p.index),!i){n.textNode+=e.substring(c,r-1),n.position+=r-1-c;break}}n.slashed=h,n.unicodeI=d;continue;case o.TRUE:i===a.r?n.state=o.TRUE2:v(n,"Invalid true started with t"+i);continue;case o.TRUE2:i===a.u?n.state=o.TRUE3:v(n,"Invalid true started with tr"+i);continue;case o.TRUE3:i===a.e?(f(n,"onvalue",!0),n.state=n.stack.pop()||o.VALUE):v(n,"Invalid true started with tru"+i);continue;case o.FALSE:i===a.a?n.state=o.FALSE2:v(n,"Invalid false started with f"+i);continue;case o.FALSE2:i===a.l?n.state=o.FALSE3:v(n,"Invalid false started with fa"+i);continue;case o.FALSE3:i===a.s?n.state=o.FALSE4:v(n,"Invalid false started with fal"+i);continue;case o.FALSE4:i===a.e?(f(n,"onvalue",!1),n.state=n.stack.pop()||o.VALUE):v(n,"Invalid false started with fals"+i);continue;case o.NULL:i===a.u?n.state=o.NULL2:v(n,"Invalid null started with n"+i);continue;case o.NULL2:i===a.l?n.state=o.NULL3:v(n,"Invalid null started with nu"+i);continue;case o.NULL3:i===a.l?(f(n,"onvalue",null),n.state=n.stack.pop()||o.VALUE):v(n,"Invalid null started with nul"+i);continue;case o.NUMBER_DECIMAL_POINT:i===a.period?(n.numberNode+=".",n.state=o.NUMBER_DIGIT):v(n,"Leading zero not followed by .");continue;case o.NUMBER_DIGIT:a._0<=i&&i<=a._9?n.numberNode+=String.fromCharCode(i):i===a.period?(-1!==n.numberNode.indexOf(".")&&v(n,"Invalid number has two dots"),n.numberNode+="."):i===a.e||i===a.E?(-1===n.numberNode.indexOf("e")&&-1===n.numberNode.indexOf("E")||v(n,"Invalid number has two exponential"),n.numberNode+="e"):i===a.plus||i===a.minus?(s!==a.e&&s!==a.E&&v(n,"Invalid symbol in number"),n.numberNode+=String.fromCharCode(i)):(y(n),r--,n.state=n.stack.pop()||o.VALUE);continue;default:v(n,"Unknown state: "+n.state)}}return n.position>=n.bufferCheckPosition&&l(n),n}p.prototype=Object.create(n.prototype,{constructor:{value:p}}),p.prototype.write=function(t){t=new Buffer(t);for(var e=0;e<t.length;e++){var n=t[e];if(this.bytes_remaining>0){for(var r=0;r<this.bytes_remaining;r++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+r]=t[r];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,e=e+r-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&n>=128){if(n>=194&&n<=223&&(this.bytes_in_sequence=2),n>=224&&n<=239&&(this.bytes_in_sequence=3),n>=240&&n<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+e>t.length){for(var i=0;i<=t.length-1-e;i++)this.temp_buffs[this.bytes_in_sequence][i]=t[e+i];return this.bytes_remaining=e+this.bytes_in_sequence-t.length,!0}this.string=t.slice(e,e+this.bytes_in_sequence).toString(),e=e+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var o=e;o<t.length;o++)if(t[o]>=128)break;this.string=t.slice(e,o).toString(),this._parser.write(this.string),this.emit("data",this.string),e=o-1}}},p.prototype.end=function(t){return t&&t.length&&this._parser.write(t.toString()),this._parser.end(),!0},p.prototype.on=function(t,e){var r=this;return r._parser["on"+t]||-1===i.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),n.prototype.on.call(r,t,e)},p.prototype.destroy=function(){c(this._parser),this.emit("close")}})(e)}));function P(t){var e=0,n=D(!0),r={pullAsync:function(s){return i(this,void 0,void 0,(function(){var i,a,c;return o(this,(function(o){switch(o.label){case 0:return i=t.slice(e,e+s),e+=s,[4,l(i,"text")];case 1:return a=o.sent(),c=n.write(a),r.result=c||{},[2,c]}}))}))},pullSync:function(i){var o=t.slice(e,e+i);e+=i;var s=c(o,"text"),a=n.write(s);return r.result=a||{},a},done:function(){return n.done()},eof:function(){return e>=t.size},result:{}};return r}function D(t){var e,n,r,i=A.parser(),o=0,s=[],a=!1,l=!1;return i.onopenobject=function(i){var a={incomplete:!0};e||(e=a),n&&(s.push([r,n,l]),t&&(l?n.push(a):n[r]=a)),n=a,r=i,l=!1,++o},i.onkey=function(t){return r=t},i.onvalue=function(t){return l?n.push(t):n[r]=t},i.oncloseobject=function(){var e;if(delete n.incomplete,r=null,0===--o)a=!0;else{var i=n;e=s.pop(),r=e[0],n=e[1],l=e[2],t||(l?n.push(i):n[r]=i)}},i.onopenarray=function(){var i=[];i.incomplete=!0,e||(e=i),n&&(s.push([r,n,l]),t&&(l?n.push(i):n[r]=i)),n=i,l=!0,r=null,++o},i.onclosearray=function(){var e;if(delete n.incomplete,r=null,0===--o)a=!0;else{var i=n;e=s.pop(),r=e[0],n=e[1],l=e[2],t||(l?n.push(i):n[r]=i)}},{write:function(t){return i.write(t),e},done:function(){return a}}}var N=1024;function I(t,e){return i(this,void 0,void 0,(function(){var n,i,s,l;return o(this,(function(o){switch(o.label){case 0:return e=e||{},n=e.chunkSizeBytes||1024*N,[4,B(t,n)];case 1:return i=o.sent(),s=i.result.data,l=new r.ZP(s.databaseName),l.version(s.databaseVersion).stores(a(s)),[4,L(l,i,e)];case 2:return o.sent(),[2,l]}}))}))}function L(t,e,n){return i(this,void 0,void 0,(function(){function s(){return i(this,void 0,void 0,(function(){var e,i,s,c,f;return o(this,(function(m){switch(m.label){case 0:e=function(e){var i,s,a,l,c,u,f,m,g,y,b,v;return o(this,(function(o){switch(o.label){case 0:if(!e.rows)return[2,"break"];if(!e.rows.incomplete&&0===e.rows.length)return[2,"continue"];if(d&&r.ZP.ignoreTransaction((function(){return d(p)})),i=e.tableName,s=t.table(i),a=h.tables.filter((function(t){return t.name===i}))[0].schema,!s){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+e.tableName+" is missing in installed database")}if(!n.acceptChangedPrimaryKey&&a.split(",")[0]!=s.schema.primKey.src)throw new Error("Primary key differs for table "+e.tableName+". ");for(l=e.rows,c=[],u=0;u<l.length;u++){if(f=l[u],f.incomplete)break;c.push(_.revive(f))}return m=n.filter,g=m?e.inbound?c.filter((function(t){return m(i,t)})):c.filter((function(t){var e=t[0],n=t[1];return m(i,n,e)})):c,y=e.inbound?[void 0,g]:[g.map((function(t){return t[0]})),c.map((function(t){return t[1]}))],b=y[0],v=y[1],n.overwriteValues?[4,s.bulkPut(v,b)]:[3,2];case 1:return o.sent(),[3,4];case 2:return[4,s.bulkAdd(v,b)];case 3:o.sent(),o.label=4;case 4:return p.completedRows+=c.length,c.incomplete||(p.completedTables+=1),l.splice(0,c.length),[2]}}))},i=0,s=h.data,m.label=1;case 1:return i<s.length?(c=s[i],[5,e(c)]):[3,4];case 2:if(f=m.sent(),"break"===f)return[3,4];m.label=3;case 3:return i++,[3,1];case 4:while(h.data.length>0&&h.data[0].rows&&!h.data[0].rows.incomplete)h.data.splice(0,1);return l.done()||l.eof()?[3,8]:u?(l.pullSync(a),[3,7]):[3,5];case 5:return[4,r.ZP.waitFor(l.pullAsync(a))];case 6:m.sent(),m.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}}))}))}var a,l,c,u,h,d,p,f,m,g;return o(this,(function(i){switch(i.label){case 0:return n=n||{},a=n.chunkSizeBytes||1024*N,[4,B(e,a)];case 1:if(l=i.sent(),c=l.result,u="FileReaderSync"in self,h=c.data,!n.acceptNameDiff&&t.name!==h.databaseName)throw new Error("Name differs. Current database name is "+t.name+" but export is "+h.databaseName);if(!n.acceptVersionDiff&&t.verno!==h.databaseVersion)throw new Error("Database version differs. Current database is in version "+t.verno+" but export is "+h.databaseVersion);if(d=n.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:h.tables.reduce((function(t,e){return t+e.rowCount}),0),totalTables:h.tables.length},d&&r.ZP.ignoreTransaction((function(){return d(p)})),!n.clearTablesBeforeImport)return[3,5];f=0,m=t.tables,i.label=2;case 2:return f<m.length?(g=m[f],[4,g.clear()]):[3,5];case 3:i.sent(),i.label=4;case 4:return f++,[3,2];case 5:return n.noTransaction?[4,s()]:[3,7];case 6:return i.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,s)];case 8:i.sent(),i.label=9;case 9:return p.done=!0,d&&r.ZP.ignoreTransaction((function(){return d(p)})),[2]}}))}))}function B(t,e){return i(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:n="slice"in t?P(t):t,i.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(e)];case 2:return i.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(r=n.result,!r||"dexie"!=r.formatName)throw new Error("Given file is not a dexie export");if(r.formatVersion>T)throw new Error("Format version "+r.formatVersion+" not supported");if(!r.data)throw new Error("No data in export file");if(!r.data.databaseName)throw new Error("Missing databaseName in export file");if(!r.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!r.data.tables)throw new Error("Missing tables in export file");return[2,n]}}))}))}r.ZP.prototype.export=function(t){return M(this,t)},r.ZP.prototype.import=function(t,e){return L(this,t,e)},r.ZP.import=function(t,e){return I(t,e)}},9520:function(t,e,n){"use strict";n.d(e,{Y1:function(){return ir},ZP:function(){return tr}});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,i=Object.keys,o=Array.isArray;function s(t,e){return"object"!=typeof e||i(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);const a=Object.getPrototypeOf,l={}.hasOwnProperty;function c(t,e){return l.call(t,e)}function u(t,e){"function"==typeof e&&(e=e(a(t))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(e).forEach((n=>{d(t,n,e[n])}))}const h=Object.defineProperty;function d(t,e,n,r){h(t,e,s(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(t){return{from:function(e){return t.prototype=Object.create(e.prototype),d(t.prototype,"constructor",t),{extend:u.bind(null,t.prototype)}}}}const f=Object.getOwnPropertyDescriptor;function m(t,e){let n;return f(t,e)||(n=a(t))&&m(n,e)}const g=[].slice;function y(t,e,n){return g.call(t,e,n)}function b(t,e){return e(t)}function v(t){if(!t)throw new Error("Assertion Failed")}function w(t){r.setImmediate?setImmediate(t):setTimeout(t,0)}function x(t,e){return t.reduce(((t,n,r)=>{var i=e(n,r);return i&&(t[i[0]]=i[1]),t}),{})}function _(t,e){if(c(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,i=e.length;r<i;++r){var o=_(t,e[r]);n.push(o)}return n}var s=e.indexOf(".");if(-1!==s){var a=t[e.substr(0,s)];return void 0===a?void 0:_(a,e.substr(s+1))}}function k(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){v("string"!=typeof n&&"length"in n);for(var r=0,i=e.length;r<i;++r)k(t,e[r],n[r])}else{var s=e.indexOf(".");if(-1!==s){var a=e.substr(0,s),l=e.substr(s+1);if(""===l)void 0===n?o(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var u=t[a];u&&c(t,a)||(u=t[a]={}),k(u,l,n)}}else void 0===n?o(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function S(t){var e={};for(var n in t)c(t,n)&&(e[n]=t[n]);return e}const C=[].concat;function O(t){return C.apply([],t)}const M="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(O([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((t=>r[t])),T=M.map((t=>r[t]));x(M,(t=>[t,!0]));let E=null;function A(t){E="undefined"!=typeof WeakMap&&new WeakMap;const e=P(t);return E=null,e}function P(t){if(!t||"object"!=typeof t)return t;let e=E&&E.get(t);if(e)return e;if(o(t)){e=[],E&&E.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(P(t[n]))}else if(T.indexOf(t.constructor)>=0)e=t;else{const n=a(t);for(var i in e=n===Object.prototype?{}:Object.create(n),E&&E.set(t,e),t)c(t,i)&&(e[i]=P(t[i]))}return e}const{toString:D}={};function N(t){return D.call(t).slice(8,-1)}const I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",L="symbol"==typeof I?function(t){var e;return null!=t&&(e=t[I])&&e.apply(t)}:function(){return null},B={};function R(t){var e,n,r,i;if(1===arguments.length){if(o(t))return t.slice();if(this===B&&"string"==typeof t)return[t];if(i=L(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const j="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var z="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function H(t,e){z=t,F=e}var F=()=>!0;const $=!new Error("").stack;function V(){if($)try{throw V.arguments,new Error}catch(r){return r}return new Error}function W(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(F).map((t=>"\n"+t)).join("")):""}var q=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],U=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(q),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Y(t,e){this._e=V(),this.name=t,this.message=e}function J(t,e){return t+". Errors: "+Object.keys(e).map((t=>e[t].toString())).filter(((t,e,n)=>n.indexOf(t)===e)).join("\n")}function G(t,e,n,r){this._e=V(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=J(t,e)}function X(t,e){this._e=V(),this.name="BulkError",this.failures=Object.keys(e).map((t=>e[t])),this.failuresByPos=e,this.message=J(t,e)}p(Y).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+W(this._e,2))}},toString:function(){return this.name+": "+this.message}}),p(G).from(Y),p(X).from(Y);var Z=U.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const Q=Y;var tt=U.reduce(((t,e)=>{var n=e+"Error";function r(t,r){this._e=V(),this.name=n,t?"string"==typeof t?(this.message=`${t}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof t&&(this.message=`${t.name} ${t.message}`,this.inner=t):(this.message=K[e]||n,this.inner=null)}return p(r).from(Q),t[e]=r,t}),{});tt.Syntax=SyntaxError,tt.Type=TypeError,tt.Range=RangeError;var et=q.reduce(((t,e)=>(t[e+"Error"]=tt[e],t)),{}),nt=U.reduce(((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=tt[e]),t)),{});function rt(){}function it(t){return t}function ot(t,e){return null==t||t===it?e:function(n){return e(t(n))}}function st(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function at(t,e){return t===rt?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?st(r,this.onsuccess):r),i&&(this.onerror=this.onerror?st(i,this.onerror):i),void 0!==o?o:n}}function lt(t,e){return t===rt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?st(n,this.onsuccess):n),r&&(this.onerror=this.onerror?st(r,this.onerror):r)}}function ct(t,e){return t===rt?e:function(n){var r=t.apply(this,arguments);s(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?st(i,this.onsuccess):i),o&&(this.onerror=this.onerror?st(o,this.onerror):o),void 0===r?void 0===a?void 0:a:s(r,a)}}function ut(t,e){return t===rt?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function ht(t,e){return t===rt?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return e.apply(r,o)}))}return e.apply(this,arguments)}}nt.ModifyError=G,nt.DexieError=Y,nt.BulkError=X;var dt={};const pt=100,[ft,mt,gt]="undefined"==typeof Promise?[]:(()=>{let t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,a(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,a(e),t]})(),yt=mt&&mt.then,bt=ft&&ft.constructor,vt=!!gt;var wt=!1,xt=gt?()=>{gt.then(Wt)}:r.setImmediate?setImmediate.bind(null,Wt):r.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{Wt(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Wt,0)},_t=function(t,e){Pt.push([t,e]),St&&(xt(),St=!1)},kt=!0,St=!0,Ct=[],Ot=[],Mt=null,Tt=it,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:me,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{me(t[0],t[1])}catch(t){}}))}},At=Et,Pt=[],Dt=0,Nt=[];function It(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=rt,this._lib=!1;var e=this._PSD=At;if(z&&(this._stackHolder=V(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==dt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&jt(this,this._value))}this._state=null,this._value=null,++e.ref,Rt(this,t)}const Lt={get:function(){var t=At,e=te;function n(n,r){var i=!t.global&&(t!==At||e!==te);const o=i&&!ie();var s=new It(((e,s)=>{Ht(this,new Bt(de(n,t,i,o),de(r,t,i,o),e,s,t))}));return z&&Vt(s,this),s}return n.prototype=dt,n},set:function(t){d(this,"then",t&&t.prototype===dt?Lt:{get:function(){return t},set:Lt.set})}};function Bt(t,e,n,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=i}function Rt(t,e){try{e((e=>{if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&qt();e&&"function"==typeof e.then?Rt(t,((t,n)=>{e instanceof It?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,zt(t)),n&&Ut()}}),jt.bind(null,t))}catch(e){jt(t,e)}}function jt(t,e){if(Ot.push(e),null===t._state){var n=t._lib&&qt();e=Tt(e),t._state=!1,t._value=e,z&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}((()=>{var n=m(e,"stack");e._promise=t,d(e,"stack",{get:()=>wt?n&&(n.get?n.get.apply(e):n.value):t.stack})})),function(t){Ct.some((e=>e._value===t._value))||Ct.push(t)}(t),zt(t),n&&Ut()}}function zt(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Ht(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),0===Dt&&(++Dt,_t((()=>{0==--Dt&&Kt()}),[]))}function Ht(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Dt,_t(Ft,[n,t,e])}else t._listeners.push(e)}function Ft(t,e,n){try{Mt=e;var r,i=e._value;e._state?r=t(i):(Ot.length&&(Ot=[]),r=t(i),-1===Ot.indexOf(i)&&function(t){for(var e=Ct.length;e;)if(Ct[--e]._value===t._value)return void Ct.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{Mt=null,0==--Dt&&Kt(),--n.psd.ref||n.psd.finalize()}}function $t(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var i,o,s=t._value;null!=s?(i=s.name||"Error",o=s.message||s,r=W(s,0)):(i=s,o=""),e.push(i+(o?": "+o:"")+r)}return z&&((r=W(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&$t(t._prev,e,n)),e}function Vt(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Wt(){qt()&&Ut()}function qt(){var t=kt;return kt=!1,St=!1,t}function Ut(){var t,e,n;do{for(;Pt.length>0;)for(t=Pt,Pt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(Pt.length>0);kt=!0,St=!0}function Kt(){var t=Ct;Ct=[],t.forEach((t=>{t._PSD.onunhandled.call(null,t._value,t)}));for(var e=Nt.slice(0),n=e.length;n;)e[--n]()}function Yt(t){return new It(dt,!1,t)}function Jt(t,e){var n=At;return function(){var r=qt(),i=At;try{return le(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{le(i,!1),r&&Ut()}}}u(It.prototype,{then:Lt,_then:function(t,e){Ht(this,new Bt(null,null,t,e,At))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(t=>t instanceof e?n(t):Yt(t))):this.then(null,(t=>t&&t.name===e?n(t):Yt(t)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),Yt(e))))},stack:{get:function(){if(this._stack)return this._stack;try{wt=!0;var t=$t(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{wt=!1}}},timeout:function(t,e){return t<1/0?new It(((n,r)=>{var i=setTimeout((()=>r(new tt.Timeout(e))),t);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(It.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=ce(),u(It,{all:function(){var t=R.apply(null,arguments).map(oe);return new It((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach(((i,o)=>It.resolve(i).then((n=>{t[o]=n,--r||e(t)}),n)))}))},resolve:t=>{if(t instanceof It)return t;if(t&&"function"==typeof t.then)return new It(((e,n)=>{t.then(e,n)}));var e=new It(dt,!0,t);return Vt(e,Mt),e},reject:Yt,race:function(){var t=R.apply(null,arguments).map(oe);return new It(((e,n)=>{t.map((t=>It.resolve(t).then(e,n)))}))},PSD:{get:()=>At,set:t=>At=t},totalEchoes:{get:()=>te},newPSD:ne,usePSD:ue,scheduler:{get:()=>_t,set:t=>{_t=t}},rejectionMapper:{get:()=>Tt,set:t=>{Tt=t}},follow:(t,e)=>new It(((n,r)=>ne(((e,n)=>{var r=At;r.unhandleds=[],r.onunhandled=n,r.finalize=st((function(){!function(t){function e(){t(),Nt.splice(Nt.indexOf(e),1)}Nt.push(e),++Dt,_t((()=>{0==--Dt&&Kt()}),[])}((()=>{0===this.unhandleds.length?e():n(this.unhandleds[0])}))}),r.finalize),t()}),e,n,r)))}),bt&&(bt.allSettled&&d(It,"allSettled",(function(){const t=R.apply(null,arguments).map(oe);return new It((e=>{0===t.length&&e([]);let n=t.length;const r=new Array(n);t.forEach(((t,i)=>It.resolve(t).then((t=>r[i]={status:"fulfilled",value:t}),(t=>r[i]={status:"rejected",reason:t})).then((()=>--n||e(r)))))}))})),bt.any&&"undefined"!=typeof AggregateError&&d(It,"any",(function(){const t=R.apply(null,arguments).map(oe);return new It(((e,n)=>{0===t.length&&n(new AggregateError([]));let r=t.length;const i=new Array(r);t.forEach(((t,o)=>It.resolve(t).then((t=>e(t)),(t=>{i[o]=t,--r||n(new AggregateError(i))}))))}))})));const Gt={awaits:0,echoes:0,id:0};var Xt=0,Zt=[],Qt=0,te=0,ee=0;function ne(t,e,n,r){var i=At,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++ee;var a=Et.env;o.env=vt?{Promise:It,PromiseProp:{value:It,configurable:!0,writable:!0},all:It.all,race:It.race,allSettled:It.allSettled,any:It.any,resolve:It.resolve,reject:It.reject,nthen:pe(a.nthen,o),gthen:pe(a.gthen,o)}:{},e&&s(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=ue(o,t,n,r);return 0===o.ref&&o.finalize(),l}function re(){return Gt.id||(Gt.id=++Xt),++Gt.awaits,Gt.echoes+=pt,Gt.id}function ie(){return!!Gt.awaits&&(0==--Gt.awaits&&(Gt.id=0),Gt.echoes=Gt.awaits*pt,!0)}function oe(t){return Gt.echoes&&t&&t.constructor===bt?(re(),t.then((t=>(ie(),t)),(t=>(ie(),ge(t))))):t}function se(t){++te,Gt.echoes&&0!=--Gt.echoes||(Gt.echoes=Gt.id=0),Zt.push(At),le(t,!0)}function ae(){var t=Zt[Zt.length-1];Zt.pop(),le(t,!1)}function le(t,e){var n=At;if((e?!Gt.echoes||Qt++&&t===At:!Qt||--Qt&&t===At)||he(e?se.bind(null,t):ae),t!==At&&(At=t,n===Et&&(Et.env=ce()),vt)){var i=Et.env.Promise,o=t.env;mt.then=o.nthen,i.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(r,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function ce(){var t=r.Promise;return vt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:mt.then,gthen:t.prototype.then}:{}}function ue(t,e,n,r,i){var o=At;try{return le(t,!0),e(n,r,i)}finally{le(o,!1)}}function he(t){yt.call(ft,t)}function de(t,e,n,r){return"function"!=typeof t?t:function(){var i=At;n&&re(),le(e,!0);try{return t.apply(this,arguments)}finally{le(i,!1),r&&he(ie)}}}function pe(t,e){return function(n,r){return t.call(this,de(n,e),de(r,e))}}-1===(""+yt).indexOf("[native code]")&&(re=ie=rt);const fe="unhandledrejection";function me(t,e){var n;try{n=e.onuncatched(t)}catch(r){}if(!1!==n)try{var i,o={promise:e,reason:t};if(r.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(fe,!0,!0),s(i,o)):r.CustomEvent&&s(i=new CustomEvent(fe,{detail:o}),o),i&&r.dispatchEvent&&(dispatchEvent(i),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(i)}catch(r){}z&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(r){}}var ge=It.reject;function ye(t,e,n,r){if(t.idbdb&&(t._state.openComplete||At.letThrough||t._vip)){var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Z.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>ye(t,e,n,r)))):ge(i)}return i._promise(e,((t,e)=>ne((()=>(At.trans=i,r(t,e,i)))))).then((t=>i._completion.then((()=>t))))}if(t._state.openComplete)return ge(new tt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return ge(new tt.DatabaseClosed);t.open().catch(rt)}return t._state.dbReadyPromise.then((()=>ye(t,e,n,r)))}const be="3.2.4",ve=String.fromCharCode(65535),we=-1/0,xe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_e="String expected.",ke=[],Se="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ce=Se,Oe=Se,Me=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Te="__dbnames",Ee="readonly",Ae="readwrite";function Pe(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const De={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ne(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=A(e))[t],e)}class Ie{_trans(t,e,n){const r=this._tx||At.trans,i=this.name;function o(t,n,r){if(!r.schema[i])throw new tt.NotFound("Table "+i+" not part of transaction");return e(r.idbtrans,r)}const s=qt();try{return r&&r.db===this.db?r===At.trans?r._promise(t,o,n):ne((()=>r._promise(t,o,n)),{trans:r,transless:At.transless||At}):ye(this.db,t,[this.name],o)}finally{s&&Ut()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(e=>this.core.get({trans:e,key:t}).then((t=>this.hook.reading.fire(t))))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(o(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=i(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((t=>t.compound&&e.every((e=>t.keyPath.indexOf(e)>=0))&&t.keyPath.every((t=>e.indexOf(t)>=0))))[0];if(n&&this.db._maxKey!==ve)return this.where(n.name).equals(n.keyPath.map((e=>t[e])));!n&&z&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:r}=this.schema,s=this.db._deps.indexedDB;function a(t,e){try{return 0===s.cmp(t,e)}catch(t){return!1}}const[l,c]=e.reduce((([e,n],i)=>{const s=r[i],l=t[i];return[e||s,e||!s?Pe(n,s&&s.multi?t=>{const e=_(t,i);return o(e)&&e.some((t=>a(l,t)))}:t=>a(l,_(t,i))):n]}),[null,null]);return l?this.where(l.name).equals(t[l.keyPath]).filter(c):n?this.filter(c):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,o(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=e=>{if(!e)return e;const n=Object.create(t.prototype);for(var r in e)if(c(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass((function(t){s(this,t)}))}add(t,e){const{auto:n,keyPath:r}=this.schema.primKey;let i=t;return r&&n&&(i=Ne(r)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[i]}))).then((t=>t.numFailures?It.reject(t.failures[0]):t.lastResult)).then((e=>{if(r)try{k(t,r,e)}catch(t){}return e}))}update(t,e){if("object"!=typeof t||o(t))return this.where(":id").equals(t).modify(e);{const n=_(t,this.schema.primKey.keyPath);if(void 0===n)return ge(new tt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?i(e).forEach((n=>{k(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)}}put(t,e){const{auto:n,keyPath:r}=this.schema.primKey;let i=t;return r&&n&&(i=Ne(r)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"put",values:[i],keys:null!=e?[e]:null}))).then((t=>t.numFailures?It.reject(t.failures[0]):t.lastResult)).then((e=>{if(r)try{k(t,r,e)}catch(t){}return e}))}delete(t){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:[t]}))).then((t=>t.numFailures?It.reject(t.failures[0]):void 0))}clear(){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"deleteRange",range:De}))).then((t=>t.numFailures?It.reject(t.failures[0]):void 0))}bulkGet(t){return this._trans("readonly",(e=>this.core.getMany({keys:t,trans:e}).then((t=>t.map((t=>this.hook.reading.fire(t)))))))}bulkAdd(t,e,n){const r=Array.isArray(e)?e:void 0,i=(n=n||(r?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new tt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==t.length)throw new tt.InvalidArgument("Arguments objects and keys must have the same length");const s=t.length;let a=o&&n?t.map(Ne(o)):t;return this.core.mutate({trans:e,type:"add",keys:r,values:a,wantResults:i}).then((({numFailures:t,results:e,lastResult:n,failures:r})=>{if(0===t)return i?e:n;throw new X(`${this.name}.bulkAdd(): ${t} of ${s} operations failed`,r)}))}))}bulkPut(t,e,n){const r=Array.isArray(e)?e:void 0,i=(n=n||(r?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new tt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==t.length)throw new tt.InvalidArgument("Arguments objects and keys must have the same length");const s=t.length;let a=o&&n?t.map(Ne(o)):t;return this.core.mutate({trans:e,type:"put",keys:r,values:a,wantResults:i}).then((({numFailures:t,results:e,lastResult:n,failures:r})=>{if(0===t)return i?e:n;throw new X(`${this.name}.bulkPut(): ${t} of ${s} operations failed`,r)}))}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:t}))).then((({numFailures:t,lastResult:n,failures:r})=>{if(0===t)return n;throw new X(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,r)}))}}function Le(t){var e={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return e[n].subscribe.apply(null,o),t}if("string"==typeof n)return e[n]};n.addEventType=a;for(var r=1,s=arguments.length;r<s;++r)a(arguments[r]);return n;function a(t,r,s){if("object"!=typeof t){var l;r||(r=ut),s||(s=rt);var c={subscribers:[],fire:s,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=r(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter((function(e){return e!==t})),c.fire=c.subscribers.reduce(r,s)}};return e[t]=n[t]=c,c}i(l=t).forEach((function(t){var e=l[t];if(o(e))a(t,l[t][0],l[t][1]);else{if("asap"!==e)throw new tt.InvalidArgument("Invalid event config");var n=a(t,it,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){w((function(){t.apply(null,e)}))}))}))}}))}}function Be(t,e){return p(e).from({prototype:t}),e}function Re(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function je(t,e){t.filter=Pe(t.filter,e)}function ze(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>Pe(r(),e()):e,t.justLimit=n&&!r}function He(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new tt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Fe(t,e,n){const r=He(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function $e(t,e,n,r){const i=t.replayFilter?Pe(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},s=(t,n,r)=>{if(!i||i(n,r,(t=>n.stop(t)),(t=>n.fail(t)))){var s=n.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),c(o,a)||(o[a]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(s,n),Ve(Fe(t,r,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return Ve(Fe(t,r,n),Pe(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Ve(t,e,n,r){var i=Jt(r?(t,e,i)=>n(r(t),e,i):n);return t.then((t=>{if(t)return t.start((()=>{var n=()=>t.continue();e&&!e(t,(t=>n=t),(e=>{t.stop(e),n=rt}),(e=>{t.fail(e),n=rt}))||i(t.value,t,(t=>n=t)),n()}))}))}function We(t,e){try{const n=qe(t),r=qe(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){const n=t.length,r=e.length,i=n<r?n:r;for(let o=0;o<i;++o)if(t[o]!==e[o])return t[o]<e[o]?-1:1;return n===r?0:n<r?-1:1}(Ue(t),Ue(e));case"Array":return function(t,e){const n=t.length,r=e.length,i=n<r?n:r;for(let o=0;o<i;++o){const n=We(t[o],e[o]);if(0!==n)return n}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}function qe(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const n=N(t);return"ArrayBuffer"===n?"binary":n}function Ue(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Ke{_read(t,e){var n=this._ctx;return n.error?n.table._trans(null,ge.bind(null,n.error)):n.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,ge.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=Pe(e.algorithm,t)}_iterate(t,e){return $e(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&s(n,t),e._ctx=n,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read((n=>$e(e,t,n,e.table.core)))}count(t){return this._read((t=>{const e=this._ctx,n=e.table.core;if(Re(e,!0))return n.count({trans:t,query:{index:He(e,n.schema),range:e.range}}).then((t=>Math.min(t,e.limit)));var r=0;return $e(e,(()=>(++r,!1)),t,n).then((()=>r))})).then(t)}sortBy(t,e){const n=t.split(".").reverse(),r=n[0],i=n.length-1;function o(t,e){return e?o(t[n[e]],e-1):t[r]}var s="next"===this._ctx.dir?1:-1;function a(t,e){var n=o(t,i),r=o(e,i);return n<r?-s:n>r?s:0}return this.toArray((function(t){return t.sort(a)})).then(e)}toArray(t){return this._read((t=>{var e=this._ctx;if("next"===e.dir&&Re(e,!0)&&e.limit>0){const{valueMapper:n}=e,r=He(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:r,range:e.range}}).then((({result:t})=>n?t.map(n):t))}{const n=[];return $e(e,(t=>n.push(t)),t,e.table.core).then((()=>n))}}),t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,Re(e)?ze(e,(()=>{var e=t;return(t,n)=>0===e||(1===e?(--e,!1):(n((()=>{t.advance(e),e=0})),!1))})):ze(e,(()=>{var e=t;return()=>--e<0}))),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ze(this._ctx,(()=>{var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this}until(t,e){return je(this._ctx,(function(n,r,i){return!t(n.value)||(r(i),e)})),this}first(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}last(t){return this.reverse().first(t)}filter(t){var e,n;return je(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=Pe(e.isMatch,n),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&Re(e,!0)&&e.limit>0)return this._read((t=>{var n=He(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((({result:t})=>t)).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return je(this._ctx,(function(t){var e=t.primaryKey.toString(),r=c(n,e);return n[e]=!0,!r})),this}modify(t){var e=this._ctx;return this._write((n=>{var r;if("function"==typeof t)r=t;else{var o=i(t),s=o.length;r=function(e){for(var n=!1,r=0;r<s;++r){var i=o[r],a=t[i];_(e,i)!==a&&(k(e,i,a),n=!0)}return n}}const a=e.table.core,{outbound:l,extractKey:c}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,h=[];let d=0;const p=[],f=(t,e)=>{const{failures:n,numFailures:r}=e;d+=t-r;for(let o of i(n))h.push(n[o])};return this.clone().primaryKeys().then((i=>{const o=s=>{const h=Math.min(u,i.length-s);return a.getMany({trans:n,keys:i.slice(s,s+h),cache:"immutable"}).then((d=>{const p=[],m=[],g=l?[]:null,y=[];for(let t=0;t<h;++t){const e=d[t],n={value:A(e),primKey:i[s+t]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(i[s+t]):l||0===We(c(e),c(n.value))?(m.push(n.value),l&&g.push(i[s+t])):(y.push(i[s+t]),p.push(n.value)))}const b=Re(e)&&e.limit===1/0&&("function"!=typeof t||t===Ye)&&{index:e.index,range:e.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((t=>{for(let e in t.failures)y.splice(parseInt(e),1);f(p.length,t)}))).then((()=>(m.length>0||b&&"object"==typeof t)&&a.mutate({trans:n,type:"put",keys:g,values:m,criteria:b,changeSpec:"function"!=typeof t&&t}).then((t=>f(m.length,t))))).then((()=>(y.length>0||b&&t===Ye)&&a.mutate({trans:n,type:"delete",keys:y,criteria:b}).then((t=>f(y.length,t))))).then((()=>i.length>s+h&&o(s+u)))}))};return o(0).then((()=>{if(h.length>0)throw new G("Error modifying one or more objects",h,d,p);return i.length}))}))}))}delete(){var t=this._ctx,e=t.range;return Re(t)&&(t.isPrimKey&&!Oe||3===e.type)?this._write((n=>{const{primaryKey:r}=t.table.core.schema,i=e;return t.table.core.count({trans:n,query:{index:r,range:i}}).then((e=>t.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:t,lastResult:n,results:r,numFailures:i})=>{if(i)throw new G("Could not delete some values",Object.keys(t).map((e=>t[e])),e-i);return e-i}))))})):this.modify(Ye)}}const Ye=(t,e)=>e.value=null;function Je(t,e){return t<e?-1:t===e?0:1}function Ge(t,e){return t>e?-1:t===e?0:1}function Xe(t,e,n){var r=t instanceof rn?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Ze(t){return new t.Collection(t,(()=>nn(""))).limit(0)}function Qe(t,e,n,r,i,o){for(var s=Math.min(t.length,r.length),a=-1,l=0;l<s;++l){var c=e[l];if(c!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;i(t[l],c)<0&&(a=l)}return s<r.length&&"next"===o?t+n.substr(t.length):s<t.length&&"prev"===o?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function tn(t,e,n,r){var i,o,s,a,l,c,u,h=n.length;if(!n.every((t=>"string"==typeof t)))return Xe(t,_e);function d(t){i=function(t){return"next"===t?t=>t.toUpperCase():t=>t.toLowerCase()}(t),o=function(t){return"next"===t?t=>t.toLowerCase():t=>t.toUpperCase()}(t),s="next"===t?Je:Ge;var e=n.map((function(t){return{lower:o(t),upper:i(t)}})).sort((function(t,e){return s(t.lower,e.lower)}));a=e.map((function(t){return t.upper})),l=e.map((function(t){return t.lower})),c=t,u="next"===t?"":r}d("next");var p=new t.Collection(t,(()=>en(a[0],l[h-1]+r)));p._ondirectionchange=function(t){d(t)};var f=0;return p._addAlgorithm((function(t,n,r){var i=t.key;if("string"!=typeof i)return!1;var d=o(i);if(e(d,l,f))return!0;for(var p=null,m=f;m<h;++m){var g=Qe(i,d,a[m],l[m],s,c);null===g&&null===p?f=m+1:(null===p||s(p,g)>0)&&(p=g)}return n(null!==p?function(){t.continue(p+u)}:r),!1})),p}function en(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function nn(t){return{type:1,lower:t,upper:t}}class rn{get Collection(){return this._ctx.table.db.Collection}between(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?Ze(this):new this.Collection(this,(()=>en(t,e,!n,!r)))}catch(t){return Xe(this,xe)}}equals(t){return null==t?Xe(this,xe):new this.Collection(this,(()=>nn(t)))}above(t){return null==t?Xe(this,xe):new this.Collection(this,(()=>en(t,void 0,!0)))}aboveOrEqual(t){return null==t?Xe(this,xe):new this.Collection(this,(()=>en(t,void 0,!1)))}below(t){return null==t?Xe(this,xe):new this.Collection(this,(()=>en(void 0,t,!1,!0)))}belowOrEqual(t){return null==t?Xe(this,xe):new this.Collection(this,(()=>en(void 0,t)))}startsWith(t){return"string"!=typeof t?Xe(this,_e):this.between(t,t+ve,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):tn(this,((t,e)=>0===t.indexOf(e[0])),[t],ve)}equalsIgnoreCase(t){return tn(this,((t,e)=>t===e[0]),[t],"")}anyOfIgnoreCase(){var t=R.apply(B,arguments);return 0===t.length?Ze(this):tn(this,((t,e)=>-1!==e.indexOf(t)),t,"")}startsWithAnyOfIgnoreCase(){var t=R.apply(B,arguments);return 0===t.length?Ze(this):tn(this,((t,e)=>e.some((e=>0===t.indexOf(e)))),t,ve)}anyOf(){const t=R.apply(B,arguments);let e=this._cmp;try{t.sort(e)}catch(t){return Xe(this,xe)}if(0===t.length)return Ze(this);const n=new this.Collection(this,(()=>en(t[0],t[t.length-1])));n._ondirectionchange=n=>{e="next"===n?this._ascending:this._descending,t.sort(e)};let r=0;return n._addAlgorithm(((n,i,o)=>{const s=n.key;for(;e(s,t[r])>0;)if(++r,r===t.length)return i(o),!1;return 0===e(s,t[r])||(i((()=>{n.continue(t[r])})),!1)})),n}notEqual(t){return this.inAnyRange([[we,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=R.apply(B,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return Xe(this,xe)}const e=t.reduce(((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[we,e]]),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const n=this._cmp,r=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===t.length)return Ze(this);if(!t.every((t=>void 0!==t[0]&&void 0!==t[1]&&r(t[0],t[1])<=0)))return Xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",tt.InvalidArgument);const a=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers;let c,u=r;function h(t,e){return u(t[0],e[0])}try{c=t.reduce((function(t,e){let r=0,i=t.length;for(;r<i;++r){const i=t[r];if(n(e[0],i[1])<0&&n(e[1],i[0])>0){i[0]=o(i[0],e[0]),i[1]=s(i[1],e[1]);break}}return r===i&&t.push(e),t}),[]),c.sort(h)}catch(t){return Xe(this,xe)}let d=0;const p=l?t=>r(t,c[d][1])>0:t=>r(t,c[d][1])>=0,f=a?t=>i(t,c[d][0])>0:t=>i(t,c[d][0])>=0;let m=p;const g=new this.Collection(this,(()=>en(c[0][0],c[c.length-1][1],!a,!l)));return g._ondirectionchange=t=>{"next"===t?(m=p,u=r):(m=f,u=i),c.sort(h)},g._addAlgorithm(((t,e,n)=>{for(var i=t.key;m(i);)if(++d,d===c.length)return e(n),!1;return!!function(t){return!p(t)&&!f(t)}(i)||(0===this._cmp(i,c[d][1])||0===this._cmp(i,c[d][0])||e((()=>{u===r?t.continue(c[d][0]):t.continue(c[d][1])})),!1)})),g}startsWithAnyOf(){const t=R.apply(B,arguments);return t.every((t=>"string"==typeof t))?0===t.length?Ze(this):this.inAnyRange(t.map((t=>[t,t+ve]))):Xe(this,"startsWithAnyOf() only works with strings")}}function on(t){return Jt((function(e){return sn(e),t(e.target.error),!1}))}function sn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const an="storagemutated",ln="x-storagemutated-1",cn=Le(null,an);class un{_lock(){return v(!At.global),++this._reculock,1!==this._reculock||At.global||(At.lockOwnerFor=this),this}_unlock(){if(v(!At.global),0==--this._reculock)for(At.global||(At.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ue(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&At.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,n=this.db._state.dbOpenError;if(v(!this.idbtrans),!t&&!e)switch(n&&n.name){case"DatabaseClosedError":throw new tt.DatabaseClosed(n);case"MissingAPIError":throw new tt.MissingAPI(n.message,n);default:throw new tt.OpenFailed(n)}if(!this.active)throw new tt.TransactionInactive;return v(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Jt((e=>{sn(e),this._reject(t.error)})),t.onabort=Jt((e=>{sn(e),this.active&&this._reject(new tt.Abort(t.error)),this.active=!1,this.on("abort").fire(e)})),t.oncomplete=Jt((()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&cn.storagemutated.fire(t.mutatedParts)})),this}_promise(t,e,n){if("readwrite"===t&&"readwrite"!==this.mode)return ge(new tt.ReadOnly("Transaction is readonly"));if(!this.active)return ge(new tt.TransactionInactive);if(this._locked())return new It(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(t,e,n).then(r,i)},At])}));if(n)return ne((()=>{var t=new It(((t,n)=>{this._lock();const r=e(t,n,this);r&&r.then&&r.then(t,n)}));return t.finally((()=>this._unlock())),t._lib=!0,t}));var r=new It(((t,n)=>{var r=e(t,n,this);r&&r.then&&r.then(t,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const n=It.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((()=>n));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var i=e._waitingFor;return new It(((t,r)=>{n.then((n=>e._waitingQueue.push(Jt(t.bind(null,n)))),(t=>e._waitingQueue.push(Jt(r.bind(null,t))))).finally((()=>{e._waitingFor===i&&(e._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new tt.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(c(e,t))return e[t];const n=this.schema[t];if(!n)throw new tt.NotFound("Table "+t+" not part of transaction");const r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r}}function hn(t,e,n,r,i,o,s){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+dn(e)}}function dn(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function pn(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:x(n,(t=>[t.name,t]))}}let fn=t=>{try{return t.only([[]]),fn=()=>[[]],[[]]}catch(t){return fn=()=>ve,ve}};function mn(t){return null==t?()=>{}:"string"==typeof t?function(t){const e=t.split(".");return 1===e.length?e=>e[t]:e=>_(e,t)}(t):e=>_(e,t)}function gn(t){return[].slice.call(t)}let yn=0;function bn(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function vn(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:o}=t;return void 0===n?void 0===r?null:e.upperBound(r,!!o):void 0===r?e.lowerBound(n,!!i):e.bound(n,r,!!i,!!o)}const{schema:i,hasGetAll:s}=function(t,e){const n=gn(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((t=>e.objectStore(t))).map((t=>{const{keyPath:e,autoIncrement:n}=t,r=o(e),i=null==e,s={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:mn(e)},indexes:gn(t.indexNames).map((e=>t.index(e))).map((t=>{const{name:e,unique:n,multiEntry:r,keyPath:i}=t,a={name:e,compound:o(i),keyPath:i,unique:n,multiEntry:r,extractKey:mn(i)};return s[bn(i)]=a,a})),getIndexByKeyPath:t=>s[bn(t)]};return s[":id"]=a.primaryKey,null!=e&&(s[bn(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=i.tables.map((t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:n,keys:i,values:o,range:s}){return new Promise(((a,l)=>{a=Jt(a);const c=t.objectStore(e),u=null==c.keyPath,h="put"===n||"add"===n;if(!h&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],m=[];let g=0;const y=t=>{++g,sn(t)};if("deleteRange"===n){if(4===s.type)return a({numFailures:g,failures:m,results:[],lastResult:void 0});3===s.type?f.push(p=c.clear()):f.push(p=c.delete(r(s)))}else{const[t,e]=h?u?[o,i]:[o,null]:[i,null];if(h)for(let r=0;r<d;++r)f.push(p=e&&void 0!==e[r]?c[n](t[r],e[r]):c[n](t[r])),p.onerror=y;else for(let r=0;r<d;++r)f.push(p=c[n](t[r])),p.onerror=y}const b=t=>{const e=t.target.result;f.forEach(((t,e)=>null!=t.error&&(m[e]=t.error))),a({numFailures:g,failures:m,results:"delete"===n?i:f.map((t=>t.result)),lastResult:e})};p.onerror=t=>{y(t),b(t)},p.onsuccess=b}))},getMany:({trans:t,keys:n})=>new Promise(((r,i)=>{r=Jt(r);const o=t.objectStore(e),s=n.length,a=new Array(s);let l,c=0,u=0;const h=t=>{const e=t.target;a[e._pos]=e.result,++u===c&&r(a)},d=on(i);for(let t=0;t<s;++t)null!=n[t]&&(l=o.get(n[t]),l._pos=t,l.onsuccess=h,l.onerror=d,++c);0===c&&r(a)})),get:({trans:t,key:n})=>new Promise(((r,i)=>{r=Jt(r);const o=t.objectStore(e).get(n);o.onsuccess=t=>r(t.target.result),o.onerror=on(i)})),query:function(t){return n=>new Promise(((i,o)=>{i=Jt(i);const{trans:s,values:a,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:h,range:d}=c,p=s.objectStore(e),f=h.isPrimaryKey?p:p.index(h.name),m=r(d);if(0===l)return i({result:[]});if(t){const t=a?f.getAll(m,u):f.getAllKeys(m,u);t.onsuccess=t=>i({result:t.target.result}),t.onerror=on(o)}else{let t=0;const e=a||!("openKeyCursor"in f)?f.openCursor(m):f.openKeyCursor(m),n=[];e.onsuccess=r=>{const o=e.result;return o?(n.push(a?o.value:o.primaryKey),++t===l?i({result:n}):void o.continue()):i({result:n})},e.onerror=on(o)}}))}(s),openCursor:function({trans:t,values:n,query:i,reverse:o,unique:s}){return new Promise(((a,l)=>{a=Jt(a);const{index:c,range:u}=i,h=t.objectStore(e),d=c.isPrimaryKey?h:h.index(c.name),p=o?s?"prevunique":"prev":s?"nextunique":"next",f=n||!("openKeyCursor"in d)?d.openCursor(r(u),p):d.openKeyCursor(r(u),p);f.onerror=on(l),f.onsuccess=Jt((e=>{const n=f.result;if(!n)return void a(null);n.___id=++yn,n.done=!1;const r=n.continue.bind(n);let i=n.continuePrimaryKey;i&&(i=i.bind(n));const o=n.advance.bind(n),s=()=>{throw new Error("Cursor not stopped")};n.trans=t,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Jt(l),n.next=function(){let t=1;return this.start((()=>t--?this.continue():this.stop())).then((()=>this))},n.start=t=>{const e=new Promise(((t,e)=>{t=Jt(t),f.onerror=on(e),n.fail=e,n.stop=e=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=s,t(e)}})),a=()=>{if(f.result)try{t()}catch(t){n.fail(t)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=Jt((t=>{f.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=i,n.advance=o,a(),e},a(n)}),l)}))},count({query:t,trans:n}){const{index:i,range:o}=t;return new Promise(((t,s)=>{const a=n.objectStore(e),l=i.isPrimaryKey?a:a.index(i.name),c=r(o),u=c?l.count(c):l.count();u.onsuccess=Jt((e=>t(e.target.result))),u.onerror=on(s)}))}}}(t))),l={};return a.forEach((t=>l[t.name]=t)),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(!l[t])throw new Error(`Table '${t}' not found`);return l[t]},MIN_KEY:-1/0,MAX_KEY:fn(e),schema:i}}function wn({_novip:t},e){const n=e.db,r=function(t,e,{IDBKeyRange:n,indexedDB:r},i){const o=function(t,e){return e.reduce(((t,{create:e})=>({...t,...e(t)})),t)}(vn(e,n,i),t.dbcore);return{dbcore:o}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach((e=>{const n=e.name;t.core.schema.tables.some((t=>t.name===n))&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))}))}function xn({_novip:t},e,n,r){n.forEach((n=>{const i=r[n];e.forEach((e=>{const r=m(e,n);(!r||"value"in r&&void 0===r.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?d(e,n,{get(){return this.table(n)},set(t){h(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,i))}))}))}function _n({_novip:t},e){e.forEach((e=>{for(let n in e)e[n]instanceof t.Table&&delete e[n]}))}function kn(t,e){return t._cfg.version-e._cfg.version}function Sn(t,e,n,r){const o=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,o);s.create(n),s._completion.catch(r);const a=s._reject.bind(s),l=At.transless||At;ne((()=>{At.trans=s,At.transless=l,0===e?(i(o).forEach((t=>{On(n,t,o[t].primKey,o[t].indexes)})),wn(t,n),It.follow((()=>t.on.populate.fire(s))).catch(a)):function({_novip:t},e,n,r){const o=[],s=t._versions;let a=t._dbSchema=Tn(t,t.idbdb,r),l=!1;const c=s.filter((t=>t._cfg.version>=e));function u(){return o.length?It.resolve(o.shift()(n.idbtrans)).then(u):It.resolve()}return c.forEach((s=>{o.push((()=>{const o=a,c=s._cfg.dbschema;En(t,o,r),En(t,c,r),a=t._dbSchema=c;const u=Cn(o,c);u.add.forEach((t=>{On(r,t[0],t[1].primKey,t[1].indexes)})),u.change.forEach((t=>{if(t.recreate)throw new tt.Upgrade("Not yet support for changing primary key");{const e=r.objectStore(t.name);t.add.forEach((t=>Mn(e,t))),t.change.forEach((t=>{e.deleteIndex(t.name),Mn(e,t)})),t.del.forEach((t=>e.deleteIndex(t)))}}));const h=s._cfg.contentUpgrade;if(h&&s._cfg.version>e){wn(t,r),n._memoizedTables={},l=!0;let e=S(c);u.del.forEach((t=>{e[t]=o[t]})),_n(t,[t.Transaction.prototype]),xn(t,[t.Transaction.prototype],i(e),e),n.schema=e;const s=j(h);let a;s&&re();const d=It.follow((()=>{if(a=h(n),a&&s){var t=ie.bind(null,null);a.then(t,t)}}));return a&&"function"==typeof a.then?It.resolve(a):d.then((()=>a))}})),o.push((e=>{l&&Ce||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((n=>null==t[n]&&e.db.deleteObjectStore(n)))}(s._cfg.dbschema,e),_n(t,[t.Transaction.prototype]),xn(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema}))})),u().then((()=>{var t,e;e=r,i(t=a).forEach((n=>{e.db.objectStoreNames.contains(n)||On(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,s,n).catch(a)}))}function Cn(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const i=t[r],o=e[r];if(i){const t={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Se)t.recreate=!0,n.change.push(t);else{const e=i.idxByName,r=o.idxByName;let s;for(s in e)r[s]||t.del.push(s);for(s in r){const n=e[s],i=r[s];n?n.src!==i.src&&t.change.push(i):t.add.push(i)}(t.del.length>0||t.add.length>0||t.change.length>0)&&n.change.push(t)}}else n.add.push([r,o])}return n}function On(t,e,n,r){const i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((t=>Mn(i,t))),i}function Mn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Tn(t,e,n){const r={};return y(e.objectStoreNames,0).forEach((t=>{const e=n.objectStore(t);let i=e.keyPath;const o=hn(dn(i),i||"",!1,!1,!!e.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let n=0;n<e.indexNames.length;++n){const t=e.index(e.indexNames[n]);i=t.keyPath;var a=hn(t.name,i,!!t.unique,!!t.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}r[t]=pn(t,o,s)})),r}function En({_novip:t},e,n){const i=n.db.objectStoreNames;for(let r=0;r<i.length;++r){const o=i[r],s=n.objectStore(o);t._hasGetAll="getAll"in s;for(let t=0;t<s.indexNames.length;++t){const n=s.indexNames[t],r=s.index(n).keyPath,i="string"==typeof r?r:"["+y(r).join("+")+"]";if(e[o]){const t=e[o].idxByName[i];t&&(t.name=n,delete e[o].idxByName[i],e[o].idxByName[n]=t)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class An{_parseStoresSpec(t,e){i(t).forEach((n=>{if(null!==t[n]){var r=t[n].split(",").map(((t,e)=>{const n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return hn(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),o(r),0===e)})),i=r.shift();if(i.multi)throw new tt.Schema("Primary key cannot be multi-valued");r.forEach((t=>{if(t.auto)throw new tt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new tt.Schema("Index must have a name and cannot be an empty string")})),e[n]=pn(n,i,r)}}))}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,t):t;const n=e._versions,r={};let o={};return n.forEach((t=>{s(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,_n(e,[e._allTables,e,e.Transaction.prototype]),xn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],i(o),o),e._storeNames=i(o),this}upgrade(t){return this._cfg.contentUpgrade=ht(this._cfg.contentUpgrade||rt,t),this}}function Pn(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new tr(Te,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Dn(t){return t&&"function"==typeof t.databases}function Nn(t){return ne((function(){return At.letThrough=!0,t()}))}function In(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function Ln(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((()=>e.dbOpenError?ge(e.dbOpenError):t));z&&(e.openCanceller._stackHolder=V()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new tt.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,a=null,l=!1;return It.race([r,("undefined"==typeof navigator?It.resolve():In()).then((()=>new It(((r,s)=>{if(o(),!n)throw new tt.MissingAPI;const c=t.name,u=e.autoSchema?n.open(c):n.open(c,Math.round(10*t.verno));if(!u)throw new tt.MissingAPI;u.onerror=on(s),u.onblocked=Jt(t._fireOnBlocked),u.onupgradeneeded=Jt((r=>{if(a=u.transaction,e.autoSchema&&!t._options.allowEmptyDB){u.onerror=sn,a.abort(),u.result.close();const t=n.deleteDatabase(c);t.onsuccess=t.onerror=Jt((()=>{s(new tt.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{a.onerror=on(s);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;l=i<1,t._novip.idbdb=u.result,Sn(t,i/10,a,s)}}),s),u.onsuccess=Jt((()=>{a=null;const n=t._novip.idbdb=u.result,o=y(n.objectStoreNames);if(o.length>0)try{const r=n.transaction(1===(s=o).length?s[0]:s,"readonly");e.autoSchema?function({_novip:t},e,n){t.verno=e.version/10;const r=t._dbSchema=Tn(0,e,n);t._storeNames=y(e.objectStoreNames,0),xn(t,[t._allTables],i(r),r)}(t,n,r):(En(t,t._dbSchema,r),function(t,e){const n=Cn(Tn(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((t=>t.add.length||t.change.length)))}(t,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),wn(t,r)}catch(t){}var s;ke.push(t),n.onversionchange=Jt((n=>{e.vcFired=!0,t.on("versionchange").fire(n)})),n.onclose=Jt((e=>{t.on("close").fire(e)})),l&&function({indexedDB:t,IDBKeyRange:e},n){!Dn(t)&&n!==Te&&Pn(t,e).put({name:n}).catch(rt)}(t._deps,c),r()}),s)}))))]).then((()=>(o(),e.onReadyBeingFired=[],It.resolve(Nn((()=>t.on.ready.fire(t.vip)))).then((function n(){if(e.onReadyBeingFired.length>0){let r=e.onReadyBeingFired.reduce(ht,rt);return e.onReadyBeingFired=[],It.resolve(Nn((()=>r(t.vip)))).then(n)}}))))).finally((()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((()=>t)).catch((n=>{e.dbOpenError=n;try{a&&a.abort()}catch(t){}return r===e.openCanceller&&t._close(),ge(n)})).finally((()=>{e.openComplete=!0,s()}))}function Bn(t){var e=e=>t.next(e),n=i(e),r=i((e=>t.throw(e)));function i(t){return e=>{var i=t(e),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(n,r):o(s)?Promise.all(s).then(n,r):n(s)}}return i(e)()}function Rn(t,e,n){var r=arguments.length;if(r<2)throw new tt.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,O(i),n]}function jn(t,e,n,r,i){return It.resolve().then((()=>{const o=At.transless||At,s=t._createTransaction(e,n,t._dbSchema,r),a={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===Z.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>jn(t,e,n,null,i)))):ge(r)}const l=j(i);let c;l&&re();const u=It.follow((()=>{if(c=i.call(s,s),c)if(l){var t=ie.bind(null,null);c.then(t,t)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Bn(c))}),a);return(c&&"function"==typeof c.then?It.resolve(c).then((t=>s.active?t:ge(new tt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((t=>(r&&s._resolve(),s._completion.then((()=>t))))).catch((t=>(s._reject(t),ge(t))))}))}function zn(t,e,n){const r=o(t)?t.slice():[t];for(let i=0;i<n;++i)r.push(e);return r}const Hn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,i={},o=[];function s(t,e,n){const r=bn(t),a=i[r]=i[r]||[],l=null==t?0:"string"==typeof t?1:t.length,c=e>0,u={...n,isVirtual:c,keyTail:e,keyLength:l,extractKey:mn(t),unique:!c&&n.unique};return a.push(u),u.isPrimaryKey||o.push(u),l>1&&s(2===l?t[0]:t.slice(0,l-1),e+1,n),a.sort(((t,e)=>t.keyTail-e.keyTail)),u}const a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const t of r.indexes)s(t.keyPath,0,t);function l(e){const n=e.query.index;return n.isVirtual?{...e,query:{index:n,range:(r=e.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:zn(r.lower,r.lowerOpen?t.MAX_KEY:t.MIN_KEY,i),lowerOpen:!0,upper:zn(r.upper,r.upperOpen?t.MIN_KEY:t.MAX_KEY,i),upperOpen:!0})}}:e;var r,i}const c={...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(t){const e=i[bn(t)];return e&&e[0]}},count:t=>n.count(l(t)),query:t=>n.query(l(t)),openCursor(e){const{keyTail:r,isVirtual:i,keyLength:o}=e.query.index;return i?n.openCursor(l(e)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(zn(i,e.reverse?t.MAX_KEY:t.MIN_KEY,r)):e.unique?n.continue(n.key.slice(0,o).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(e,i){n.continuePrimaryKey(zn(e,t.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const t=n.key;return 1===o?t[0]:t.slice(0,o)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(e)}};return c}}}};function Fn(t,e,n,r){return n=n||{},r=r||"",i(t).forEach((i=>{if(c(e,i)){var o=t[i],s=e[i];if("object"==typeof o&&"object"==typeof s&&o&&s){const t=N(o);t!==N(s)?n[r+i]=e[i]:"Object"===t?Fn(o,s,n,r+i+"."):o!==s&&(n[r+i]=e[i])}else o!==s&&(n[r+i]=e[i])}else n[r+i]=void 0})),i(e).forEach((i=>{c(t,i)||(n[r+i]=e[i])})),n}const $n={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema,i={...n,mutate(t){const i=At.trans,{deleting:o,creating:s,updating:a}=i.table(e).hook;switch(t.type){case"add":if(s.fire===rt)break;return i._promise("readwrite",(()=>l(t)),!0);case"put":if(s.fire===rt&&a.fire===rt)break;return i._promise("readwrite",(()=>l(t)),!0);case"delete":if(o.fire===rt)break;return i._promise("readwrite",(()=>l(t)),!0);case"deleteRange":if(o.fire===rt)break;return i._promise("readwrite",(()=>function(t){return u(t.trans,t.range,1e4)}(t)),!0)}return n.mutate(t);function l(t){const e=At.trans,i=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(r,t);if(!i)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:i}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,i).then((l=>{const u=i.map(((n,i)=>{const u=l[i],h={onerror:null,onsuccess:null};if("delete"===t.type)o.fire.call(h,n,u,e);else if("add"===t.type||void 0===u){const o=s.fire.call(h,n,t.values[i],e);null==n&&null!=o&&(n=o,t.keys[i]=n,r.outbound||k(t.values[i],r.keyPath,n))}else{const r=Fn(u,t.values[i]),o=a.fire.call(h,r,n,u,e);if(o){const e=t.values[i];Object.keys(o).forEach((t=>{c(e,t)?e[t]=o[t]:k(e,t,o[t])}))}}return h}));return n.mutate(t).then((({failures:e,results:n,numFailures:r,lastResult:o})=>{for(let s=0;s<i.length;++s){const r=n?n[s]:i[s],o=u[s];null==r?o.onerror&&o.onerror(e[s]):o.onsuccess&&o.onsuccess("put"===t.type&&l[s]?t.values[s]:r)}return{failures:e,results:n,numFailures:r,lastResult:o}})).catch((t=>(u.forEach((e=>e.onerror&&e.onerror(t))),Promise.reject(t))))}))}function u(t,e,i){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:i}).then((({result:n})=>l({type:"delete",keys:n,trans:t}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:u(t,{...e,lower:n[n.length-1],lowerOpen:!0},i)))))}}};return i}})};function Vn(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;const r=[];for(let i=0,o=0;i<e.keys.length&&o<t.length;++i)0===We(e.keys[i],t[o])&&(r.push(n?A(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch(t){return null}}const Wn={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:t=>{if(!t.cache)return n.getMany(t);const e=Vn(t.keys,t.trans._cache,"clone"===t.cache);return e?It.resolve(e):n.getMany(t).then((e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?A(e):e},e)))},mutate:t=>("add"!==t.type&&(t.trans._cache=null),n.mutate(t))}}})};function qn(t){return!("from"in t)}const Un=function(t,e){if(!this){const e=new Un;return t&&"d"in t&&s(e,t),e}s(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Kn(t,e,n){const r=We(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(qn(t))return s(t,{from:e,to:n,d:1});const i=t.l,o=t.r;if(We(n,t.from)<0)return i?Kn(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Xn(t);if(We(e,t.to)>0)return o?Kn(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Xn(t);We(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),We(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;i&&!t.l&&Yn(t,i),o&&a&&Yn(t,o)}function Yn(t,e){qn(e)||function t(e,{from:n,to:r,l:i,r:o}){Kn(e,n,r),i&&t(e,i),o&&t(e,o)}(t,e)}function Jn(t,e){const n=Gn(e);let r=n.next();if(r.done)return!1;let i=r.value;const o=Gn(t);let s=o.next(i.from),a=s.value;for(;!r.done&&!s.done;){if(We(a.from,i.to)<=0&&We(a.to,i.from)>=0)return!0;We(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function Gn(t){let e=qn(t)?null:{s:0,n:t};return{next(t){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&We(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||We(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Xn(t){var e,n;const r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const e="r"===i?"l":"r",n={...t},r=t[i];t.from=r.from,t.to=r.to,t[i]=r[i],n[i]=r[e],t[e]=n,n.d=Zn(n)}t.d=Zn(t)}function Zn({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}u(Un.prototype,{add(t){return Yn(this,t),this},addKey(t){return Kn(this,t,t),this},addKeys(t){return t.forEach((t=>Kn(this,t,t))),this},[I](){return Gn(this)}});const Qn={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new Un(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const s=t.table(r),{schema:a}=s,{primaryKey:l}=a,{extractKey:c,outbound:u}=l,h={...s,mutate:t=>{const i=t.trans,l=i.mutatedParts||(i.mutatedParts={}),c=t=>{const n=`idb://${e}/${r}/${t}`;return l[n]||(l[n]=new Un)},u=c(""),h=c(":dels"),{type:d}=t;let[p,f]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[];const m=t.trans._cache;return s.mutate(t).then((t=>{if(o(p)){"delete"!==d&&(p=t.results),u.addKeys(p);const e=Vn(p,m);e||"add"===d||h.addKeys(p),(e||f)&&function(t,e,n,r){function i(e){const i=t(e.name||"");function s(t){return null!=t?e.extractKey(t):null}const a=t=>e.multiEntry&&o(t)?t.forEach((t=>i.addKey(t))):i.addKey(t);(n||r).forEach(((t,e)=>{const i=n&&s(n[e]),o=r&&s(r[e]);0!==We(i,o)&&(null!=i&&a(i),null!=o&&a(o))}))}e.indexes.forEach(i)}(c,a,e,f)}else if(p){const t={from:p.lower,to:p.upper};h.add(t),u.add(t)}else u.add(n),h.add(n),a.indexes.forEach((t=>c(t.name).add(n)));return t}))}},d=({query:{index:e,range:n}})=>{var r,i;return[e,new Un(null!==(r=n.lower)&&void 0!==r?r:t.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:t.MAX_KEY)]},p={get:t=>[l,new Un(t.key)],getMany:t=>[l,(new Un).addKeys(t.keys)],count:d,query:d,openCursor:d};return i(p).forEach((t=>{h[t]=function(i){const{subscr:o}=At;if(o){const a=t=>{const n=`idb://${e}/${r}/${t}`;return o[n]||(o[n]=new Un)},l=a(""),h=a(":dels"),[d,f]=p[t](i);if(a(d.name||"").add(f),!d.isPrimaryKey){if("count"!==t){const e="query"===t&&u&&i.values&&s.query({...i,values:!1});return s[t].apply(this,arguments).then((n=>{if("query"===t){if(u&&i.values)return e.then((({result:t})=>(l.addKeys(t),n)));const t=i.values?n.result.map(c):n.result;i.values?l.addKeys(t):h.addKeys(t)}else if("openCursor"===t){const t=n,e=i.values;return t&&Object.create(t,{key:{get:()=>(h.addKey(t.primaryKey),t.key)},primaryKey:{get(){const e=t.primaryKey;return h.addKey(e),e}},value:{get:()=>(e&&l.addKey(t.primaryKey),t.value)}})}return n}))}h.add(n)}}return s[t].apply(this,arguments)}})),h}}}};class tr{constructor(t,e){this._middlewares={},this.verno=0;const n=tr.dependencies;this._options=e={addons:tr.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:r}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new It((t=>{i.dbReadyResolve=t})),i.openCanceller=new It(((t,e)=>{i.cancelOpen=e})),this._state=i,this.name=t,this.on=Le(this,"populate","blocked","versionchange","close",{ready:[ht,rt]}),this.on.ready.subscribe=b(this.on.ready.subscribe,(t=>(e,n)=>{tr.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||It.resolve().then(e),n&&t(e);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(e),n&&t(e);else{t(e);const r=this;n||t((function t(){r.on.ready.unsubscribe(e),r.on.ready.unsubscribe(t)}))}}))})),this.Collection=(o=this,Be(Ke.prototype,(function(t,e){this.db=o;let n=De,r=null;if(e)try{n=e()}catch(t){r=t}const i=t._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:a!==it?a:null}}))),this.Table=function(t){return Be(Ie.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Le(null,{creating:[at,rt],reading:[ot,it],updating:[ct,rt],deleting:[lt,rt]})}))}(this),this.Transaction=function(t){return Be(un.prototype,(function(e,n,r,i,o){this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Le(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new It(((t,e)=>{this._resolve=t,this._reject=e})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),ge(t)}))}))}(this),this.Version=function(t){return Be(An.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Be(rn.prototype,(function(e,n,r){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r};const i=t._deps.indexedDB;if(!i)throw new tt.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(t,e)=>i.cmp(e,t),this._max=(t,e)=>i.cmp(t,e)>0?t:e,this._min=(t,e)=>i.cmp(t,e)<0?t:e,this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(t=>{t.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(t=>{!t.newVersion||t.newVersion<t.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${t.oldVersion/10}`)})),this._maxKey=fn(e.IDBKeyRange),this._createTransaction=(t,e,n,r)=>new this.Transaction(t,e,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=t=>{this.on("blocked").fire(t),ke.filter((t=>t.name===this.name&&t!==this&&!t._state.vcFired)).map((e=>e.on("versionchange").fire(t)))},this.use(Hn),this.use($n),this.use(Qn),this.use(Wn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((t=>t(this)))}version(t){if(isNaN(t)||t<.1)throw new tt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new tt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var n=e.filter((e=>e._cfg.version===t))[0];return n||(n=new this.Version(t),e.push(n),e.sort(kn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||At.letThrough||this._vip)?t():new It(((t,e)=>{if(this._state.openComplete)return e(new tt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new tt.DatabaseClosed);this.open().catch(rt)}this._state.dbReadyPromise.then(t,e)})).then(t)}use({stack:t,create:e,level:n,name:r}){r&&this.unuse({stack:t,name:r});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:e,level:null==n?10:n,name:r}),i.sort(((t,e)=>t.level-e.level)),this}unuse({stack:t,name:e,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((t=>n?t.create!==n:!!e&&t.name!==e))),this}open(){return Ln(this)}_close(){const t=this._state,e=ke.indexOf(this);if(e>=0&&ke.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new It((e=>{t.dbReadyResolve=e})),t.openCanceller=new It(((e,n)=>{t.cancelOpen=n}))}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new tt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new It(((n,r)=>{const i=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=Jt((()=>{!function({indexedDB:t,IDBKeyRange:e},n){!Dn(t)&&n!==Te&&Pn(t,e).delete(n).catch(rt)}(this._deps,this.name),n()})),t.onerror=on(r),t.onblocked=this._fireOnBlocked};if(t)throw new tt.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return i(this._allTables).map((t=>this._allTables[t]))}transaction(){const t=Rn.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,n){let r=At.trans;r&&r.db===this&&-1===t.indexOf("!")||(r=null);const i=-1!==t.indexOf("?");let o,s;t=t.replace("!","").replace("?","");try{if(s=e.map((t=>{var e=t instanceof this.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||t===Ee)o=Ee;else{if("rw"!=t&&t!=Ae)throw new tt.InvalidArgument("Invalid transaction mode: "+t);o=Ae}if(r){if(r.mode===Ee&&o===Ae){if(!i)throw new tt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((t=>{if(r&&-1===r.storeNames.indexOf(t)){if(!i)throw new tt.SubTransaction("Table "+t+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(t){return r?r._promise(null,((e,n)=>{n(t)})):ge(t)}const a=jn.bind(null,this,o,s,r,n);return r?r._promise(o,a,"lock"):At.trans?ue(At.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(t){if(!c(this._allTables,t))throw new tt.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const er="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class nr{constructor(t){this._subscribe=t}subscribe(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})}[er](){return this}}function rr(t,e){return i(e).forEach((n=>{Yn(t[n]||(t[n]=new Un),e[n])})),t}function ir(t){let e,n=!1;const r=new nr((r=>{const o=j(t);let s=!1,a={},l={};const c={get closed(){return s},unsubscribe:()=>{s=!0,cn.storagemutated.unsubscribe(p)}};r.start&&r.start(c);let u=!1,h=!1;function d(){return i(l).some((t=>a[t]&&Jn(a[t],l[t])))}const p=t=>{rr(a,t),d()&&f()},f=()=>{if(u||s)return;a={};const i={},m=function(e){o&&re();const n=()=>ne(t,{subscr:e,trans:null}),r=At.trans?ue(At.transless,n):n();return o&&r.then(ie,ie),r}(i);h||(cn(an,p),h=!0),u=!0,Promise.resolve(m).then((t=>{n=!0,e=t,u=!1,s||(d()?f():(a={},l=i,r.next&&r.next(t)))}),(t=>{u=!1,n=!1,r.error&&r.error(t),c.unsubscribe()}))};return f(),c}));return r.hasValue=()=>n,r.getValue=()=>e,r}let or;try{or={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(r){or={indexedDB:null,IDBKeyRange:null}}const sr=tr;function ar(t){let e=lr;try{lr=!0,cn.storagemutated.fire(t)}finally{lr=e}}u(sr,{...nt,delete:t=>new sr(t,{addons:[]}).delete(),exists:t=>new sr(t,{addons:[]}).open().then((t=>(t.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return function({indexedDB:t,IDBKeyRange:e}){return Dn(t)?Promise.resolve(t.databases()).then((t=>t.map((t=>t.name)).filter((t=>t!==Te)))):Pn(t,e).toCollection().primaryKeys()}(sr.dependencies).then(t)}catch(t){return ge(new tt.MissingAPI)}},defineClass:()=>function(t){s(this,t)},ignoreTransaction:t=>At.trans?ue(At.transless,t):t(),vip:Nn,async:function(t){return function(){try{var e=Bn(t.apply(this,arguments));return e&&"function"==typeof e.then?e:It.resolve(e)}catch(t){return ge(t)}}},spawn:function(t,e,n){try{var r=Bn(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:It.resolve(r)}catch(t){return ge(t)}},currentTransaction:{get:()=>At.trans||null},waitFor:function(t,e){const n=It.resolve("function"==typeof t?sr.ignoreTransaction(t):t).timeout(e||6e4);return At.trans?At.trans.waitFor(n):n},Promise:It,debug:{get:()=>z,set:t=>{H(t,"dexie"===t?()=>!0:Me)}},derive:p,extend:s,props:u,override:b,Events:Le,on:cn,liveQuery:ir,extendObservabilitySet:rr,getByKeyPath:_,setByKeyPath:k,delByKeyPath:function(t,e){"string"==typeof e?k(t,e,void 0):"length"in e&&[].map.call(e,(function(e){k(t,e,void 0)}))},shallowClone:S,deepClone:A,getObjectDiff:Fn,cmp:We,asap:w,minKey:we,addons:[],connections:ke,errnames:Z,dependencies:or,semVer:be,version:be.split(".").map((t=>parseInt(t))).reduce(((t,e,n)=>t+e/Math.pow(10,2*n)))}),sr.maxKey=fn(sr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(cn(an,(t=>{if(!lr){let e;Se?(e=document.createEvent("CustomEvent"),e.initCustomEvent(ln,!0,!0,t)):e=new CustomEvent(ln,{detail:t}),lr=!0,dispatchEvent(e),lr=!1}})),addEventListener(ln,(({detail:t})=>{lr||ar(t)})));let lr=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel(ln);"function"==typeof t.unref&&t.unref(),cn(an,(e=>{lr||t.postMessage(e)})),t.onmessage=t=>{t.data&&ar(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){cn(an,(t=>{try{lr||("undefined"!=typeof localStorage&&localStorage.setItem(ln,JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((e=>e.postMessage({type:ln,changedParts:t}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(t=>{if(t.key===ln){const e=JSON.parse(t.newValue);e&&ar(e.changedParts)}}));const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",(function({data:t}){t&&t.type===ln&&ar(t.changedParts)}))}It.rejectionMapper=function(t,e){if(!t||t instanceof Y||t instanceof TypeError||t instanceof SyntaxError||!t.name||!et[t.name])return t;var n=new et[t.name](e||t.message,t);return"stack"in t&&d(n,"stack",{get:function(){return this.inner.stack}}),n},H(z,Me)},2696:function(t,e,n){"use strict";n.d(e,{$:function(){return g},h:function(){return m}});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)r[48+a]=r[96+a]=String(a);for(a=1;a<=24;a++)r[a+111]="F"+a;for(a=65;a<=90;a++)r[a]=String.fromCharCode(a+32),i[a]=String.fromCharCode(a);for(var l in r)i.hasOwnProperty(l)||(i[l]=r[l]);function c(t){var e=o&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||s&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key,n=!e&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var u=n(2376);const h="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function d(t){let e,n,r,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let a=0;a<o.length-1;a++){let t=o[a];if(/^(cmd|meta|m)$/i.test(t))i=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);h?i=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function p(t){let e=Object.create(null);for(let n in t)e[d(n)]=t[n];return e}function f(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function m(t){return new u.Sy({props:{handleKeyDown:g(t)}})}function g(t){let e=p(t);return function(t,n){let i,o=c(n),s=e[f(o,n)];if(s&&s(t.state,t.dispatch,t))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=e[f(o,n,!1)];if(r&&r(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r[n.keyCode])&&i!=o){let r=e[f(i,n)];if(r&&r(t.state,t.dispatch,t))return!0}}return!1}}},2806:function(t,e,n){"use strict";function r(t){this.content=t}n.d(e,{aw:function(){return rt},PW:function(){return vt},HY:function(){return a},vc:function(){return h},ZU:function(){return tt},NB:function(){return D},Ts:function(){return A},e4:function(){return d},V_:function(){return et},p2:function(){return p}}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),s=i.content.slice();return-1==o?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),s=i.find(t);return o.splice(-1==s?o.length:s,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=r.from(t),t.size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=r.from(t),t.size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach((function(e,n){t[e]=n})),t},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var i=r;function o(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let t=0;i.text[t]==s.text[t];t++)n++;return n}if(i.content.size||s.content.size){let t=o(i.content,s.content,n+1);if(null!=t)return t}n+=i.nodeSize}else n+=i.nodeSize}}function s(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let a=t.child(--i),l=e.child(--o),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let t=0,e=Math.min(a.text.length,l.text.length);while(t<e&&a.text[a.text.length-t-1]==l.text[l.text.length-t-1])t++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let t=s(a.content,l.content,n-1,r-1);if(t)return t}n-=c,r-=c}else n-=c,r-=c}}class a{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),n,r+i)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,((s,a)=>{s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf?(r?i+="function"===typeof r?r(s):r:s.type.spec.leafText&&(i+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new a(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=a}return new a(n,r)}cutByIndex(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,i)}addToStart(t){return new a([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new a(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return o(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return s(this,t,e,n)}findIndex(t,e=-1){if(0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t||e>0?c(n+1,o):c(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return a.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new a(e||t,n)}static from(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);const l={index:0,offset:0};function c(t,e){return l.index=t,l.offset=e,l}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!u(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!u(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class h{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return h.none;if(t instanceof h)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}h.none=[];class d extends Error{}class p{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=m(this.content,t+this.openStart,e);return n&&new p(n,this.openStart,this.openEnd)}removeBetween(t,e){return new p(f(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return p.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new p(a.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new p(t,n,r)}}function f(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(f(o.content,e-i-1,n-i-1)))}function m(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=m(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function g(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return y(t,e,n,0)}function y(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=y(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:s}=C(n,t);return _(o,k(t,i,s,e,r))}{let r=t.parent,i=r.content;return _(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}return _(o,S(t,e,r))}function b(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function v(t,e,n){let r=t.node(n);return b(r,e.node(n)),r}function w(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function x(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(w(t.nodeAfter,r),o++));for(let a=o;a<s;a++)w(i.child(a),r);e&&e.depth==n&&e.textOffset&&w(e.nodeBefore,r)}function _(t,e){return t.type.checkContent(e),t.copy(e)}function k(t,e,n,r,i){let o=t.depth>i&&v(t,e,i+1),s=r.depth>i&&v(n,r,i+1),l=[];return x(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(b(o,s),w(_(o,k(t,e,n,r,i+1)),l)):(o&&w(_(o,S(t,e,i+1)),l),x(e,n,i,l),s&&w(_(s,S(n,r,i+1)),l)),x(r,null,i,l),new a(l)}function S(t,e,n){let r=[];if(x(null,t,n,r),t.depth>n){let i=v(t,e,n+1);w(_(i,S(t,e,n+1)),r)}return x(e,null,n,r),new a(r)}function C(t,e){let n=e.depth-t.openStart,r=e.node(n),i=r.copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(a.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}p.empty=new p(a.empty,0,0);class O{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let i=0;i<t;i++)r+=n.child(i).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return h.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new A(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let o=t;;){let{index:t,offset:e}=o.content.findIndex(i),s=i-e;if(n.push(o,t,r+e),!s)break;if(o=o.child(t),o.isText)break;i=s-1,r+=e+1}return new O(e,n,i)}static resolveCached(t,e){for(let r=0;r<M.length;r++){let n=M[r];if(n.pos==e&&n.doc==t)return n}let n=M[T]=O.resolve(t,e);return T=(T+1)%E,n}}let M=[],T=0,E=12;class A{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const P=Object.create(null);class D{constructor(t,e,n,r=h.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||a.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||P)&&h.sameSet(this.marks,n||h.none)}copy(t=null){return t==this.content?this:new D(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new D(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return p.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o),l=a.content.cut(r.pos-s,i.pos-s);return new p(l,r.depth-o,i.depth-o)}replace(t,e,n){return g(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return O.resolveCached(this,t)}resolveNoCache(t){return O.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=a.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=h.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!h.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=a.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}D.prototype.text=void 0;class N extends D{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new N(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new N(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function I(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class L{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new B(t,e);if(null==n.next)return L.empty;let r=R(n);n.next&&n.err("Unexpected trailing text");let i=K(W(r));return Y(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function i(o,s){let l=o.matchFragment(t,n);if(l&&(!e||l.validEnd))return a.from(s.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=i(n,s.concat(e));if(t)return t}}return null}return i(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}return e(this),t.map(((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let i=0;i<e.next.length;i++)r+=(i?", ":"")+e.next[i].type.name+"->"+t.indexOf(e.next[i].next);return r})).join("\n")}}L.empty=new L(!0);class B{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function R(t){let e=[];do{e.push(j(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function j(t){let e=[];do{e.push(z(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function z(t){let e=V(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=F(t,e)}return e}function H(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function F(t,e){let n=H(t),r=n;return t.eat(",")&&(r="}"!=t.next?H(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function $(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let t=n[o];t.groups.indexOf(e)>-1&&i.push(t)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}function V(t){if(t.eat("(")){let e=R(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=$(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}function W(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(o(n,e))),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(e,s),i(o(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return i(o(t.expr,e),s),i(o(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=n();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=n();r(s,e),i(o(t.expr,s),e),s=e}return[r(s)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(t.exprs[r],e);if(r==t.exprs.length-1)return s;i(s,e=n())}}}function q(t,e){return e-t}function U(t,e){let n=[];return r(e),n.sort(q);function r(e){let i=t[e];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(e);for(let t=0;t<i.length;t++){let{term:e,to:o}=i[t];e||-1!=n.indexOf(o)||r(o)}}}function K(t){let e=Object.create(null);return n(U(t,0));function n(r){let i=[];r.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return;let r;for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);U(t,n).forEach((t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)}))}))}));let o=e[r.join(",")]=new L(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(q);o.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return o}}function Y(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:s}=t.next[e];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function J(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function G(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=e.default}n[r]=i}return n}function X(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Q(t[n]);return e}class Z{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=X(n.attrs),this.defaultAttrs=J(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==L.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:G(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new D(this,this.computeAttrs(t),a.from(e),h.setFrom(n))}createChecked(t=null,e,n){return e=a.from(e),this.checkContent(e),new D(this,this.computeAttrs(t),e,h.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=a.from(e),e.size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(a.empty,!0);return i?new D(this,t,e.append(i),h.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:h.none:t}static compile(t,e){let n=Object.create(null);t.forEach(((t,r)=>n[t]=new Z(t,e,r)));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Q{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class tt{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=X(r.attrs),this.excluded=null;let i=J(this.attrs);this.instance=i?new h(this,i):null}create(t=null){return!t&&this.instance?this.instance:new h(this,G(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach(((t,i)=>n[t]=new tt(t,r++,e,i))),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class et{constructor(t){this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=i.from(t.nodes),e.marks=i.from(t.marks||{}),this.nodes=Z.compile(this.spec.nodes,this),this.marks=tt.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let t=this.nodes[r],e=t.spec.content||"",i=t.spec.marks;t.contentMatch=n[e]||(n[e]=L.parse(e,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.markSet="_"==i?null:i?nt(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let r in this.marks){let t=this.marks[r],e=t.spec.excludes;t.excluded=null==e?[t]:""==e?[]:nt(this,e.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Z))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new N(n,n.defaultAttrs,t,h.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return D.fromJSON(this,t)}markFromJSON(t){return h.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function nt(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class rt{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new dt(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new dt(this,e,!0);return n.addAll(t,e.from,e.to),p.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ft(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(t)||r.context&&!n.matchesContext(r.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r],i=null==t.priority?50:t.priority;if(i<n)break}e.splice(r,0,t)}for(let r in t.marks){let e=t.marks[r].spec.parseDOM;e&&e.forEach((t=>{n(t=gt(t)),t.mark||t.ignore||t.clearMark||(t.mark=r)}))}for(let r in t.nodes){let e=t.nodes[r].spec.parseDOM;e&&e.forEach((t=>{n(t=gt(t)),t.node||t.ignore||t.mark||(t.node=r)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new rt(t,rt.schemaRules(t)))}}const it={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ot={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},st={ol:!0,ul:!0},at=1,lt=2,ct=4;function ut(t,e,n){return null!=e?(e?at:0)|("full"===e?lt:0):t&&"pre"==t.whitespace?at|lt:n&~ct}class ht{constructor(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=h.none,this.stashMarks=[],this.match=o||(s&ct?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(a.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&at)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=a.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,n=this.pendingMarks;e<n.length;e++){let r=n[e];(this.type?this.type.allowsMarkType(r.type):yt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!it.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class dt{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,i=e.topNode,o=ut(null,e.preserveWhitespace,0)|(n?ct:0);r=i?new ht(i.type,i.attrs,h.none,h.none,!0,e.topMatch||i.type.contentMatch,o):new ht(n?null:t.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){3==t.nodeType?this.addTextNode(t):1==t.nodeType&&this.addElement(t)}withStyleRules(t,e){let n=t.getAttribute("style");if(!n)return e();let r=this.readStyles(mt(n));if(!r)return;let[i,o]=r,s=this.top;for(let a=0;a<o.length;a++)this.removePendingMark(o[a],s);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);e();for(let a=0;a<i.length;a++)this.removePendingMark(i[a],s);for(let a=0;a<o.length;a++)this.addPendingMark(o[a])}addTextNode(t){let e=t.nodeValue,n=this.top;if(n.options&lt||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&at)e=n.options&lt?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();st.hasOwnProperty(r)&&this.parser.normalizeLists&&pt(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:ot.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let e,n=this.top,o=this.needsBlock;if(it.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);i&&i.skip?this.addAll(t):this.withStyleRules(t,(()=>this.addAll(t))),e&&this.sync(n),this.needsBlock=o}else this.withStyleRules(t,(()=>{this.addElementByRule(t,i,!1===i.consuming?n:void 0)}))}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=h.none,n=h.none;for(let r=0;r<t.length;r+=2)for(let i;;){let o=this.parser.matchStyle(t[r],t[r+1],this,i);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach((t=>{o.clearMark(t)&&(n=t.addToSet(n))})):e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;i=o}return[e,n]}addElementByRule(t,e,n){let r,i,o;if(e.node)i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace);else{let t=this.parser.schema.marks[e.mark];o=t.create(e.attrs),this.addPendingMark(o)}let s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(t,e,n){let r=e||0;for(let i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(let r=0;r<e.length;r++)this.enterInner(e[r],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let r=0;r<t.marks.length;r++)e.type&&!e.type.allowsMarkType(t.marks[r].type)||(n=t.marks[r].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=ut(t,r,i.options);i.options&ct&&0==i.content.length&&(o|=ct),this.nodes.push(new ht(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){let t=e.compareDocumentPosition(this.find[r].node);t&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=i;s--)if(o(t-1,s))return!0;return!1}{let t=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!t||t.name!=a&&-1==t.groups.indexOf(a))return!1;s--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(t){let e=bt(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let n=this.open;n>=0;n--){let r=this.nodes[n],i=r.pendingMarks.lastIndexOf(t);if(i>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);let e=r.popFromStashMark(t);e&&r.type&&r.type.allowsMarkType(e.type)&&(r.activeMarks=e.addToSet(r.activeMarks))}if(r==e)break}}}function pt(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&st.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}function ft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mt(t){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(e=n.exec(t))r.push(e[1],e[2].trim());return r}function gt(t){let e={};for(let n in t)e[n]=t[n];return e}function yt(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=t=>{o.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}function bt(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class vt{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=xt(e).createDocumentFragment());let r=n,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let n=0,o=0;while(n<i.length&&o<t.marks.length){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}else o++}while(n<i.length)r=i.pop()[1];while(o<t.marks.length){let n=t.marks[o++],s=this.serializeMark(n,t.isInline,e);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=vt.renderSpec(xt(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&vt.renderSpec(xt(n),r(t,e))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s=n?t.createElementNS(n,i):t.createElement(i),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let t in a)if(null!=a[t]){let e=t.indexOf(" ");e>0?s.setAttributeNS(t.slice(0,e),t.slice(e+1),a[t]):s.setAttribute(t,a[t])}}for(let c=l;c<e.length;c++){let i=e[c];if(0===i){if(c<e.length-1||c>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:e,contentDOM:o}=vt.renderSpec(t,i,n);if(s.appendChild(e),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:s,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new vt(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=wt(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return wt(t.marks)}}function wt(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function xt(t){return t.document||window.document}},2376:function(t,e,n){"use strict";n.d(e,{Bs:function(){return u},C1:function(){return f},H$:function(){return P},Sy:function(){return T},Y1:function(){return s},qv:function(){return d},yy:function(){return O}});var r=n(2806),i=n(6560);const o=Object.create(null);class s{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new a(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=r.p2.empty){let n=e.content.lastChild,i=null;for(let r=0;r<e.openEnd;r++)i=n,n=n.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),a?r.p2.empty:e),0==a&&y(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=t.mapping.slice(n),l=a.map(o.pos),c=a.map(s.pos);i?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),y(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new u(t):g(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let i=t.depth-1;i>=0;i--){let r=e<0?g(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):g(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(r)return r}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new f(t.node(0))}static atStart(t){return g(t,t,0,0,1)||new f(t)}static atEnd(t){return g(t,t,t.content.size,t.childCount,-1)||new f(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=o[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e}getBookmark(){return u.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class a{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function c(t){l||t.parent.inlineContent||(l=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class u extends s{constructor(t,e=t){c(t),c(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=t.resolve(e.map(this.anchor));return new u(r.parent.inlineContent?r:n,n)}replace(t,e=r.p2.empty){if(super.replace(t,e),e==r.p2.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof u&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new u(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=s.findFrom(e,n,!0)||s.findFrom(e,-n,!0);if(!t)return s.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r?t=e:(t=(s.findFrom(t,-n,!0)||s.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new u(t,e)}}s.jsonID("text",u);class h{constructor(t,e){this.anchor=t,this.head=e}map(t){return new h(t.map(this.anchor),t.map(this.head))}resolve(t){return u.between(t.resolve(this.anchor),t.resolve(this.head))}}class d extends s{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?s.near(i):new d(i)}content(){return new r.p2(r.HY.from(this.node),0,0)}eq(t){return t instanceof d&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new p(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new d(t.resolve(e.anchor))}static create(t,e){return new d(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}d.prototype.visible=!1,s.jsonID("node",d);class p{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new h(n,n):new p(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&d.isSelectable(n)?new d(e):s.near(e)}}class f extends s{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=r.p2.empty){if(e==r.p2.empty){t.delete(0,t.doc.content.size);let e=s.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new f(t)}map(t){return new f(t)}eq(t){return t instanceof f}getBookmark(){return m}}s.jsonID("all",f);const m={map(){return this},resolve(t){return new f(t)}};function g(t,e,n,r,i,o=!1){if(e.inlineContent)return u.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let r=e.child(s);if(r.isAtom){if(!o&&d.isSelectable(r))return d.create(t,n-(i<0?r.nodeSize:0))}else{let e=g(t,r,n+i,i<0?r.childCount:0,i,o);if(e)return e}n+=r.nodeSize*i}return null}function y(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof i.Pu||o instanceof i.FC))return;let a,l=t.mapping.maps[r];l.forEach(((t,e,n,r)=>{null==a&&(a=r)})),t.setSelection(s.near(t.doc.resolve(a),n))}const b=1,v=2,w=4;class x extends i.wx{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|b)&~v,this.storedMarks=null,this}get selectionSet(){return(this.updated&b)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=v,this}ensureMarks(t){return r.vc.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&v)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~v,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.vc.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=w,this}get scrolledIntoView(){return(this.updated&w)>0}}function _(t,e){return e&&t?t.bind(e):t}class k{constructor(t,e,n){this.name=t,this.init=_(e.init,n),this.apply=_(e.apply,n)}}const S=[new k("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new k("selection",{init(t,e){return t.selection||s.atStart(e.doc)},apply(t){return t.selection}}),new k("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new k("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class C{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=S.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new k(t.key,t.spec.state,t))}))}}class O{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let a=r?r[o].n:0,l=r?r[o].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new O(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new x(this)}static create(t){let e=new C(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new O(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new C(this.schema,t.plugins),n=e.fields,r=new O(e);for(let i=0;i<n.length;i++){let e=n[i].name;r[e]=this.hasOwnProperty(e)?this[e]:n[i].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new C(t.schema,t.plugins),o=new O(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=r.NB.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(o[i.name]=a.fromJSON.call(s,t,e[r],o))}o[i.name]=i.init(t,o)}})),o}}function M(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=M(i,e,{})),n[r]=i}return n}class T{constructor(t){this.spec=t,this.props={},t.props&&M(t.props,this,this.props),this.key=t.key?t.key.key:A("plugin")}getState(t){return t[this.key]}}const E=Object.create(null);function A(t){return t in E?t+"$"+ ++E[t]:(E[t]=0,t+"$")}class P{constructor(t="key"){this.key=A(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},6560:function(t,e,n){"use strict";n.d(e,{Ax:function(){return F},FC:function(){return C},GJ:function(){return q},Mn:function(){return V},Pu:function(){return S},dR:function(){return J},k9:function(){return P},nd:function(){return N},nj:function(){return Y},vs:function(){return m},wx:function(){return pt}});var r=n(2806);const i=65535,o=Math.pow(2,16);function s(t,e){return t+e*o}function a(t){return t&i}function l(t){return(t-(t&i))/o}const c=1,u=2,h=4,d=8;class p{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&d)>0}get deletedBefore(){return(this.delInfo&(c|h))>0}get deletedAfter(){return(this.delInfo&(u|h))>0}get deletedAcross(){return(this.delInfo&h)>0}}class f{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&f.empty)return f.empty}recover(t){let e=0,n=a(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+l(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let f=this.ranges[a+i],m=this.ranges[a+o],g=l+f;if(t<=g){let i=f?t==l?-1:t==g?1:e:e,o=l+r+(i<0?0:m);if(n)return o;let y=t==(e<0?l:g)?null:s(a/3,t-l),b=t==l?u:t==g?c:h;return(e<0?t!=l:t!=g)&&(b|=d),new p(o,b,y)}r+=m-f}return n?t+r:new p(t+r,0,null)}touches(t,e){let n=0,r=a(e),i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let e=this.ranges[s]-(this.inverted?n:0);if(e>t)break;let a=this.ranges[s+i],l=e+a;if(t<=l&&s==3*r)return!0;n+=this.ranges[s+o]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[r+e],c=this.ranges[r+n];t(s,s+l,a,a+c),i+=c-l}}invert(){return new f(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?f.empty:new f(t<0?[0,-t,0]:[0,0,t])}}f.empty=new f([]);class m{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new m(this.maps,this.mirror,t,e)}copy(){return new m(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new m;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i],o=n.mapResult(t,e);if(null!=o.recover){let e=this.getMirror(i);if(null!=e&&e>i&&e<this.to){i=e,t=this.maps[e].recover(o.recover);continue}}r|=o.delInfo,t=o.pos}return n?t:new p(t,r,null)}}const g=Object.create(null);class y{getMap(){return f.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=g[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in g)throw new RangeError("Duplicate use of step JSON ID "+t);return g[t]=e,e.prototype.jsonID=t,e}}class b{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new b(t,null)}static fail(t){return new b(null,t)}static fromReplace(t,e,n,i){try{return b.ok(t.replace(e,n,i))}catch(o){if(o instanceof r.e4)return b.fail(o.message);throw o}}}function v(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(v(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return r.HY.fromArray(i)}class w extends y{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new r.p2(v(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),i),e.openStart,e.openEnd);return b.fromReplace(t,this.from,this.to,o)}invert(){return new x(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new w(e.pos,n.pos,this.mark)}merge(t){return t instanceof w&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new w(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new w(e.from,e.to,t.markFromJSON(e.mark))}}y.jsonID("addMark",w);class x extends y{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r.p2(v(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return b.fromReplace(t,this.from,this.to,n)}invert(){return new w(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new x(e.pos,n.pos,this.mark)}merge(t){return t instanceof x&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new x(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new x(e.from,e.to,t.markFromJSON(e.mark))}}y.jsonID("removeMark",x);class _ extends y{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return b.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return b.fromReplace(t,this.pos,this.pos+1,new r.p2(r.HY.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new _(this.pos,e.marks[n]);return new _(this.pos,this.mark)}}return new k(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new _(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _(e.pos,t.markFromJSON(e.mark))}}y.jsonID("addNodeMark",_);class k extends y{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return b.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return b.fromReplace(t,this.pos,this.pos+1,new r.p2(r.HY.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new _(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new k(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new k(e.pos,t.markFromJSON(e.mark))}}y.jsonID("removeNodeMark",k);class S extends y{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&O(t,this.from,this.to)?b.fail("Structure replace would overwrite content"):b.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new f([this.from,this.to-this.from,this.slice.size])}invert(t){return new S(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new S(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof S)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new S(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new S(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new S(e.from,e.to,r.p2.fromJSON(t,e.slice),!!e.structure)}}y.jsonID("replace",S);class C extends y{constructor(t,e,n,r,i,o,s=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(t){if(this.structure&&(O(t,this.from,this.gapFrom)||O(t,this.gapTo,this.to)))return b.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return b.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?b.fromReplace(t,this.from,this.to,n):b.fail("Content does not fit in gap")}getMap(){return new f([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new C(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new C(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new C(e.from,e.to,e.gapFrom,e.gapTo,r.p2.fromJSON(t,e.slice),e.insert,!!e.structure)}}function O(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){let t=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function M(t,e,n,r){let i,o,s=[],a=[];t.doc.nodesBetween(e,n,((t,l,c)=>{if(!t.isInline)return;let u=t.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,e),h=Math.min(l+t.nodeSize,n),d=r.addToSet(u);for(let t=0;t<u.length;t++)u[t].isInSet(d)||(i&&i.to==c&&i.mark.eq(u[t])?i.to=h:s.push(i=new x(c,h,u[t])));o&&o.to==c?o.to=h:a.push(o=new w(c,h,r))}})),s.forEach((e=>t.step(e))),a.forEach((e=>t.step(e)))}function T(t,e,n,i){let o=[],s=0;t.doc.nodesBetween(e,n,((t,a)=>{if(!t.isInline)return;s++;let l=null;if(i instanceof r.ZU){let e,n=t.marks;while(e=i.isInSet(n))(l||(l=[])).push(e),n=e.removeFromSet(n)}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length){let r=Math.min(a+t.nodeSize,n);for(let t=0;t<l.length;t++){let n,i=l[t];for(let t=0;t<o.length;t++){let e=o[t];e.step==s-1&&i.eq(o[t].style)&&(n=e)}n?(n.to=r,n.step=s):o.push({style:i,from:Math.max(a,e),to:r,step:s})}}})),o.forEach((e=>t.step(new x(e.from,e.to,e.style))))}function E(t,e,n,i=n.contentMatch){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let e=o.child(l),c=a+e.nodeSize,u=i.matchType(e.type);if(u){i=u;for(let r=0;r<e.marks.length;r++)n.allowsMarkType(e.marks[r].type)||t.step(new x(a,c,e.marks[r]));if(e.isText&&!n.spec.code){let t,i,o=/\r?\n|\r/g;while(t=o.exec(e.text))i||(i=new r.p2(r.HY.from(n.schema.text(" ",n.allowedMarks(e.marks))),0,0)),s.push(new S(a+t.index,a+t.index+t[0].length,i))}}else s.push(new S(a,c,r.p2.empty));a=c}if(!i.validEnd){let e=i.fillBefore(r.HY.empty,!0);t.replace(a,a,new r.p2(e,0,0))}for(let r=s.length-1;r>=0;r--)t.step(s[r])}function A(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function P(t){let e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let e=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&e.canReplace(i,o,n))return r;if(0==r||e.type.spec.isolating||!A(e,i,o))break}return null}function D(t,e,n){let{$from:i,$to:o,depth:s}=e,a=i.before(s+1),l=o.after(s+1),c=a,u=l,h=r.HY.empty,d=0;for(let m=s,g=!1;m>n;m--)g||i.index(m)>0?(g=!0,h=r.HY.from(i.node(m).copy(h)),d++):c--;let p=r.HY.empty,f=0;for(let m=s,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,p=r.HY.from(o.node(m).copy(p)),f++):u++;t.step(new C(c,u,a,l,new r.p2(h.append(p),d,f),h.size-d,!0))}function N(t,e,n=null,r=t){let i=L(t,e),o=i&&B(r,e);return o?i.map(I).concat({type:e,attrs:n}).concat(o.map(I)):null}function I(t){return{type:t,attrs:null}}function L(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function B(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=s.length?s[s.length-1]:e,l=a.contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}function R(t,e,n){let i=r.HY.empty;for(let a=n.length-1;a>=0;a--){if(i.size){let t=n[a].type.contentMatch.matchFragment(i);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.HY.from(n[a].type.create(n[a].attrs,i))}let o=e.start,s=e.end;t.step(new C(o,s,o,s,new r.p2(i,0,0),n.length,!0))}function j(t,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,((e,n)=>{if(e.isTextblock&&!e.hasMarkup(i,o)&&z(t.doc,t.mapping.slice(s).map(n),i)){t.clearIncompatible(t.mapping.slice(s).map(n,1),i);let a=t.mapping.slice(s),l=a.map(n,1),c=a.map(n+e.nodeSize,1);return t.step(new C(l,c,l+1,c-1,new r.p2(r.HY.from(i.create(o,null,e.marks)),0,0),1,!0)),!1}}))}function z(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function H(t,e,n,i,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(i,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new C(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new r.p2(r.HY.from(a),0,0),1,!0))}function F(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let t=i.node(c),e=i.index(c);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount),o=r&&r[u+1];o&&(n=n.replaceChild(0,o.type.create(o.attrs)));let s=r&&r[u]||t;if(!t.canReplace(e+1,t.childCount)||!s.type.validContent(n))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function $(t,e,n=1,i){let o=t.doc.resolve(e),s=r.HY.empty,a=r.HY.empty;for(let l=o.depth,c=o.depth-n,u=n-1;l>c;l--,u--){s=r.HY.from(o.node(l).copy(s));let t=i&&i[u];a=r.HY.from(t?t.type.create(t.attrs,a):o.node(l).copy(a))}t.step(new S(e,e,new r.p2(s.append(a),n,n),!0))}function V(t,e){let n=t.resolve(e),r=n.index();return W(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function W(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function q(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let t,o,s=r.index(i);if(i==r.depth?(t=r.nodeBefore,o=r.nodeAfter):n>0?(t=r.node(i+1),s++,o=r.node(i).maybeChild(s)):(t=r.node(i).maybeChild(s-1),o=r.node(i+1)),t&&!t.isTextblock&&W(t,o)&&r.node(i).canReplace(s,s+1))return e;if(0==i)break;e=n<0?r.before(i):r.after(i)}}function U(t,e,n){let i=new S(e-n,e+n,r.p2.empty,!0);t.step(i)}function K(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let t=r.index(i);if(r.node(i).canReplaceWith(t,t,n))return r.before(i+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let t=r.indexAfter(i);if(r.node(i).canReplaceWith(t,t,n))return r.after(i+1);if(t<r.node(i).childCount)return null}return null}function Y(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let t=r.depth;t>=0;t--){let e=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,n=r.index(t)+(e>0?1:0),s=r.node(t),a=!1;if(1==o)a=s.canReplace(n,n,i);else{let t=s.contentMatchAt(n).findWrapping(i.firstChild.type);a=t&&s.canReplaceWith(n,n,t[0])}if(a)return 0==e?r.pos:e<0?r.before(t+1):r.after(t+1)}return null}function J(t,e,n=e,i=r.p2.empty){if(e==n&&!i.size)return null;let o=t.resolve(e),s=t.resolve(n);return G(o,s,i)?new S(e,n,i):new X(o,s,i).fit()}function G(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}y.jsonID("replaceAround",C);class X{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.HY.empty;for(let r=0;r<=t.depth;r++){let e=t.node(r);this.frontier.push({type:e.type,match:e.contentMatchAt(t.indexAfter(r))})}for(let i=t.depth;i>0;i--)this.placed=r.HY.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,s=n.depth,a=i.depth;while(s&&a&&1==o.childCount)o=o.firstChild.content,s--,a--;let l=new r.p2(o,s,a);return t>-1?new C(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new S(n.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let i=e.firstChild;if(e.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){t=n;break}e=i.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,i=null;n?(i=tt(this.unplaced.content,n-1).firstChild,t=i.content):t=this.unplaced.content;let o=t.firstChild;for(let s=this.depth;s>=0;s--){let t,{type:a,match:l}=this.frontier[s],c=null;if(1==e&&(o?l.matchType(o.type)||(c=l.fillBefore(r.HY.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:c};if(2==e&&o&&(t=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:t};if(i&&l.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tt(t,e);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.p2(t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tt(t,e);if(i.childCount<=1&&e>0){let o=t.size-e<=e+i.size;this.unplaced=new r.p2(Z(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new r.p2(Z(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:o}){while(this.depth>e)this.closeFrontierNode();if(o)for(let r=0;r<o.length;r++)this.openFrontierNode(o[r]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-t,c=0,u=[],{match:h,type:d}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)u.push(i.child(t));h=h.matchFragment(i)}let p=a.size+t-(s.content.size-s.openEnd);while(c<a.childCount){let t=a.child(c),e=h.matchType(t.type);if(!e)break;c++,(c>1||0==l||t.content.size)&&(h=e,u.push(et(t.mark(d.allowedMarks(t.marks)),1==c?l:0,c==a.childCount?p:-1)))}let f=c==a.childCount;f||(p=-1),this.placed=Q(this.placed,e,r.HY.from(u)),this.frontier[e].match=h,f&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let r=0,m=a;r<p;r++){let t=m.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),m=t.content}this.unplaced=f?0==t?r.p2.empty:new r.p2(Z(s.content,t-1,1),t-1,p<0?s.openEnd:t-1):new r.p2(Z(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!nt(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=nt(t,e,r,n,i);if(o){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=nt(t,n,r,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:o,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=Q(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Q(this.placed,this.depth,r.HY.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop(),e=t.match.fillBefore(r.HY.empty,!0);e.childCount&&(this.placed=Q(this.placed,this.frontier.length,e))}}function Z(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Z(t.firstChild.content,e-1,n)))}function Q(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Q(t.lastChild.content,e-1,n)))}function tt(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function et(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,et(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.HY.empty,!0)))),t.copy(i)}function nt(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!rt(n,o.content,s)?a:null}function rt(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function it(t){return t.spec.defining||t.spec.definingForContent}function ot(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(G(o,s,i))return t.step(new S(e,n,i));let a=ct(o,t.doc.resolve(n));0==a[a.length-1]&&a.pop();let l=-(o.depth+1);a.unshift(l);for(let r=o.depth,p=o.pos-1;r>0;r--,p--){let t=o.node(r).type.spec;if(t.defining||t.definingAsContext||t.isolating)break;a.indexOf(r)>-1?l=r:o.before(r)==p&&a.splice(1,0,-r)}let c=a.indexOf(l),u=[],h=i.openStart;for(let r=i.content,p=0;;p++){let t=r.firstChild;if(u.push(t),p==i.openStart)break;r=t.content}for(let r=h-1;r>=0;r--){let t=u[r],e=it(t.type);if(e&&!t.sameMarkup(o.node(Math.abs(l)-1)))h=r;else if(e||!t.type.isTextblock)break}for(let p=i.openStart;p>=0;p--){let e=(p+h+1)%(i.openStart+1),l=u[e];if(l)for(let u=0;u<a.length;u++){let h=a[(u+c)%a.length],d=!0;h<0&&(d=!1,h=-h);let p=o.node(h-1),f=o.index(h-1);if(p.canReplaceWith(f,f,l.type,l.marks))return t.replace(o.before(h),d?s.after(h):n,new r.p2(st(i.content,0,i.openStart,e),e,i.openEnd))}}let d=t.steps.length;for(let r=a.length-1;r>=0;r--){if(t.replace(e,n,i),t.steps.length>d)break;let l=a[r];l<0||(e=o.before(l),n=s.after(l))}}function st(t,e,n,i,o){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(st(r.content,e+1,n,i,r)))}if(e>i){let e=o.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.HY.empty,!0))}return t}function at(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=K(t.doc,e,i.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r.p2(r.HY.from(i),0,0))}function lt(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=ct(r,i);for(let s=0;s<o.length;s++){let e=o[s],n=s==o.length-1;if(n&&0==e||r.node(e).type.contentMatch.validEnd)return t.delete(r.start(e),i.end(e));if(e>0&&(n||r.node(e-1).canReplace(r.index(e-1),i.indexAfter(e-1))))return t.delete(r.before(e),i.after(e))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function ct(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let r=t.start(i);if(r<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&n.push(i)}return n}class ut extends y{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return b.fail("No node at attribute step's position");let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,null,e.marks);return b.fromReplace(t,this.pos,this.pos+1,new r.p2(r.HY.from(i),0,e.isLeaf?0:1))}getMap(){return f.empty}invert(t){return new ut(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new ut(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new ut(e.pos,e.attr,e.value)}}y.jsonID("attr",ut);class ht extends y{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return b.ok(n)}getMap(){return f.empty}invert(t){return new ht(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ht(e.attr,e.value)}}y.jsonID("docAttr",ht);let dt=class extends Error{};dt=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},dt.prototype=Object.create(Error.prototype),dt.prototype.constructor=dt,dt.prototype.name="TransformError";class pt{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new m}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new dt(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r.p2.empty){let i=J(this.doc,t,e,n);return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new r.p2(r.HY.from(n),0,0))}delete(t,e){return this.replace(t,e,r.p2.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return ot(this,t,e,n),this}replaceRangeWith(t,e,n){return at(this,t,e,n),this}deleteRange(t,e){return lt(this,t,e),this}lift(t,e){return D(this,t,e),this}join(t,e=1){return U(this,t,e),this}wrap(t,e){return R(this,t,e),this}setBlockType(t,e=t,n,r=null){return j(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return H(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new ut(t,e,n)),this}setDocAttribute(t,e){return this.step(new ht(t,e)),this}addNodeMark(t,e){return this.step(new _(t,e)),this}removeNodeMark(t,e){if(!(e instanceof r.vc)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e=e.isInSet(n.marks),!e)return this}return this.step(new k(t,e)),this}split(t,e=1,n){return $(this,t,e,n),this}addMark(t,e,n){return M(this,t,e,n),this}removeMark(t,e,n){return T(this,t,e,n),this}clearIncompatible(t,e,n){return E(this,t,e,n),this}}},4348:function(t,e,n){"use strict";n.d(e,{EH:function(){return In},p:function(){return Pn},tk:function(){return hr}});var r=n(2376),i=n(2806),o=n(6560);const s=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},a=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let l=null;const c=function(t,e,n){let r=l||(l=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},u=function(t,e,n,r){return n&&(d(t,e,n,r,-1)||d(t,e,n,r,1))},h=/^(img|br|input|textarea|hr)$/i;function d(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:p(t))){let n=t.parentNode;if(!n||1!=n.nodeType||m(t)||h.test(t.nodeName)||"false"==t.contentEditable)return!1;e=s(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?p(t):0}}}function p(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function f(t,e,n){for(let r=0==e,i=e==p(t);r||i;){if(t==n)return!0;let e=s(t);if(t=t.parentNode,!t)return!1;r=r&&0==e,i=i&&e==p(t)}}function m(t){let e;for(let n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const g=function(t){return t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function y(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function b(t){let e=t.activeElement;while(e&&e.shadowRoot)e=e.shadowRoot.activeElement;return e}function v(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const w="undefined"!=typeof navigator?navigator:null,x="undefined"!=typeof document?document:null,_=w&&w.userAgent||"",k=/Edge\/(\d+)/.exec(_),S=/MSIE \d/.exec(_),C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_),O=!!(S||C||k),M=S?document.documentMode:C?+C[1]:k?+k[1]:0,T=!O&&/gecko\/(\d+)/i.test(_);T&&(/Firefox\/(\d+)/.exec(_)||[0,0])[1];const E=!O&&/Chrome\/(\d+)/.exec(_),A=!!E,P=E?+E[1]:0,D=!O&&!!w&&/Apple Computer/.test(w.vendor),N=D&&(/Mobile\/\w+/.test(_)||!!w&&w.maxTouchPoints>2),I=N||!!w&&/Mac/.test(w.platform),L=!!w&&/Win/.test(w.platform),B=/Android \d/.test(_),R=!!x&&"webkitFontSmoothing"in x.documentElement.style,j=R?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function z(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function H(t,e){return"number"==typeof t?t:t[e]}function F(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function $(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;;s=a(s)){if(!s)break;if(1!=s.nodeType)continue;let t=s,n=t==o.body,a=n?z(o):F(t),l=0,c=0;if(e.top<a.top+H(r,"top")?c=-(a.top-e.top+H(i,"top")):e.bottom>a.bottom-H(r,"bottom")&&(c=e.bottom-e.top>a.bottom-a.top?e.top+H(i,"top")-a.top:e.bottom-a.bottom+H(i,"bottom")),e.left<a.left+H(r,"left")?l=-(a.left-e.left+H(i,"left")):e.right>a.right-H(r,"right")&&(l=e.right-a.right+H(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=t.scrollLeft,r=t.scrollTop;c&&(t.scrollTop+=c),l&&(t.scrollLeft+=l);let i=t.scrollLeft-n,o=t.scrollTop-r;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function V(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=t.root.elementFromPoint(o,s);if(!r||r==t.dom||!t.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){e=r,n=a.top;break}}return{refDOM:e,refTop:n,stack:W(t.dom)}}function W(t){let e=[],n=t.ownerDocument;for(let r=t;r;r=a(r))if(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t==n)break;return e}function q({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;U(n,0==r?0:r-e)}function U(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let K=null;function Y(t){if(t.setActive)return t.setActive();if(K)return t.focus(K);let e=W(t);t.focus(null==K?{get preventScroll(){return K={preventScroll:!0},!0}}:void 0),K||(K=!1,U(e,0))}function J(t,e){let n,r,i,o,s=2e8,a=0,l=e.top,u=e.top;for(let h=t.firstChild,d=0;h;h=h.nextSibling,d++){let t;if(1==h.nodeType)t=h.getClientRects();else{if(3!=h.nodeType)continue;t=c(h).getClientRects()}for(let c=0;c<t.length;c++){let p=t[c];if(p.top<=l&&p.bottom>=u){l=Math.max(p.bottom,l),u=Math.min(p.top,u);let t=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(t<s){n=h,s=t,r=t&&3==n.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==h.nodeType&&t&&(a=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!i&&p.left<=e.left&&p.right>=e.left&&(i=h,o={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(a=d+1)}}return!n&&i&&(n=i,r=o,s=0),n&&3==n.nodeType?G(n,r):!n||s&&1==n.nodeType?{node:t,offset:a}:J(n,r)}function G(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let n=it(r,1);if(n.top!=n.bottom&&X(e,n))return{node:t,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}function X(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Z(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Q(t,e,n){let{node:r,offset:i}=J(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function tt(t,e,n,r){let i=-1;for(let o=e,s=!1;;){if(o==t.dom)break;let e=t.docView.nearestDesc(o,!0);if(!e)return null;if(1==e.dom.nodeType&&(e.node.isBlock&&e.parent&&!s||!e.contentDOM)){let t=e.dom.getBoundingClientRect();if(e.node.isBlock&&e.parent&&!s&&(s=!0,t.left>r.left||t.top>r.top?i=e.posBefore:(t.right<r.left||t.bottom<r.top)&&(i=e.posAfter)),!e.contentDOM&&i<0&&!e.node.isText){let n=e.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2;return n?e.posBefore:e.posAfter}}o=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function et(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=t.childNodes[o];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(X(e,i))return et(n,e,i)}}if((o=(o+1)%r)==i)break}return t}function nt(t,e){let n,r=t.dom.ownerDocument,i=0,o=v(r,e.left,e.top);o&&({node:n,offset:i}=o);let s,l=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=t.dom.getBoundingClientRect();if(!X(e,n))return null;if(l=et(t.dom,e,n),!l)return null}if(D)for(let u=l;n&&u;u=a(u))u.draggable&&(n=void 0);if(l=Z(l,e),n){if(T&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let t,r=n.childNodes[i];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}let r;R&&i&&1==n.nodeType&&1==(r=n.childNodes[i-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=tt(t,n,i,e))}null==s&&(s=Q(t,l,e));let c=t.docView.nearestDesc(l,!0);return{pos:s,inside:c?c.posAtStart-c.border:-1}}function rt(t){return t.top<t.bottom||t.left<t.right}function it(t,e){let n=t.getClientRects();if(n.length){let t=n[e<0?0:n.length-1];if(rt(t))return t}return Array.prototype.find.call(n,rt)||t.getBoundingClientRect()}const ot=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function st(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=R||T;if(3==r.nodeType){if(!s||!ot.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let t=i,e=i,o=n<0?1:-1;return n<0&&!i?(e++,o=-1):n>=0&&i==r.nodeValue.length?(t--,o=1):n<0?t--:e++,at(it(c(r,t,e),o),o<0)}{let t=it(c(r,i,i),n);if(T&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=it(c(r,i-1,i-1),-1);if(e.top==t.top){let n=it(c(r,i,i+1),-1);if(n.top!=t.top)return at(n,n.left<e.left)}}return t}}let a=t.state.doc.resolve(e-(o||0));if(!a.parent.inlineContent){if(null==o&&i&&(n<0||i==p(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return lt(t.getBoundingClientRect(),!1)}if(null==o&&i<p(r)){let t=r.childNodes[i];if(1==t.nodeType)return lt(t.getBoundingClientRect(),!0)}return lt(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==p(r))){let t=r.childNodes[i-1],e=3==t.nodeType?c(t,p(t)-(s?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return at(it(e,1),!1)}if(null==o&&i<p(r)){let t=r.childNodes[i];while(t.pmViewDesc&&t.pmViewDesc.ignoreForCoords)t=t.nextSibling;let e=t?3==t.nodeType?c(t,0,s?0:1):1==t.nodeType?t:null:null;if(e)return at(it(e,-1),!0)}return at(it(3==r.nodeType?c(r):r,-n),n>=0)}function at(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function lt(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function ct(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function ut(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return ct(t,e,(()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.contentDOM||n.dom;break}e=n.dom.parentNode}let r=st(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=c(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}const ht=/[\u0590-\u08ac]/;function dt(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return ht.test(r.parent.textContent)&&a.modify?ct(t,e,(()=>{let{focusNode:e,focusOffset:i,anchorNode:o,anchorOffset:s}=t.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:u,focusOffset:h}=t.domSelectionRange(),d=u&&!c.contains(1==u.nodeType?u:u.parentNode)||e==u&&i==h;try{a.collapse(o,s),e&&(e!=o||i!=s)&&a.extend&&a.extend(e,i)}catch(p){}return null!=l&&(a.caretBidiLevel=l),d})):"left"==n||"backward"==n?o:s}let pt=null,ft=null,mt=!1;function gt(t,e,n){return pt==e&&ft==n?mt:(pt=e,ft=n,mt="up"==n||"down"==n?ut(t,e,n):dt(t,e,n))}const yt=0,bt=1,vt=2,wt=3;class xt{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=yt,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;n=t.previousSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;n=t.nextSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let i=0;n<this.children.length;n++){let e=this.children[n],o=i+e.size;if(o>t||e instanceof Tt){r=t-i;break}i=o}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof _t&&i.side>=0;n--);if(e<=0){let t,r=!0;for(;;n--,r=!1)if(t=n?this.children[n-1]:null,!t||t.dom.parentNode==this.contentDOM)break;return t&&e&&r&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?s(t.dom)+1:0}}{let t,r=!0;for(;;n++,r=!1)if(t=n<this.children.length?this.children[n]:null,!t||t.dom.parentNode==this.contentDOM)break;return t&&r&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?s(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],l=o+n.size;if(-1==r&&t<=l){let i=o+n.border;if(t>=i&&e<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=o;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=s(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let s=0,u=0;s<this.children.length;s++){let a=this.children[s],l=u+a.size;if(i>u&&o<l)return a.setSelection(t-u-a.border,e-u-a.border,n,r);u=l}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=n.getSelection(),h=!1;if((T||D)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if(h=!(!e||"\n"!=t.nodeValue[e-1]),h&&e==t.nodeValue.length)for(let n,r=t;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(a=l={node:n.parentNode,offset:s(n)+1});break}let t=r.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];h=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(T&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let t=c.focusNode.childNodes[c.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||h&&D)&&u(a.node,a.offset,c.anchorNode,c.anchorOffset)&&u(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==e)&&!h){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),d=!0}catch(p){}}if(!d){if(t>e){let t=a;a=l,l=t}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let r=n+i.border,s=o-i.border;if(t>=r&&e<=s)return this.dirty=t==n||e==o?vt:bt,void(t!=r||e!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-r,e-r):i.dirty=wt);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?wt:vt}n=o}this.dirty=vt}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?vt:bt;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class _t extends xt{constructor(t,e,n,r){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return this.dirty==yt&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class kt extends xt{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class St extends xt{constructor(t,e,n,r){super(t,[],n,r),this.mark=e}static create(t,e,n,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,n);return s&&s.dom||(s=i.PW.renderSpec(document,e.type.spec.toDOM(e,n))),new St(t,e,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&wt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=wt&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=yt){let t=this.parent;while(!t.node)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=yt}}slice(t,e,n){let r=St.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;e<o&&(i=Ut(i,e,o,n)),t>0&&(i=Ut(i,0,t,n));for(let s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r}}class Ct extends xt{constructor(t,e,n,r,i,o,s,a,l){super(t,[],i,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(t,e,n,r,o,s){let a,l=o.nodeViews[e.type.name],c=l&&l(e,o,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:s),n,r),u=c&&c.dom,h=c&&c.contentDOM;if(e.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(e.text);else u||({dom:u,contentDOM:h}=i.PW.renderSpec(document,e.type.spec.toDOM(e)));h||e.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),e.type.spec.draggable&&(u.draggable=!0));let d=u;return u=Bt(u,n,e),c?a=new Et(t,e,n,r,u,h||null,d,c,o,s+1):e.isText?new Mt(t,e,n,r,u,d,o):new Ct(t,e,n,r,u,h||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>i.HY.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return this.dirty==yt&&t.eq(this.node)&&Rt(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new zt(this,s&&s.node,t);$t(this.node,this.innerDeco,((e,o,s)=>{e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!s&&l.syncToMarks(o==this.node.childCount?i.vc.none:this.node.child(o).marks,n,t),l.placeWidget(e,t,r)}),((e,i,s,c)=>{let u;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,i,s,c)||a&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,i,s,u,t)||l.updateNextNode(e,i,s,t,c,r)||l.addNode(e,i,s,t,r),r+=e.nodeSize})),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==vt)&&(s&&this.protectLocalComposition(t,s),At(this.contentDOM,this.children,t),N&&Vt(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof r.Bs)||n<e||i>e+this.node.content.size)return null;let o=t.domSelectionRange(),s=Wt(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let t=s.nodeValue,r=qt(this.node.content,t,n-e,i-e);return r<0?null:{node:s,pos:r,text:t}}return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;while(i.previousSibling)i.parentNode.removeChild(i.previousSibling);while(i.nextSibling)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new kt(this,i,e,r);t.input.compositionNodes.push(o),this.children=Ut(this.children,n,n+r.length,t,o)}update(t,e,n,r){return!(this.dirty==wt||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=yt}updateOuterDeco(t){if(Rt(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=It(this.dom,this.nodeDOM,Nt(this.outerDeco,this.node,e),Nt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Ot(t,e,n,r,i){Bt(r,e,t);let o=new Ct(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Mt extends Ct{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,null,o,s,0)}parseRule(){let t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(this.dirty==wt||this.dirty!=yt&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==yt&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=yt,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new Mt(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=wt)}get domAtom(){return!1}}class Tt extends xt{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==yt&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Et extends Ct{constructor(t,e,n,r,i,o,s,a,l,c){super(t,e,n,r,i,o,s,l,c),this.spec=a}update(t,e,n,r){if(this.dirty==wt)return!1;if(this.spec.update){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function At(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){while(a!=r)r=jt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof St){let e=r?r.previousSibling:t.lastChild;At(s.contentDOM,s.children,n),r=e?e.nextSibling:t.firstChild}}while(r)r=jt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Pt=function(t){t&&(this.nodeName=t)};Pt.prototype=Object.create(null);const Dt=[new Pt];function Nt(t,e,n){if(0==t.length)return Dt;let r=n?Dt[0]:new Pt,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Pt(s.nodeName));for(let t in s){let o=s[t];null!=o&&(n&&1==i.length&&i.push(r=new Pt(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+o:"style"==t?r.style=(r.style?r.style+";":"")+o:"nodeName"!=t&&(r[t]=o))}}}return i}function It(t,e,n,r){if(n==Dt&&r==Dt)return e;let i=e;for(let o=0;o<r.length;o++){let e=r[o],s=n[o];if(o){let n;s&&s.nodeName==e.nodeName&&i!=t&&(n=i.parentNode)&&n.nodeName.toLowerCase()==e.nodeName||(n=document.createElement(e.nodeName),n.pmIsDeco=!0,n.appendChild(i),s=Dt[0]),i=n}Lt(i,s||Dt[0],e)}return i}function Lt(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(n=r.exec(e.style))t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function Bt(t,e,n){return It(t,t,Dt,Nt(e,n,1!=t.nodeType))}function Rt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function jt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class zt{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Ht(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,o=Math.min(i,t.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=yt,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<t.length){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){let n=this.top.children[e];if(n.matchesMark(t[i])&&!this.isLocked(n.dom)){r=e;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=St.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let r=this.top.children[s];if(r.matchesNode(t,e,n)&&!this.preMatch.matched.has(r)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,i){let o=this.top.children[r];return o.dirty==wt&&o.dom==o.contentDOM&&(o.dirty=vt),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof Ct){let l=this.preMatch.matched.get(a);if(null!=l&&l!=i)return!1;let c,u=a.dom,h=this.isLocked(u)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=wt&&Rt(e,a.outerDeco));if(!h&&a.update(t,e,n,r))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(c=this.recreateWrapper(a,t,e,n,r,o)))return this.top.children[this.index]=c,c.contentDOM&&(c.dirty=vt,c.updateChildren(r,o+1),c.dirty=yt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,i,o){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content))return null;let s=Ct.create(this.top,e,n,r,i,o);if(s.contentDOM){s.children=t.children,t.children=[];for(let t of s.children)t.parent=s}return t.destroy(),s}addNode(t,e,n,r,i){let o=Ct.create(this.top,t,e,n,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new _t(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;while(t instanceof St)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof Mt)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((D||A)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new Tt(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function Ht(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];t:while(i>0){let a;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof St)){a=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function Ft(t,e){return t.type.side-e.type.side}function $t(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let s=t.child(n);r(s,i,e.forChild(o,s),n),o+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,h,d,p;while(s<i.length&&i[s].to==o){let t=i[s++];t.widget&&(u?(h||(h=[u])).push(t):u=t)}if(u)if(h){h.sort(Ft);for(let t=0;t<h.length;t++)n(h[t],c,!!l)}else n(u,c,!!l);if(l)p=-1,d=l,l=null;else{if(!(c<t.childCount))break;p=c,d=t.child(c++)}for(let t=0;t<a.length;t++)a[t].to<=o&&a.splice(t--,1);while(s<i.length&&i[s].from<=o&&i[s].to>o)a.push(i[s++]);let f=o+d.nodeSize;if(d.isText){let t=f;s<i.length&&i[s].from<t&&(t=i[s].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<f&&(l=d.cut(t-o),d=d.cut(0,t-o),f=t,p=-1)}let m=d.isInline&&!d.isLeaf?a.filter((t=>!t.inline)):a.slice();r(d,m,e.forChild(o,d),p),o=f}}function Vt(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Wt(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=p(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function qt(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;while(i<t.childCount){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;l+=e.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let t=a<r?l.lastIndexOf(e,r-a-1):-1;if(t>=0&&t+e.length+a>=n)return a+t;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ut(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Kt(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l,c,u=i.resolve(a);if(g(n)){l=u;while(o&&!o.node)o=o.parent;let t=o.node;if(o&&t.isAtom&&r.qv.isSelectable(t)&&o.parent&&(!t.isInline||!f(n.focusNode,n.focusOffset,o.dom))){let t=o.posBefore;c=new r.qv(a==t?u:i.resolve(t))}}else{let e=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(e<0)return null;l=i.resolve(e)}if(!c){let n="pointer"==e||t.state.selection.head<u.pos&&!s?1:-1;c=ie(t,l,u,n)}return c}function Yt(t){return t.editable?t.hasFocus():se(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Jt(t,e=!1){let n=t.state.selection;if(ne(t,n),Yt(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&A){let e=t.domSelectionRange(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&u(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ee(t);else{let i,o,{anchor:s,head:a}=n;!Gt||n instanceof r.Bs||(n.$from.parent.inlineContent||(i=Xt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Xt(t,n.to))),t.docView.setSelection(s,a,t.root,e),Gt&&(i&&Qt(i),o&&Qt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&te(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Gt=D||A&&P<63;function Xt(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(D&&i&&"false"==i.contentEditable)return Zt(i);if((!i||"false"==i.contentEditable)&&(!o||"false"==o.contentEditable)){if(i)return Zt(i);if(o)return Zt(o)}}function Zt(t){return t.contentEditable="true",D&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Qt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function te(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{Yt(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}function ee(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,s(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&O&&M<=11&&(r.disabled=!0,r.disabled=!1)}function ne(t,e){if(e instanceof r.qv){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(re(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else re(t)}function re(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ie(t,e,n,i){return t.someProp("createSelectionBetween",(r=>r(t,e,n)))||r.Bs.between(e,n,i)}function oe(t){return!(t.editable&&!t.hasFocus())&&se(t)}function se(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function ae(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return u(e.node,e.offset,n.anchorNode,n.anchorOffset)}function le(t,e){let{$anchor:n,$head:i}=t.selection,o=e>0?n.max(i):n.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&r.Y1.findFrom(s,e)}function ce(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ue(t,e,n){let i=t.state.selection;if(!(i instanceof r.Bs)){if(i instanceof r.qv&&i.node.isInline)return ce(t,new r.Bs(e>0?i.$to:i.$from));{let n=le(t.state,e);return!!n&&ce(t,n)}}if(n.indexOf("s")>-1){let{$head:n}=i,o=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(n.pos+o.nodeSize*(e<0?-1:1));return ce(t,new r.Bs(i.$anchor,s))}if(!i.empty)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let n=le(t.state,e);return!!(n&&n instanceof r.qv)&&ce(t,n)}if(!(I&&n.indexOf("m")>-1)){let n,o=i.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return!!(s.isAtom||(n=t.docView.descAt(a))&&!n.contentDOM)&&(r.qv.isSelectable(s)?ce(t,new r.qv(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):!!R&&ce(t,new r.Bs(t.state.doc.resolve(e<0?a:a+s.nodeSize))))}}function he(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function de(t,e){let n=t.pmViewDesc;return n&&0==n.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function pe(t,e){return e<0?fe(t):me(t)}function fe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(T&&1==n.nodeType&&r<he(n)&&de(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if(de(t,-1))i=n,o=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(ge(n))break;{let e=n.previousSibling;while(e&&de(e,-1))i=n.parentNode,o=s(e),e=e.previousSibling;if(e)n=e,r=he(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?ve(t,n,r):i&&ve(t,i,o)}function me(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=he(n);for(;;)if(r<a){if(1!=n.nodeType)break;let t=n.childNodes[r];if(!de(t,1))break;i=n,o=++r}else{if(ge(n))break;{let e=n.nextSibling;while(e&&de(e,1))i=e.parentNode,o=s(e)+1,e=e.nextSibling;if(e)n=e,r=0,a=he(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}}i&&ve(t,i,o)}function ge(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ye(t,e){while(t&&e==t.childNodes.length&&!m(t))e=s(t)+1,t=t.parentNode;while(t&&e<t.childNodes.length){let n=t.childNodes[e];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=n,e=0}}function be(t,e){while(t&&!e&&!m(t))e=s(t),t=t.parentNode;while(t&&e){let n=t.childNodes[e-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=n,e=t.childNodes.length}}function ve(t,e,n){if(3!=e.nodeType){let t,r;(r=ye(e,n))?(e=r,n=0):(t=be(e,n))&&(e=t,n=t.nodeValue.length)}let r=t.domSelection();if(g(r)){let t=document.createRange();t.setEnd(e,n),t.setStart(e,n),r.removeAllRanges(),r.addRange(t)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout((()=>{t.state==i&&Jt(t)}),50)}function we(t,e){let n=t.state.doc.resolve(e);if(!A&&!L&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let n=t.coordsAtPos(e-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(e<n.end()){let n=t.coordsAtPos(e+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}let r=getComputedStyle(t.dom).direction;return"rtl"==r?"rtl":"ltr"}function xe(t,e,n){let i=t.state.selection;if(i instanceof r.Bs&&!i.empty||n.indexOf("s")>-1)return!1;if(I&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=i;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=le(t.state,e);if(n&&n instanceof r.qv)return ce(t,n)}if(!o.parent.inlineContent){let n=e<0?o:s,a=i instanceof r.C1?r.Y1.near(n,e):r.Y1.findFrom(n,e);return!!a&&ce(t,a)}return!1}function _e(t,e){if(!(t.state.selection instanceof r.Bs))return!0;let{$head:n,$anchor:i,empty:o}=t.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=t.state.tr;return e<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),t.dispatch(r),!0}return!1}function ke(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Se(t){if(!D||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;ke(t,n,"true"),setTimeout((()=>ke(t,n,"false")),20)}return!1}function Ce(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Oe(t,e){let n=e.keyCode,r=Ce(e);if(8==n||I&&72==n&&"c"==r)return _e(t,-1)||pe(t,-1);if(46==n&&!e.shiftKey||I&&68==n&&"c"==r)return _e(t,1)||pe(t,1);if(13==n||27==n)return!0;if(37==n||I&&66==n&&"c"==r){let e=37==n?"ltr"==we(t,t.state.selection.from)?-1:1:-1;return ue(t,e,r)||pe(t,e)}if(39==n||I&&70==n&&"c"==r){let e=39==n?"ltr"==we(t,t.state.selection.from)?1:-1:1;return ue(t,e,r)||pe(t,e)}return 38==n||I&&80==n&&"c"==r?xe(t,-1,r)||pe(t,-1):40==n||I&&78==n&&"c"==r?Se(t)||xe(t,1,r)||pe(t,1):r==(I?"m":"c")&&(66==n||73==n||89==n||90==n)}function Me(t,e){t.someProp("transformCopied",(n=>{e=n(e,t)}));let n=[],{content:r,openStart:o,openEnd:s}=e;while(o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount){o--,s--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let a=t.someProp("clipboardSerializer")||i.PW.fromSchema(t.state.schema),l=je(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u,h=c.firstChild,d=0;while(h&&1==h.nodeType&&(u=Be[h.nodeName.toLowerCase()])){for(let t=u.length-1;t>=0;t--){let e=l.createElement(u[t]);while(c.firstChild)e.appendChild(c.firstChild);c.appendChild(e),d++}h=c.firstChild}h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${o} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",(n=>n(e,t)))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:c,text:p}}function Te(t,e,n,r,o){let s,a,l=o.parent.type.spec.code;if(!n&&!e)return null;let c=e&&(r||l||!n);if(c){if(t.someProp("transformPastedText",(n=>{e=n(e,l||r,t)})),l)return e?new i.p2(i.HY.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):i.p2.empty;let n=t.someProp("clipboardTextParser",(n=>n(e,o,r,t)));if(n)a=n;else{let n=o.marks(),{schema:r}=t.state,a=i.PW.fromSchema(r);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=s.appendChild(document.createElement("p"));t&&e.appendChild(a.serializeNode(r.text(t,n)))}))}}else t.someProp("transformPastedHTML",(e=>{n=e(n,t)})),s=ze(n),R&&He(s);let u=s&&s.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let i=+h[3];i>0;i--){let t=s.firstChild;while(t&&1!=t.nodeType)t=t.nextSibling;if(!t)break;s=t}if(!a){let e=t.someProp("clipboardParser")||t.someProp("domParser")||i.aw.fromSchema(t.state.schema);a=e.parseSlice(s,{preserveWhitespace:!(!c&&!h),context:o,ruleFromNode(t){return"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Ee.test(t.parentNode.nodeName)?null:{ignore:!0}}})}if(h)a=Fe(Le(a,+h[1],+h[2]),h[4]);else if(a=i.p2.maxOpen(Ae(a.content,o),!0),a.openStart||a.openEnd){let t=0,e=0;for(let n=a.content.firstChild;t<a.openStart&&!n.type.spec.isolating;t++,n=n.firstChild);for(let n=a.content.lastChild;e<a.openEnd&&!n.type.spec.isolating;e++,n=n.lastChild);a=Le(a,t,e)}return t.someProp("transformPasted",(e=>{a=e(a,t)})),a}const Ee=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ae(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,o=e.node(n),s=o.contentMatchAt(e.index(n)),a=[];if(t.forEach((t=>{if(!a)return;let e,n=s.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&r.length&&De(n,r,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=Ne(a[a.length-1],r.length));let e=Pe(t,n);a.push(e),s=s.matchType(e.type),r=n}})),a)return i.HY.from(a)}return t}function Pe(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,i.HY.from(t));return t}function De(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=De(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));let a=r.contentMatchAt(r.childCount);if(a.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i.HY.from(Pe(n,t,o+1))))}}function Ne(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,Ne(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i.HY.empty,!0);return t.copy(n.append(r))}function Ie(t,e,n,r,o,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),o<r-1&&(l=Ie(l,e,n,r,o+1,s)),o>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(i.HY.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function Le(t,e,n){return e<t.openStart&&(t=new i.p2(Ie(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i.p2(Ie(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Be={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Re=null;function je(){return Re||(Re=document.implementation.createHTMLDocument("title"))}function ze(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=je().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);if((n=i&&Be[i[1].toLowerCase()])&&(t=n.map((t=>"<"+t+">")).join("")+t+n.map((t=>"</"+t+">")).reverse().join("")),r.innerHTML=t,n)for(let o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function He(t){let e=t.querySelectorAll(A?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Fe(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(l){return t}let{content:o,openStart:s,openEnd:a}=t;for(let c=n.length-2;c>=0;c-=2){let t=r.nodes[n[c]];if(!t||t.hasRequiredAttrs())break;o=i.HY.from(t.create(n[c+1],o)),s++,a++}return new i.p2(o,s,a)}const $e={},Ve={},We={touchstart:!0,touchmove:!0};class qe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ue(t){for(let e in $e){let n=$e[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!Xe(t,e)||Ge(t,e)||!t.editable&&e.type in Ve||n(t,e)},We[e]?{passive:!0}:void 0)}D&&t.dom.addEventListener("input",(()=>null)),Je(t)}function Ke(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Ye(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Je(t){t.someProp("handleDOMEvents",(e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>Ge(t,e))}))}function Ge(t,e){return t.someProp("handleDOMEvents",(n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function Xe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Ze(t,e){Ge(t,e)||!$e[e.type]||!t.editable&&e.type in Ve||$e[e.type](t,e)}function Qe(t){return{left:t.clientX,top:t.clientY}}function tn(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function en(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,(e=>s>o.depth?e(t,n,o.nodeAfter,o.before(s),i,!0):e(t,n,o.node(s),o.before(s),i,!1))))return!0;return!1}function nn(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function rn(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.qv.isSelectable(i))&&(nn(t,new r.qv(n),"pointer"),!0)}function on(t,e){if(-1==e)return!1;let n,i,o=t.state.selection;o instanceof r.qv&&(n=o.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let t=a>s.depth?s.nodeAfter:s.node(a);if(r.qv.isSelectable(t)){i=n&&o.$from.depth>0&&a>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(a);break}}return null!=i&&(nn(t,r.qv.create(t.state.doc,i),"pointer"),!0)}function sn(t,e,n,r,i){return en(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(n=>n(t,e,r)))||(i?on(t,n):rn(t,n))}function an(t,e,n,r){return en(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(n=>n(t,e,r)))}function ln(t,e,n,r){return en(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(n=>n(t,e,r)))||cn(t,n,r)}function cn(t,e,n){if(0!=n.button)return!1;let i=t.state.doc;if(-1==e)return!!i.inlineContent&&(nn(t,r.Bs.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(e);for(let s=o.depth+1;s>0;s--){let e=s>o.depth?o.nodeAfter:o.node(s),n=o.before(s);if(e.inlineContent)nn(t,r.Bs.create(i,n+1,n+1+e.content.size),"pointer");else{if(!r.qv.isSelectable(e))continue;nn(t,r.qv.create(i,n),"pointer")}return!0}}function un(t){return bn(t)}Ve.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!pn(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!B||!A||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!N||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(e=>e(t,n)))||Oe(t,n)?n.preventDefault():Ke(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,y(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},Ve.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},Ve.keypress=(t,e)=>{let n=e;if(pn(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||I&&n.metaKey)return;if(t.someProp("handleKeyPress",(e=>e(t,n))))return void n.preventDefault();let i=t.state.selection;if(!(i instanceof r.Bs)||!i.$from.sameParent(i.$to)){let e=String.fromCharCode(n.charCode);/[\r\n]/.test(e)||t.someProp("handleTextInput",(n=>n(t,i.$from.pos,i.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}};const hn=I?"metaKey":"ctrlKey";$e.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=un(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&tn(n,t.input.lastClick)&&!n[hn]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Qe(n));s&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new dn(t,s,n,!!r)):("doubleClick"==o?an:ln)(t,s.pos,s.inside,n)?n.preventDefault():Ke(t,"pointer"))};class dn{constructor(t,e,n,i){let o,s;if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[hn],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let n=t.state.doc.resolve(e.pos);o=n.parent,s=n.depth?n.before():0}const a=i?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof r.qv&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!T||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ke(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Jt(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Qe(t))),this.updateAllowDefault(t),this.allowDefault||!e?Ke(this.view,"pointer"):sn(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||D&&this.mightDrag&&!this.mightDrag.node.isAtom||A&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(nn(this.view,r.Y1.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Ke(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ke(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function pn(t,e){return!!t.composing||!!(D&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}$e.touchstart=t=>{t.input.lastTouch=Date.now(),un(t),Ke(t,"pointer")},$e.touchmove=t=>{t.input.lastTouch=Date.now(),Ke(t,"pointer")},$e.contextmenu=t=>un(t);const fn=B?5e3:-1;function mn(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>bn(t)),e))}function gn(t){t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=yn());while(t.input.compositionNodes.length>0)t.input.compositionNodes.pop().markParentsDirty()}function yn(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function bn(t,e=!1){if(!(B&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gn(t),e||t.docView&&t.docView.dirty){let e=Kt(t);return e&&!e.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(e)):t.updateState(t.state),!0}return!1}}function vn(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}Ve.compositionstart=Ve.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||n.marks(),bn(t,!0),t.markCursor=null;else if(bn(t),T&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange();for(let n=e.focusNode,r=e.focusOffset;n&&1==n.nodeType&&0!=r;){let e=r<0?n.lastChild:n.childNodes[r-1];if(!e)break;if(3==e.nodeType){t.domSelection().collapse(e,e.nodeValue.length);break}n=e,r=-1}}t.input.composing=!0}mn(t,fn)},Ve.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then((()=>t.domObserver.flush())),t.input.compositionID++,mn(t,20))};const wn=O&&M<15||N&&j<604;function xn(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function _n(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout((()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?kn(t,r.value,null,i,e):kn(t,r.textContent,r.innerHTML,i,e)}),50)}function kn(t,e,n,r,o){let s=Te(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",(e=>e(t,o,s||i.p2.empty))))return!0;if(!s)return!1;let a=xn(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Sn(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$e.copy=Ve.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=wn?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Me(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):vn(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Ve.paste=(t,e)=>{let n=e;if(t.composing&&!B)return;let r=wn?null:n.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&kn(t,Sn(r),r.getData("text/html"),i,n)?n.preventDefault():_n(t,n)};class Cn{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}}const On=I?"altKey":"ctrlKey";$e.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o,s=t.state.selection,a=s.empty?null:t.posAtCoords(Qe(n));if(a&&a.pos>=s.from&&a.pos<=(s instanceof r.qv?s.to-1:s.to));else if(i&&i.mightDrag)o=r.qv.create(t.state.doc,i.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&(o=r.qv.create(t.state.doc,e.posBefore))}let l=(o||t.state.selection).content(),{dom:c,text:u}=Me(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(wn?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",wn||n.dataTransfer.setData("text/plain",u),t.dragging=new Cn(l,!n[On],o)},$e.dragend=t=>{let e=t.dragging;window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},Ve.dragover=Ve.dragenter=(t,e)=>e.preventDefault(),Ve.drop=(t,e)=>{let n=e,s=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let a=t.posAtCoords(Qe(n));if(!a)return;let l=t.state.doc.resolve(a.pos),c=s&&s.slice;c?t.someProp("transformPasted",(e=>{c=e(c,t)})):c=Te(t,Sn(n.dataTransfer),wn?null:n.dataTransfer.getData("text/html"),!1,l);let u=!(!s||n[On]);if(t.someProp("handleDrop",(e=>e(t,n,c||i.p2.empty,u))))return void n.preventDefault();if(!c)return;n.preventDefault();let h=c?(0,o.nj)(t.state.doc,l.pos,c):l.pos;null==h&&(h=l.pos);let d=t.state.tr;if(u){let{node:t}=s;t?t.replace(d):d.deleteSelection()}let p=d.mapping.map(h),f=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=d.doc;if(f?d.replaceRangeWith(p,p,c.content.firstChild):d.replaceRange(p,p,c),d.doc.eq(m))return;let g=d.doc.resolve(p);if(f&&r.qv.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new r.qv(g));else{let e=d.mapping.map(h);d.mapping.maps[d.mapping.maps.length-1].forEach(((t,n,r,i)=>e=i)),d.setSelection(ie(t,g,d.doc.resolve(e)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))},$e.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Jt(t)}),20))},$e.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},$e.beforeinput=(t,e)=>{let n=e;if(A&&B&&"deleteContentBackward"==n.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout((()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,y(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let vr in Ve)$e[vr]=Ve[vr];function Mn(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Tn{constructor(t,e){this.toDOM=t,this.spec=e||Nn,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new Pn(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof Tn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Mn(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class En{constructor(t,e){this.attrs=t,this.spec=e||Nn}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Pn(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof En&&Mn(this.attrs,t.attrs)&&Mn(this.spec,t.spec)}static is(t){return t.type instanceof En}destroy(){}}class An{constructor(t,e){this.attrs=t,this.spec=e||Nn}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Pn(i.pos-n,o.pos-n,this)}valid(t,e){let n,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(n=t.child(r)).isText&&i+n.nodeSize==e.to}eq(t){return this==t||t instanceof An&&Mn(this.attrs,t.attrs)&&Mn(this.spec,t.spec)}destroy(){}}class Pn{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new Pn(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new Pn(t,t,new Tn(e,n))}static inline(t,e,n,r){return new Pn(t,e,new En(n,r))}static node(t,e,n,r){return new Pn(t,e,new An(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof En}get widget(){return this.type instanceof Tn}}const Dn=[],Nn={};class In{constructor(t,e){this.local=t.length?t:Dn,this.children=e.length?e:Dn}static create(t,e){return e.length?$n(e,t,0,Nn):Ln}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let s=this.children[o]+1;this.children[o+2].findInner(t-s,e-s,n,r+s,i)}}map(t,e,n){return this==Ln||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Nn)}mapInner(t,e,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?Rn(this.children,o||[],t,e,n,r,i):o?new In(o.sort(Vn),Dn):Ln}add(t,e){return e.length?this==Ln?In.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach(((t,o)=>{let s,a=o+n;if(s=Hn(e,t,a)){r||(r=this.children.slice());while(i<r.length&&r[i]<o)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(t,s,a+1):r.splice(i,0,o,o+t.nodeSize,$n(s,t,a+1,Nn)),i+=3}}));let o=jn(i?Fn(e):e,-n);for(let s=0;s<o.length;s++)o[s].type.valid(t,o[s])||o.splice(s--,1);return new In(o.length?this.local.concat(o).sort(Vn):this.local,r||this.children)}remove(t){return 0==t.length||this==Ln?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+e,s=n[i+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<s&&(t[n]=null,(r||(r=[])).push(e));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[i+2].removeInner(r,o+1);a!=Ln?n[i+2]=a:(n.splice(i,3),i-=3)}if(r.length)for(let i,o=0;o<t.length;o++)if(i=t[o])for(let t=0;t<r.length;t++)r[t].eq(i,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new In(r,n):Ln}forChild(t,e){if(this==Ln)return this;if(e.isLeaf)return In.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let i=t+1,o=i+e.content.size;for(let s=0;s<this.local.length;s++){let t=this.local[s];if(t.from<o&&t.to>i&&t.type instanceof En){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let t=new In(r.sort(Vn),Dn);return n?new Bn([t,n]):t}return n||Ln}eq(t){if(this==t)return!0;if(!(t instanceof In)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Wn(this.localsInner(t))}localsInner(t){if(this==Ln)return Dn;if(t.inlineContent||!this.local.some(En.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof En||e.push(this.local[n]);return e}}In.empty=new In([],[]),In.removeOverlap=Wn;const Ln=In.empty;class Bn{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,Nn)));return Bn.from(n)}forChild(t,e){if(e.isLeaf)return In.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=Ln&&(i instanceof Bn?n=n.concat(i.members):n.push(i))}return Bn.from(n)}eq(t){if(!(t instanceof Bn)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?Wn(n?e:e.sort(Vn)):Dn}static from(t){switch(t.length){case 0:return Ln;case 1:return t[0];default:return new Bn(t.every((t=>t instanceof In))?t:t.reduce(((t,e)=>t.concat(e instanceof In?e:e.members)),[]))}}}function Rn(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let t=0;n.maps[c].forEach(((e,n,r,o)=>{let s=o-r-(n-e);for(let l=0;l<a.length;l+=3){let o=a[l+1];if(o<0||e>o+u-t)continue;let c=a[l]+u-t;n>=c?a[l+1]=e<=c?-2:-1:r>=i&&s&&(a[l]+=s,a[l+1]+=s)}t+=s})),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let e=n.map(t[c]+o),u=e-i;if(u<0||u>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+o,-1),d=h-i,{index:p,offset:f}=r.content.findIndex(u),m=r.maybeChild(p);if(m&&f==u&&f+m.nodeSize==d){let r=a[c+2].mapInner(n,m,e+1,t[c]+o+1,s);r!=Ln?(a[c]=u,a[c+1]=d,a[c+2]=r):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=zn(a,t,e,n,i,o,s),c=$n(l,r,0,s);e=c.local;for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3);for(let t=0,e=0;t<c.children.length;t+=3){let n=c.children[t];while(e<a.length&&a[e]<n)e+=3;a.splice(e,0,c.children[t],c.children[t+1],c.children[t+2])}}return new In(e.sort(Vn),a)}function jn(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Pn(i.from+e,i.to+e,i.type))}return n}function zn(t,e,n,r,i,o,s){function a(t,e){for(let o=0;o<t.local.length;o++){let a=t.local[o].map(r,i,e);a?n.push(a):s.onRemove&&s.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)a(t.children[n+2],t.children[n]+e+1)}for(let l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+o+1);return n}function Hn(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o,s=0;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function Fn(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function $n(t,e,n,r){let i=[],o=!1;e.forEach(((e,s)=>{let a=Hn(t,e,s+n);if(a){o=!0;let t=$n(a,e,n+s+1,r);t!=Ln&&i.push(s,s+e.nodeSize,t)}}));let s=jn(o?Fn(t):t,-n).sort(Vn);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new In(s,i):Ln}function Vn(t,e){return t.from-e.from||t.to-e.to}function Wn(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),qn(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),qn(e,i+1,o.copy(r.to,o.to)))}}return e}function qn(t,e,n){while(e<t.length&&Vn(n,t[e])>0)e++;t.splice(e,0,n)}function Un(t){let e=[];return t.someProp("decorations",(n=>{let r=n(t.state);r&&r!=Ln&&e.push(r)})),t.cursorWrapper&&e.push(In.create(t.state.doc,[t.cursorWrapper.deco])),Bn.from(e)}const Kn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Yn=O&&M<=11;class Jn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Gn{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Jn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);O&&M<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Yn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Kn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(oe(this.view)){if(this.suppressingSelectionUpdates)return Jt(this.view);if(O&&M<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,n=new Set;for(let i=t.focusNode;i;i=a(i))n.add(i);for(let i=t.anchorNode;i;i=a(i))if(n.has(i)){e=i;break}let r=e&&this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&oe(t)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let r=0;r<e.length;r++){let t=this.registerMutation(e[r],l);t&&(o=o<0?t.from:Math.min(t.from,o),s=s<0?t.to:Math.max(t.to,s),t.typeOver&&(a=!0))}if(T&&l.length>1){let t=l.filter((t=>"BR"==t.nodeName));if(2==t.length){let e=t[0],n=t[1];e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&g(n)&&(c=Kt(t))&&c.eq(r.Y1.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Jt(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),Qn(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Jt(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(O&&M<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==t.target?s(r)+1:0,a=n.localPosFromDOM(t.target,o,-1),l=i&&i.parentNode==t.target?s(i):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:a,to:c}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Xn=new WeakMap,Zn=!1;function Qn(t){if(!Xn.has(t)&&(Xn.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))){if(t.requiresGeckoHackNode=T,Zn)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Zn=!0}}function tr(t){let e;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return u(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function er(t,e,n){let r,{node:o,fromOffset:s,toOffset:a,from:l,to:c}=t.docView.parseRange(e,n),u=t.domSelectionRange(),h=u.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:u.anchorOffset}],g(u)||r.push({node:u.focusNode,offset:u.focusOffset})),A&&8===t.input.lastKeyCode)for(let i=a;i>s;i--){let t=o.childNodes[i-1],e=t.pmViewDesc;if("BR"==t.nodeName&&!e){a=i;break}if(!e||e.size)break}let d=t.state.doc,p=t.someProp("domParser")||i.aw.fromSchema(t.state.schema),f=d.resolve(l),m=null,y=p.parse(o,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:nr,context:f});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),m={anchor:t+l,head:e+l}}return{doc:y,sel:m,from:l,to:c}}function nr(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(D&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||D&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const rr=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ir(t,e,n,i,o){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=Kt(t,e);if(n&&!t.state.selection.eq(n)){if(A&&B&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",(e=>e(t,y(13,"Enter")))))return;let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),s&&r.setMeta("composition",s),t.dispatch(r)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c,u,h=t.state.selection,d=er(t,e,n),p=t.state.doc,f=p.slice(d.from,d.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(c=t.state.selection.to,u="end"):(c=t.state.selection.from,u="start"),t.input.lastKeyCode=null;let m=cr(f.content,d.doc.content,d.from,c,u);if((N&&t.input.lastIOSEnter>Date.now()-225||B)&&o.some((t=>1==t.nodeType&&!rr.test(t.nodeName)))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",(e=>e(t,y(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(!m){if(!(i&&h instanceof r.Bs&&!h.empty&&h.$head.sameParent(h.$anchor))||t.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let e=or(t,t.state.doc,d.sel);if(e&&!e.eq(t.state.selection)){let n=t.state.tr.setSelection(e);s&&n.setMeta("composition",s),t.dispatch(n)}}return}m={start:h.from,endA:h.to,endB:h.to}}if(A&&t.cursorWrapper&&d.sel&&d.sel.anchor==t.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let t=m.endB-m.start;d.sel={anchor:d.sel.anchor+t,head:d.sel.anchor+t}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof r.Bs&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),O&&M<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&" "==d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)&&(m.start--,m.endA--,m.endB--);let g,b=d.doc.resolveNoCache(m.start-d.from),v=d.doc.resolveNoCache(m.endB-d.from),w=p.resolve(m.start),x=b.sameParent(v)&&b.parent.inlineContent&&w.end()>=m.endA;if((N&&t.input.lastIOSEnter>Date.now()-225&&(!x||o.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!x&&b.pos<d.doc.content.size&&!b.sameParent(v)&&(g=r.Y1.findFrom(d.doc.resolve(b.pos+1),1,!0))&&g.head==v.pos)&&t.someProp("handleKeyDown",(e=>e(t,y(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>m.start&&ar(p,m.start,m.endA,b,v)&&t.someProp("handleKeyDown",(e=>e(t,y(8,"Backspace")))))return void(B&&A&&t.domObserver.suppressSelectionUpdates());A&&B&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),B&&!x&&b.start()!=v.start()&&0==v.parentOffset&&b.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,v=d.doc.resolveNoCache(m.endB-d.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,y(13,"Enter"))}))}),20));let _,k,S,C=m.start,T=m.endA;if(x)if(b.pos==v.pos)O&&M<=11&&0==b.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>Jt(t)),20)),_=t.state.tr.delete(C,T),k=p.resolve(m.start).marksAcross(p.resolve(m.endA));else if(m.endA==m.endB&&(S=sr(b.parent.content.cut(b.parentOffset,v.parentOffset),w.parent.content.cut(w.parentOffset,m.endA-w.start()))))_=t.state.tr,"add"==S.type?_.addMark(C,T,S.mark):_.removeMark(C,T,S.mark);else if(b.parent.child(b.index()).isText&&b.index()==v.index()-(v.textOffset?0:1)){let e=b.parent.textBetween(b.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",(n=>n(t,C,T,e))))return;_=t.state.tr.insertText(e,C,T)}if(_||(_=t.state.tr.replace(C,T,d.doc.slice(m.start-d.from,m.endB-d.from))),d.sel){let e=or(t,_.doc,d.sel);e&&!(A&&B&&t.composing&&e.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==C||e.head==_.mapping.map(T)-1)||O&&e.empty&&e.head==C)&&_.setSelection(e)}k&&_.ensureMarks(k),s&&_.setMeta("composition",s),t.dispatch(_.scrollIntoView())}function or(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ie(t,e.resolve(n.anchor),e.resolve(n.head))}function sr(t,e){let n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,l=s,c=a;for(let i=0;i<a.length;i++)l=a[i].removeFromSet(l);for(let i=0;i<s.length;i++)c=s[i].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",o=t=>t.mark(r.addToSet(t.marks));else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",o=t=>t.mark(r.removeFromSet(t.marks))}let u=[];for(let i=0;i<e.childCount;i++)u.push(o(e.child(i)));if(i.HY.from(u).eq(t))return{mark:r,type:n}}function ar(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||lr(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(lr(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||lr(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function lr(t,e,n){let r=t.depth,i=e?t.end():t.pos;while(r>0&&(e||t.indexAfter(r)==t.node(r).childCount))r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));while(e&&!e.isLeaf)e=e.firstChild,i++}return i}function cr(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i){let t=Math.max(0,o-Math.min(s,a));r-=s+t-o}if(s<o&&t.size<e.size){let t=r<=o&&r>=s?o-r:0;o-=t,o&&o<e.size&&ur(e.textBetween(o-1,o+1))&&(o+=t?1:-1),a=o+(a-s),s=o}else if(a<o){let e=r<=o&&r>=a?o-r:0;o-=e,o&&o<t.size&&ur(t.textBetween(o-1,o+1))&&(o+=e?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function ur(t){if(2!=t.length)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class hr{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new qe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(br),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=fr(this),pr(this),this.nodeViews=gr(this),this.docView=Ot(this.state.doc,dr(this),Un(this),this.dom,this),this.domObserver=new Gn(this,((t,e,n,r)=>ir(this,t,e,n,r))),this.domObserver.start(),Ue(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Je(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(br),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(gn(this),o=!0),this.state=t;let s=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=gr(this);yr(t,this.nodeViews)&&(this.nodeViews=t,i=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&Je(this),this.editable=fr(this),pr(this);let a=Un(this),l=dr(this),c=r.plugins==t.plugins||r.doc.eq(t.doc)?t.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=i||!this.docView.matchesNode(t.doc,l,a);!u&&t.selection.eq(r.selection)||(o=!0);let h="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&V(this);if(o){this.domObserver.stop();let e=u&&(O||A)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&mr(r.selection,t.selection);if(u){let n=A?this.trackWrites=this.domSelectionRange().focusNode:null;!i&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ot(t.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ae(this))?Jt(this,e):(ne(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():h&&q(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof r.qv){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&$(this,e.getBoundingClientRect(),t)}else $(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}updateDraggedNode(t,e){let n=t.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let t=n.from+(this.state.doc.content.size-e.doc.content.size),r=t>0&&this.state.doc.nodeAt(t);r==n.node&&(i=t)}this.dragging=new Cn(t.slice,t.move,i<0?void 0:r.qv.create(this.state.doc,i))}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[t];if(null!=r&&(n=e?e(r):r))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let r=i[o].props[t];if(null!=r&&(n=e?e(r):r))return n}}hasFocus(){if(O){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;while(t&&this.dom!=t&&this.dom.contains(t)){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Y(this.dom),Jt(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}updateRoot(){this._root=null}posAtCoords(t){return nt(this,t)}coordsAtPos(t,e=1){return st(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return gt(this,e||this.state,t)}pasteHTML(t,e){return kn(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return kn(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(Ye(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Un(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return Ze(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return D&&11===this.root.nodeType&&b(this.dom.ownerDocument)==this.dom?tr(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function dr(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t?e.class+=" "+n[t]:"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))})),e.translate||(e.translate="no"),[Pn.node(0,t.state.doc.content.size,e)]}function pr(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Pn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function fr(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function mr(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function gr(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function yr(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function br(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}}}]);